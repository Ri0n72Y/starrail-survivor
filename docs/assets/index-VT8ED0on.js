const __vite__fileDeps=["assets/browserAll-CmEXrioD.js","assets/webworkerAll-DWbmyWte.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var dE={exports:{}},np={},fE={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),Mk=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),Nk=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Bk=Symbol.for("react.context"),Lk=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Dk=Symbol.for("react.memo"),Uk=Symbol.for("react.lazy"),vw=Symbol.iterator;function $k(e){return e===null||typeof e!="object"?null:(e=vw&&e[vw]||e["@@iterator"],typeof e=="function"?e:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mE=Object.assign,gE={};function Tl(e,t,r){this.props=e,this.context=t,this.refs=gE,this.updater=r||pE}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yE(){}yE.prototype=Tl.prototype;function Yv(e,t,r){this.props=e,this.context=t,this.refs=gE,this.updater=r||pE}var qv=Yv.prototype=new yE;qv.constructor=Yv;mE(qv,Tl.prototype);qv.isPureReactComponent=!0;var _w=Array.isArray,vE=Object.prototype.hasOwnProperty,Qv={current:null},_E={key:!0,ref:!0,__self:!0,__source:!0};function xE(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vE.call(t,n)&&!_E.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ph,type:e,key:s,ref:o,props:i,_owner:Qv.current}}function zk(e,t){return{$$typeof:Ph,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ph}function Gk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xw=/\/+/g;function rg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gk(""+e.key):t.toString(36)}function Pd(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ph:case Rk:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+rg(o,0):n,_w(i)?(r="",e!=null&&(r=e.replace(xw,"$&/")+"/"),Pd(i,t,r,"",function(c){return c})):i!=null&&(Kv(i)&&(i=zk(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",_w(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+rg(s,a);o+=Pd(s,t,r,u,i)}else if(u=$k(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+rg(s,a++),o+=Pd(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mc(e,t,r){if(e==null)return e;var n=[],i=0;return Pd(e,n,"","",function(s){return t.call(r,s,i++)}),n}function jk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Id={transition:null},Hk={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:Qv};function wE(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Mc,forEach:function(e,t,r){Mc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mc(e,function(){t++}),t},toArray:function(e){return Mc(e,function(t){return t})||[]},only:function(e){if(!Kv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Tl;kt.Fragment=Mk;kt.Profiler=Nk;kt.PureComponent=Yv;kt.StrictMode=kk;kt.Suspense=Ok;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hk;kt.act=wE;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mE({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Qv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)vE.call(t,u)&&!_E.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Ph,type:e.type,key:i,ref:s,props:n,_owner:o}};kt.createContext=function(e){return e={$$typeof:Bk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fk,_context:e},e.Consumer=e};kt.createElement=xE;kt.createFactory=function(e){var t=xE.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:Lk,render:e}};kt.isValidElement=Kv;kt.lazy=function(e){return{$$typeof:Uk,_payload:{_status:-1,_result:e},_init:jk}};kt.memo=function(e,t){return{$$typeof:Dk,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};kt.unstable_act=wE;kt.useCallback=function(e,t){return wr.current.useCallback(e,t)};kt.useContext=function(e){return wr.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};kt.useEffect=function(e,t){return wr.current.useEffect(e,t)};kt.useId=function(){return wr.current.useId()};kt.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return wr.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};kt.useRef=function(e){return wr.current.useRef(e)};kt.useState=function(e){return wr.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return wr.current.useTransition()};kt.version="18.3.1";fE.exports=kt;var Ht=fE.exports;const cr=Ki(Ht);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=Ht,Vk=Symbol.for("react.element"),Xk=Symbol.for("react.fragment"),Yk=Object.prototype.hasOwnProperty,qk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qk={key:!0,ref:!0,__self:!0,__source:!0};function bE(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Yk.call(t,n)&&!Qk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Vk,type:e,key:s,ref:o,props:i,_owner:qk.current}}np.Fragment=Xk;np.jsx=bE;np.jsxs=bE;dE.exports=np;var _t=dE.exports,Uy={},SE={exports:{}},Qr={},AE={exports:{}},EE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var k=R.length;R.push(L);t:for(;0<k;){var G=k-1>>>1,V=R[G];if(0<i(V,L))R[G]=L,R[k]=V,k=G;else break t}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],k=R.pop();if(k!==L){R[0]=k;t:for(var G=0,V=R.length,ot=V>>>1;G<ot;){var st=2*(G+1)-1,yt=R[st],pt=st+1,bt=R[pt];if(0>i(yt,k))pt<V&&0>i(bt,yt)?(R[G]=bt,R[pt]=k,G=pt):(R[G]=yt,R[st]=k,G=st);else if(pt<V&&0>i(bt,k))R[G]=bt,R[pt]=k,G=pt;else break t}}return L}function i(R,L){var k=R.sortIndex-L.sortIndex;return k!==0?k:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,g=!1,v=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=R)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function T(R){if(x=!1,w(R),!v)if(r(u)!==null)v=!0,H(M);else{var L=r(c);L!==null&&W(T,L.startTime-R)}}function M(R,L){v=!1,x&&(x=!1,b(I),I=-1),g=!0;var k=m;try{for(w(L),f=r(u);f!==null&&(!(f.expirationTime>L)||R&&!Y());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var V=G(f.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(u)&&n(u),w(L)}else n(u);f=r(u)}if(f!==null)var ot=!0;else{var st=r(c);st!==null&&W(T,st.startTime-L),ot=!1}return ot}finally{f=null,m=k,g=!1}}var N=!1,C=null,I=-1,B=5,F=-1;function Y(){return!(e.unstable_now()-F<B)}function J(){if(C!==null){var R=e.unstable_now();F=R;var L=!0;try{L=C(!0,R)}finally{L?U():(N=!1,C=null)}}else N=!1}var U;if(typeof S=="function")U=function(){S(J)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=J,U=function(){z.postMessage(null)}}else U=function(){A(J,0)};function H(R){C=R,N||(N=!0,U())}function W(R,L){I=A(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,H(M))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var k=m;m=L;try{return R()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var k=m;m=R;try{return L()}finally{m=k}},e.unstable_scheduleCallback=function(R,L,k){var G=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=k+V,R={id:d++,callback:L,priorityLevel:R,startTime:k,expirationTime:V,sortIndex:-1},k>G?(R.sortIndex=k,t(c,R),r(u)===null&&R===r(c)&&(x?(b(I),I=-1):x=!0,W(T,k-G))):(R.sortIndex=V,t(u,R),v||g||(v=!0,H(M))),R},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(R){var L=m;return function(){var k=m;m=L;try{return R.apply(this,arguments)}finally{m=k}}}})(EE);AE.exports=EE;var Kk=AE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=Ht,Yr=Kk;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TE=new Set,Zu={};function Ho(e,t){il(e,t),il(e+"Capture",t)}function il(e,t){for(Zu[e]=t,e=0;e<t.length;e++)TE.add(t[e])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$y=Object.prototype.hasOwnProperty,Jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ww={},bw={};function t2(e){return $y.call(bw,e)?!0:$y.call(ww,e)?!1:Jk.test(e)?bw[e]=!0:(ww[e]=!0,!1)}function e2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r2(e,t,r,n){if(t===null||typeof t>"u"||e2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){er[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];er[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){er[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){er[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){er[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){er[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){er[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){er[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){er[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zv=/[\-:]([a-z])/g;function Jv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zv,Jv);er[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zv,Jv);er[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zv,Jv);er[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){er[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});er.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){er[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function t1(e,t,r,n){var i=er.hasOwnProperty(t)?er[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r2(t,r,i,n)&&(r=null),n||i===null?t2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zi=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),jy=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),Sw=Symbol.iterator;function nu(e){return e===null||typeof e!="object"?null:(e=Sw&&e[Sw]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,ng;function xu(e){if(ng===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ng=t&&t[1]||""}return`
`+ng+e}var ig=!1;function sg(e,t){if(!e||ig)return"";ig=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ig=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xu(e):""}function n2(e){switch(e.tag){case 5:return xu(e.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return e=sg(e.type,!1),e;case 11:return e=sg(e.type.render,!1),e;case 1:return e=sg(e.type,!0),e;default:return""}}function Hy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ea:return"Fragment";case Aa:return"Portal";case zy:return"Profiler";case e1:return"StrictMode";case Gy:return"Suspense";case jy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PE:return(e.displayName||"Context")+".Consumer";case CE:return(e._context.displayName||"Context")+".Provider";case r1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n1:return t=e.displayName||null,t!==null?t:Hy(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return Hy(e(t))}catch{}}return null}function i2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(t);case 8:return t===e1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ds(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s2(e){var t=RE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nc(e){e._valueTracker||(e._valueTracker=s2(e))}function ME(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wy(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Aw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ds(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kE(e,t){t=t.checked,t!=null&&t1(e,"checked",t,!1)}function Vy(e,t){kE(e,t);var r=Ds(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xy(e,t.type,Ds(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ew(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xy(e,t,r){(t!=="number"||nf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wu=Array.isArray;function ja(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ds(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(et(92));if(wu(r)){if(1<r.length)throw Error(et(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ds(r)}}function NE(e,t){var r=Ds(t.value),n=Ds(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Cw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,BE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ju(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o2=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(e){o2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nu[t]=Nu[e]})});function LE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nu.hasOwnProperty(e)&&Nu[e]?(""+t).trim():t+"px"}function OE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=LE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var a2=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qy(e,t){if(t){if(a2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function Ky(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function i1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jy=null,Ha=null,Wa=null;function Pw(e){if(e=Mh(e)){if(typeof Jy!="function")throw Error(et(280));var t=e.stateNode;t&&(t=lp(t),Jy(e.stateNode,e.type,t))}}function DE(e){Ha?Wa?Wa.push(e):Wa=[e]:Ha=e}function UE(){if(Ha){var e=Ha,t=Wa;if(Wa=Ha=null,Pw(e),t)for(e=0;e<t.length;e++)Pw(t[e])}}function $E(e,t){return e(t)}function zE(){}var og=!1;function GE(e,t,r){if(og)return e(t,r);og=!0;try{return $E(e,t,r)}finally{og=!1,(Ha!==null||Wa!==null)&&(zE(),UE())}}function th(e,t){var r=e.stateNode;if(r===null)return null;var n=lp(r);if(n===null)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(et(231,t,typeof r));return r}var t0=!1;if(Hi)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{t0=!1}function l2(e,t,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Fu=!1,sf=null,of=!1,e0=null,u2={onError:function(e){Fu=!0,sf=e}};function h2(e,t,r,n,i,s,o,a,u){Fu=!1,sf=null,l2.apply(u2,arguments)}function c2(e,t,r,n,i,s,o,a,u){if(h2.apply(this,arguments),Fu){if(Fu){var c=sf;Fu=!1,sf=null}else throw Error(et(198));of||(of=!0,e0=c)}}function Wo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iw(e){if(Wo(e)!==e)throw Error(et(188))}function d2(e){var t=e.alternate;if(!t){if(t=Wo(e),t===null)throw Error(et(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Iw(i),e;if(s===n)return Iw(i),t;s=s.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?e:t}function HE(e){return e=d2(e),e!==null?WE(e):null}function WE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WE(e);if(t!==null)return t;e=e.sibling}return null}var VE=Yr.unstable_scheduleCallback,Rw=Yr.unstable_cancelCallback,f2=Yr.unstable_shouldYield,p2=Yr.unstable_requestPaint,Se=Yr.unstable_now,m2=Yr.unstable_getCurrentPriorityLevel,s1=Yr.unstable_ImmediatePriority,XE=Yr.unstable_UserBlockingPriority,af=Yr.unstable_NormalPriority,g2=Yr.unstable_LowPriority,YE=Yr.unstable_IdlePriority,ip=null,gi=null;function y2(e){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(ip,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:x2,v2=Math.log,_2=Math.LN2;function x2(e){return e>>>=0,e===0?32:31-(v2(e)/_2|0)|0}var Bc=64,Lc=4194304;function bu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=bu(a):(s&=o,s!==0&&(n=bu(s)))}else o=r&~i,o!==0?n=bu(o):s!==0&&(n=bu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zn(t),i=1<<r,n|=e[r],t&=~i;return n}function w2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=w2(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function r0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qE(){var e=Bc;return Bc<<=1,!(Bc&4194240)&&(Bc=64),e}function ag(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ih(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zn(t),e[t]=r}function S2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-zn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function o1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var qt=0;function QE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var KE,a1,ZE,JE,tT,n0=!1,Oc=[],Is=null,Rs=null,Ms=null,eh=new Map,rh=new Map,xs=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mw(e,t){switch(e){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":eh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function su(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mh(t),t!==null&&a1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function E2(e,t,r,n,i){switch(t){case"focusin":return Is=su(Is,e,t,r,n,i),!0;case"dragenter":return Rs=su(Rs,e,t,r,n,i),!0;case"mouseover":return Ms=su(Ms,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return eh.set(s,su(eh.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,rh.set(s,su(rh.get(s)||null,e,t,r,n,i)),!0}return!1}function eT(e){var t=Eo(e.target);if(t!==null){var r=Wo(t);if(r!==null){if(t=r.tag,t===13){if(t=jE(r),t!==null){e.blockedOn=t,tT(e.priority,function(){ZE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=i0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zy=n,r.target.dispatchEvent(n),Zy=null}else return t=Mh(r),t!==null&&a1(t),e.blockedOn=r,!1;t.shift()}return!0}function kw(e,t,r){Rd(e)&&r.delete(t)}function T2(){n0=!1,Is!==null&&Rd(Is)&&(Is=null),Rs!==null&&Rd(Rs)&&(Rs=null),Ms!==null&&Rd(Ms)&&(Ms=null),eh.forEach(kw),rh.forEach(kw)}function ou(e,t){e.blockedOn===t&&(e.blockedOn=null,n0||(n0=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,T2)))}function nh(e){function t(i){return ou(i,e)}if(0<Oc.length){ou(Oc[0],e);for(var r=1;r<Oc.length;r++){var n=Oc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Is!==null&&ou(Is,e),Rs!==null&&ou(Rs,e),Ms!==null&&ou(Ms,e),eh.forEach(t),rh.forEach(t),r=0;r<xs.length;r++)n=xs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xs.length&&(r=xs[0],r.blockedOn===null);)eT(r),r.blockedOn===null&&xs.shift()}var Va=Zi.ReactCurrentBatchConfig,uf=!0;function C2(e,t,r,n){var i=qt,s=Va.transition;Va.transition=null;try{qt=1,l1(e,t,r,n)}finally{qt=i,Va.transition=s}}function P2(e,t,r,n){var i=qt,s=Va.transition;Va.transition=null;try{qt=4,l1(e,t,r,n)}finally{qt=i,Va.transition=s}}function l1(e,t,r,n){if(uf){var i=i0(e,t,r,n);if(i===null)yg(e,t,n,hf,r),Mw(e,n);else if(E2(i,e,t,r,n))n.stopPropagation();else if(Mw(e,n),t&4&&-1<A2.indexOf(e)){for(;i!==null;){var s=Mh(i);if(s!==null&&KE(s),s=i0(e,t,r,n),s===null&&yg(e,t,n,hf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else yg(e,t,n,null,r)}}var hf=null;function i0(e,t,r,n){if(hf=null,e=i1(n),e=Eo(e),e!==null)if(t=Wo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hf=e,null}function rT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case s1:return 1;case XE:return 4;case af:case g2:return 16;case YE:return 536870912;default:return 16}default:return 16}}var Ss=null,u1=null,Md=null;function nT(){if(Md)return Md;var e,t=u1,r=t.length,n,i="value"in Ss?Ss.value:Ss.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Md=i.slice(e,1<n?1-n:void 0)}function kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function Nw(){return!1}function Kr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:Nw,this.isPropagationStopped=Nw,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h1=Kr(Cl),Rh=me({},Cl,{view:0,detail:0}),I2=Kr(Rh),lg,ug,au,sp=me({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==au&&(au&&e.type==="mousemove"?(lg=e.screenX-au.screenX,ug=e.screenY-au.screenY):ug=lg=0,au=e),lg)},movementY:function(e){return"movementY"in e?e.movementY:ug}}),Fw=Kr(sp),R2=me({},sp,{dataTransfer:0}),M2=Kr(R2),k2=me({},Rh,{relatedTarget:0}),hg=Kr(k2),N2=me({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),F2=Kr(N2),B2=me({},Cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L2=Kr(B2),O2=me({},Cl,{data:0}),Bw=Kr(O2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$2[e])?!!t[e]:!1}function c1(){return z2}var G2=me({},Rh,{key:function(e){if(e.key){var t=D2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j2=Kr(G2),H2=me({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=Kr(H2),W2=me({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),V2=Kr(W2),X2=me({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y2=Kr(X2),q2=me({},sp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=Kr(q2),K2=[9,13,27,32],d1=Hi&&"CompositionEvent"in window,Bu=null;Hi&&"documentMode"in document&&(Bu=document.documentMode);var Z2=Hi&&"TextEvent"in window&&!Bu,iT=Hi&&(!d1||Bu&&8<Bu&&11>=Bu),Ow=" ",Dw=!1;function sT(e,t){switch(e){case"keyup":return K2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function J2(e,t){switch(e){case"compositionend":return oT(t);case"keypress":return t.which!==32?null:(Dw=!0,Ow);case"textInput":return e=t.data,e===Ow&&Dw?null:e;default:return null}}function tN(e,t){if(Ta)return e==="compositionend"||!d1&&sT(e,t)?(e=nT(),Md=u1=Ss=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iT&&t.locale!=="ko"?null:t.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eN[e.type]:t==="textarea"}function aT(e,t,r,n){DE(n),t=cf(t,"onChange"),0<t.length&&(r=new h1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lu=null,ih=null;function rN(e){vT(e,0)}function op(e){var t=Ia(e);if(ME(t))return e}function nN(e,t){if(e==="change")return t}var lT=!1;if(Hi){var cg;if(Hi){var dg="oninput"in document;if(!dg){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),dg=typeof $w.oninput=="function"}cg=dg}else cg=!1;lT=cg&&(!document.documentMode||9<document.documentMode)}function zw(){Lu&&(Lu.detachEvent("onpropertychange",uT),ih=Lu=null)}function uT(e){if(e.propertyName==="value"&&op(ih)){var t=[];aT(t,ih,e,i1(e)),GE(rN,t)}}function iN(e,t,r){e==="focusin"?(zw(),Lu=t,ih=r,Lu.attachEvent("onpropertychange",uT)):e==="focusout"&&zw()}function sN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return op(ih)}function oN(e,t){if(e==="click")return op(t)}function aN(e,t){if(e==="input"||e==="change")return op(t)}function lN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:lN;function sh(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$y.call(t,i)||!Vn(e[i],t[i]))return!1}return!0}function Gw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jw(e,t){var r=Gw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Gw(r)}}function hT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cT(){for(var e=window,t=nf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nf(e.document)}return t}function f1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uN(e){var t=cT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hT(r.ownerDocument.documentElement,r)){if(n!==null&&f1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=jw(r,s);var o=jw(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hN=Hi&&"documentMode"in document&&11>=document.documentMode,Ca=null,s0=null,Ou=null,o0=!1;function Hw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;o0||Ca==null||Ca!==nf(n)||(n=Ca,"selectionStart"in n&&f1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ou&&sh(Ou,n)||(Ou=n,n=cf(s0,"onSelect"),0<n.length&&(t=new h1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ca)))}function Uc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pa={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},fg={},dT={};Hi&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ap(e){if(fg[e])return fg[e];if(!Pa[e])return e;var t=Pa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dT)return fg[e]=t[r];return e}var fT=ap("animationend"),pT=ap("animationiteration"),mT=ap("animationstart"),gT=ap("transitionend"),yT=new Map,Ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(e,t){yT.set(e,t),Ho(t,[e])}for(var pg=0;pg<Ww.length;pg++){var mg=Ww[pg],cN=mg.toLowerCase(),dN=mg[0].toUpperCase()+mg.slice(1);Gs(cN,"on"+dN)}Gs(fT,"onAnimationEnd");Gs(pT,"onAnimationIteration");Gs(mT,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(gT,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function Vw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c2(n,t,void 0,e),e.currentTarget=null}function vT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;t:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break t;Vw(i,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break t;Vw(i,a,c),s=u}}}if(of)throw e=e0,of=!1,e0=null,e}function ee(e,t){var r=t[c0];r===void 0&&(r=t[c0]=new Set);var n=e+"__bubble";r.has(n)||(_T(t,e,2,!1),r.add(n))}function gg(e,t,r){var n=0;t&&(n|=4),_T(r,e,n,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function oh(e){if(!e[$c]){e[$c]=!0,TE.forEach(function(r){r!=="selectionchange"&&(fN.has(r)||gg(r,!1,e),gg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,gg("selectionchange",!1,t))}}function _T(e,t,r,n){switch(rT(t)){case 1:var i=C2;break;case 4:i=P2;break;default:i=l1}r=i.bind(null,t,r,e),i=void 0,!t0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function yg(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Eo(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue t}a=a.parentNode}}n=n.return}GE(function(){var c=s,d=i1(r),f=[];t:{var m=yT.get(e);if(m!==void 0){var g=h1,v=e;switch(e){case"keypress":if(kd(r)===0)break t;case"keydown":case"keyup":g=j2;break;case"focusin":v="focus",g=hg;break;case"focusout":v="blur",g=hg;break;case"beforeblur":case"afterblur":g=hg;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=M2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=V2;break;case fT:case pT:case mT:g=F2;break;case gT:g=Y2;break;case"scroll":g=I2;break;case"wheel":g=Q2;break;case"copy":case"cut":case"paste":g=L2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Lw}var x=(t&4)!==0,A=!x&&e==="scroll",b=x?m!==null?m+"Capture":null:m;x=[];for(var S=c,w;S!==null;){w=S;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,b!==null&&(T=th(S,b),T!=null&&x.push(ah(S,T,w)))),A)break;S=S.return}0<x.length&&(m=new g(m,v,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==Zy&&(v=r.relatedTarget||r.fromElement)&&(Eo(v)||v[Wi]))break t;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=c,v=v?Eo(v):null,v!==null&&(A=Wo(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=Fw,T="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(x=Lw,T="onPointerLeave",b="onPointerEnter",S="pointer"),A=g==null?m:Ia(g),w=v==null?m:Ia(v),m=new x(T,S+"leave",g,r,d),m.target=A,m.relatedTarget=w,T=null,Eo(d)===c&&(x=new x(b,S+"enter",v,r,d),x.target=w,x.relatedTarget=A,T=x),A=T,g&&v)e:{for(x=g,b=v,S=0,w=x;w;w=ha(w))S++;for(w=0,T=b;T;T=ha(T))w++;for(;0<S-w;)x=ha(x),S--;for(;0<w-S;)b=ha(b),w--;for(;S--;){if(x===b||b!==null&&x===b.alternate)break e;x=ha(x),b=ha(b)}x=null}else x=null;g!==null&&Xw(f,m,g,x,!1),v!==null&&A!==null&&Xw(f,A,v,x,!0)}}t:{if(m=c?Ia(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var M=nN;else if(Uw(m))if(lT)M=aN;else{M=sN;var N=iN}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=oN);if(M&&(M=M(e,c))){aT(f,M,r,d);break t}N&&N(e,m,c),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Xy(m,"number",m.value)}switch(N=c?Ia(c):window,e){case"focusin":(Uw(N)||N.contentEditable==="true")&&(Ca=N,s0=c,Ou=null);break;case"focusout":Ou=s0=Ca=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,Hw(f,r,d);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":Hw(f,r,d)}var C;if(d1)t:{switch(e){case"compositionstart":var I="onCompositionStart";break t;case"compositionend":I="onCompositionEnd";break t;case"compositionupdate":I="onCompositionUpdate";break t}I=void 0}else Ta?sT(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(iT&&r.locale!=="ko"&&(Ta||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ta&&(C=nT()):(Ss=d,u1="value"in Ss?Ss.value:Ss.textContent,Ta=!0)),N=cf(c,I),0<N.length&&(I=new Bw(I,e,null,r,d),f.push({event:I,listeners:N}),C?I.data=C:(C=oT(r),C!==null&&(I.data=C)))),(C=Z2?J2(e,r):tN(e,r))&&(c=cf(c,"onBeforeInput"),0<c.length&&(d=new Bw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=C))}vT(f,t)})}function ah(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=th(e,r),s!=null&&n.unshift(ah(e,s,i)),s=th(e,t),s!=null&&n.push(ah(e,s,i))),e=e.return}return n}function ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xw(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=th(r,s),u!=null&&o.unshift(ah(r,u,a))):i||(u=th(r,s),u!=null&&o.push(ah(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pN=/\r\n?/g,mN=/\u0000|\uFFFD/g;function Yw(e){return(typeof e=="string"?e:""+e).replace(pN,`
`).replace(mN,"")}function zc(e,t,r){if(t=Yw(t),Yw(e)!==t&&r)throw Error(et(425))}function df(){}var a0=null,l0=null;function u0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,gN=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(e){return qw.resolve(null).then(e).catch(vN)}:h0;function vN(e){setTimeout(function(){throw e})}function vg(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),nh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);nh(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),fi="__reactFiber$"+Pl,lh="__reactProps$"+Pl,Wi="__reactContainer$"+Pl,c0="__reactEvents$"+Pl,_N="__reactListeners$"+Pl,xN="__reactHandles$"+Pl;function Eo(e){var t=e[fi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wi]||r[fi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qw(e);e!==null;){if(r=e[fi])return r;e=Qw(e)}return t}e=r,r=e.parentNode}return null}function Mh(e){return e=e[fi]||e[Wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function lp(e){return e[lh]||null}var d0=[],Ra=-1;function js(e){return{current:e}}function ie(e){0>Ra||(e.current=d0[Ra],d0[Ra]=null,Ra--)}function te(e,t){Ra++,d0[Ra]=e.current,e.current=t}var Us={},dr=js(Us),kr=js(!1),Lo=Us;function sl(e,t){var r=e.type.contextTypes;if(!r)return Us;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(e){return e=e.childContextTypes,e!=null}function ff(){ie(kr),ie(dr)}function Kw(e,t,r){if(dr.current!==Us)throw Error(et(168));te(dr,t),te(kr,r)}function xT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(et(108,i2(e)||"Unknown",i));return me({},r,n)}function pf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,Lo=dr.current,te(dr,e),te(kr,kr.current),!0}function Zw(e,t,r){var n=e.stateNode;if(!n)throw Error(et(169));r?(e=xT(e,t,Lo),n.__reactInternalMemoizedMergedChildContext=e,ie(kr),ie(dr),te(dr,e)):ie(kr),te(kr,r)}var Fi=null,up=!1,_g=!1;function wT(e){Fi===null?Fi=[e]:Fi.push(e)}function wN(e){up=!0,wT(e)}function Hs(){if(!_g&&Fi!==null){_g=!0;var e=0,t=qt;try{var r=Fi;for(qt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fi=null,up=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(e+1)),VE(s1,Hs),i}finally{qt=t,_g=!1}}return null}var Ma=[],ka=0,mf=null,gf=0,ln=[],un=0,Oo=null,Li=1,Oi="";function lo(e,t){Ma[ka++]=gf,Ma[ka++]=mf,mf=e,gf=t}function bT(e,t,r){ln[un++]=Li,ln[un++]=Oi,ln[un++]=Oo,Oo=e;var n=Li;e=Oi;var i=32-zn(n)-1;n&=~(1<<i),r+=1;var s=32-zn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Li=1<<32-zn(t)+i|r<<i|n,Oi=s+e}else Li=1<<s|r<<i|n,Oi=e}function p1(e){e.return!==null&&(lo(e,1),bT(e,1,0))}function m1(e){for(;e===mf;)mf=Ma[--ka],Ma[ka]=null,gf=Ma[--ka],Ma[ka]=null;for(;e===Oo;)Oo=ln[--un],ln[un]=null,Oi=ln[--un],ln[un]=null,Li=ln[--un],ln[un]=null}var Vr=null,Wr=null,le=!1,Ln=null;function ST(e,t){var r=hn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vr=e,Wr=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vr=e,Wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oo!==null?{id:Li,overflow:Oi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vr=e,Wr=null,!0):!1;default:return!1}}function f0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function p0(e){if(le){var t=Wr;if(t){var r=t;if(!Jw(e,t)){if(f0(e))throw Error(et(418));t=ks(r.nextSibling);var n=Vr;t&&Jw(e,t)?ST(n,r):(e.flags=e.flags&-4097|2,le=!1,Vr=e)}}else{if(f0(e))throw Error(et(418));e.flags=e.flags&-4097|2,le=!1,Vr=e}}}function tb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vr=e}function Gc(e){if(e!==Vr)return!1;if(!le)return tb(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!u0(e.type,e.memoizedProps)),t&&(t=Wr)){if(f0(e))throw AT(),Error(et(418));for(;t;)ST(e,t),t=ks(t.nextSibling)}if(tb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wr=ks(e.nextSibling);break t}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wr=null}}else Wr=Vr?ks(e.stateNode.nextSibling):null;return!0}function AT(){for(var e=Wr;e;)e=ks(e.nextSibling)}function ol(){Wr=Vr=null,le=!1}function g1(e){Ln===null?Ln=[e]:Ln.push(e)}var bN=Zi.ReactCurrentBatchConfig;function lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,e))}return e}function jc(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eb(e){var t=e._init;return t(e._payload)}function ET(e){function t(b,S){if(e){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function r(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function n(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Ls(b,S),b.index=0,b.sibling=null,b}function s(b,S,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function a(b,S,w,T){return S===null||S.tag!==6?(S=Tg(w,b.mode,T),S.return=b,S):(S=i(S,w),S.return=b,S)}function u(b,S,w,T){var M=w.type;return M===Ea?d(b,S,w.props.children,T,w.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&eb(M)===S.type)?(T=i(S,w.props),T.ref=lu(b,S,w),T.return=b,T):(T=Ud(w.type,w.key,w.props,null,b.mode,T),T.ref=lu(b,S,w),T.return=b,T)}function c(b,S,w,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Cg(w,b.mode,T),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function d(b,S,w,T,M){return S===null||S.tag!==7?(S=Mo(w,b.mode,T,M),S.return=b,S):(S=i(S,w),S.return=b,S)}function f(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Tg(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kc:return w=Ud(S.type,S.key,S.props,null,b.mode,w),w.ref=lu(b,null,S),w.return=b,w;case Aa:return S=Cg(S,b.mode,w),S.return=b,S;case ys:var T=S._init;return f(b,T(S._payload),w)}if(wu(S)||nu(S))return S=Mo(S,b.mode,w,null),S.return=b,S;jc(b,S)}return null}function m(b,S,w,T){var M=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(b,S,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kc:return w.key===M?u(b,S,w,T):null;case Aa:return w.key===M?c(b,S,w,T):null;case ys:return M=w._init,m(b,S,M(w._payload),T)}if(wu(w)||nu(w))return M!==null?null:d(b,S,w,T,null);jc(b,w)}return null}function g(b,S,w,T,M){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(w)||null,a(S,b,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:return b=b.get(T.key===null?w:T.key)||null,u(S,b,T,M);case Aa:return b=b.get(T.key===null?w:T.key)||null,c(S,b,T,M);case ys:var N=T._init;return g(b,S,w,N(T._payload),M)}if(wu(T)||nu(T))return b=b.get(w)||null,d(S,b,T,M,null);jc(S,T)}return null}function v(b,S,w,T){for(var M=null,N=null,C=S,I=S=0,B=null;C!==null&&I<w.length;I++){C.index>I?(B=C,C=null):B=C.sibling;var F=m(b,C,w[I],T);if(F===null){C===null&&(C=B);break}e&&C&&F.alternate===null&&t(b,C),S=s(F,S,I),N===null?M=F:N.sibling=F,N=F,C=B}if(I===w.length)return r(b,C),le&&lo(b,I),M;if(C===null){for(;I<w.length;I++)C=f(b,w[I],T),C!==null&&(S=s(C,S,I),N===null?M=C:N.sibling=C,N=C);return le&&lo(b,I),M}for(C=n(b,C);I<w.length;I++)B=g(C,b,I,w[I],T),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?I:B.key),S=s(B,S,I),N===null?M=B:N.sibling=B,N=B);return e&&C.forEach(function(Y){return t(b,Y)}),le&&lo(b,I),M}function x(b,S,w,T){var M=nu(w);if(typeof M!="function")throw Error(et(150));if(w=M.call(w),w==null)throw Error(et(151));for(var N=M=null,C=S,I=S=0,B=null,F=w.next();C!==null&&!F.done;I++,F=w.next()){C.index>I?(B=C,C=null):B=C.sibling;var Y=m(b,C,F.value,T);if(Y===null){C===null&&(C=B);break}e&&C&&Y.alternate===null&&t(b,C),S=s(Y,S,I),N===null?M=Y:N.sibling=Y,N=Y,C=B}if(F.done)return r(b,C),le&&lo(b,I),M;if(C===null){for(;!F.done;I++,F=w.next())F=f(b,F.value,T),F!==null&&(S=s(F,S,I),N===null?M=F:N.sibling=F,N=F);return le&&lo(b,I),M}for(C=n(b,C);!F.done;I++,F=w.next())F=g(C,b,I,F.value,T),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?I:F.key),S=s(F,S,I),N===null?M=F:N.sibling=F,N=F);return e&&C.forEach(function(J){return t(b,J)}),le&&lo(b,I),M}function A(b,S,w,T){if(typeof w=="object"&&w!==null&&w.type===Ea&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kc:t:{for(var M=w.key,N=S;N!==null;){if(N.key===M){if(M=w.type,M===Ea){if(N.tag===7){r(b,N.sibling),S=i(N,w.props.children),S.return=b,b=S;break t}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&eb(M)===N.type){r(b,N.sibling),S=i(N,w.props),S.ref=lu(b,N,w),S.return=b,b=S;break t}r(b,N);break}else t(b,N);N=N.sibling}w.type===Ea?(S=Mo(w.props.children,b.mode,T,w.key),S.return=b,b=S):(T=Ud(w.type,w.key,w.props,null,b.mode,T),T.ref=lu(b,S,w),T.return=b,b=T)}return o(b);case Aa:t:{for(N=w.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){r(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break t}else{r(b,S);break}else t(b,S);S=S.sibling}S=Cg(w,b.mode,T),S.return=b,b=S}return o(b);case ys:return N=w._init,A(b,S,N(w._payload),T)}if(wu(w))return v(b,S,w,T);if(nu(w))return x(b,S,w,T);jc(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(r(b,S.sibling),S=i(S,w),S.return=b,b=S):(r(b,S),S=Tg(w,b.mode,T),S.return=b,b=S),o(b)):r(b,S)}return A}var al=ET(!0),TT=ET(!1),yf=js(null),vf=null,Na=null,y1=null;function v1(){y1=Na=vf=null}function _1(e){var t=yf.current;ie(yf),e._currentValue=t}function m0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xa(e,t){vf=e,y1=Na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rr=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(y1!==e)if(e={context:e,memoizedValue:t,next:null},Na===null){if(vf===null)throw Error(et(308));Na=e,vf.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var To=null;function x1(e){To===null?To=[e]:To.push(e)}function CT(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,x1(t)):(r.next=i.next,i.next=r),t.interleaved=r,Vi(e,n)}function Vi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vs=!1;function w1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Vi(e,r)}return i=n.interleaved,i===null?(t.next=t,x1(n)):(t.next=i.next,i.next=t),n.interleaved=t,Vi(e,r)}function Nd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o1(e,r)}}function rb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _f(e,t,r,n){var i=e.updateQueue;vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,g=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var v=e,x=a;switch(m=t,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,m);break t}f=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(g,f,m):v,m==null)break t;f=me({},f,m);break t;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Uo|=o,e.lanes=o,e.memoizedState=f}}function nb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var kh={},yi=js(kh),uh=js(kh),hh=js(kh);function Co(e){if(e===kh)throw Error(et(174));return e}function b1(e,t){switch(te(hh,t),te(uh,e),te(yi,kh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qy(t,e)}ie(yi),te(yi,t)}function ll(){ie(yi),ie(uh),ie(hh)}function IT(e){Co(hh.current);var t=Co(yi.current),r=qy(t,e.type);t!==r&&(te(uh,e),te(yi,r))}function S1(e){uh.current===e&&(ie(yi),ie(uh))}var de=js(0);function xf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xg=[];function A1(){for(var e=0;e<xg.length;e++)xg[e]._workInProgressVersionPrimary=null;xg.length=0}var Fd=Zi.ReactCurrentDispatcher,wg=Zi.ReactCurrentBatchConfig,Do=0,pe=null,ke=null,Ge=null,wf=!1,Du=!1,ch=0,SN=0;function ar(){throw Error(et(321))}function E1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vn(e[r],t[r]))return!1;return!0}function T1(e,t,r,n,i,s){if(Do=s,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fd.current=e===null||e.memoizedState===null?CN:PN,e=r(n,i),Du){s=0;do{if(Du=!1,ch=0,25<=s)throw Error(et(301));s+=1,Ge=ke=null,t.updateQueue=null,Fd.current=IN,e=r(n,i)}while(Du)}if(Fd.current=bf,t=ke!==null&&ke.next!==null,Do=0,Ge=ke=pe=null,wf=!1,t)throw Error(et(300));return e}function C1(){var e=ch!==0;return ch=0,e}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?pe.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function vn(){if(ke===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ge===null?pe.memoizedState:Ge.next;if(t!==null)Ge=t,ke=e;else{if(e===null)throw Error(et(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ge===null?pe.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function dh(e,t){return typeof t=="function"?t(e):t}function bg(e){var t=vn(),r=t.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=e;var n=ke,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Do&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,pe.lanes|=d,Uo|=d}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=a,Vn(n,t.memoizedState)||(Rr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,pe.lanes|=s,Uo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sg(e){var t=vn(),r=t.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Vn(s,t.memoizedState)||(Rr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function RT(){}function MT(e,t){var r=pe,n=vn(),i=t(),s=!Vn(n.memoizedState,i);if(s&&(n.memoizedState=i,Rr=!0),n=n.queue,P1(FT.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,fh(9,NT.bind(null,r,n,i,t),void 0,null),We===null)throw Error(et(349));Do&30||kT(r,t,i)}return i}function kT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function NT(e,t,r,n){t.value=r,t.getSnapshot=n,BT(t)&&LT(e)}function FT(e,t,r){return r(function(){BT(t)&&LT(e)})}function BT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vn(e,r)}catch{return!0}}function LT(e){var t=Vi(e,1);t!==null&&Gn(t,e,1,-1)}function ib(e){var t=ui();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:e},t.queue=e,e=e.dispatch=TN.bind(null,pe,e),[t.memoizedState,e]}function fh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function OT(){return vn().memoizedState}function Bd(e,t,r,n){var i=ui();pe.flags|=e,i.memoizedState=fh(1|t,r,void 0,n===void 0?null:n)}function hp(e,t,r,n){var i=vn();n=n===void 0?null:n;var s=void 0;if(ke!==null){var o=ke.memoizedState;if(s=o.destroy,n!==null&&E1(n,o.deps)){i.memoizedState=fh(t,r,s,n);return}}pe.flags|=e,i.memoizedState=fh(1|t,r,s,n)}function sb(e,t){return Bd(8390656,8,e,t)}function P1(e,t){return hp(2048,8,e,t)}function DT(e,t){return hp(4,2,e,t)}function UT(e,t){return hp(4,4,e,t)}function $T(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zT(e,t,r){return r=r!=null?r.concat([e]):null,hp(4,4,$T.bind(null,t,e),r)}function I1(){}function GT(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jT(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function HT(e,t,r){return Do&21?(Vn(r,t)||(r=qE(),pe.lanes|=r,Uo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rr=!0),e.memoizedState=r)}function AN(e,t){var r=qt;qt=r!==0&&4>r?r:4,e(!0);var n=wg.transition;wg.transition={};try{e(!1),t()}finally{qt=r,wg.transition=n}}function WT(){return vn().memoizedState}function EN(e,t,r){var n=Bs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},VT(e))XT(t,r);else if(r=CT(e,t,r,n),r!==null){var i=xr();Gn(r,e,n,i),YT(r,t,n)}}function TN(e,t,r){var n=Bs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(VT(e))XT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,o)){var u=t.interleaved;u===null?(i.next=i,x1(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=CT(e,t,i,n),r!==null&&(i=xr(),Gn(r,e,n,i),YT(r,t,n))}}function VT(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function XT(e,t){Du=wf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o1(e,r)}}var bf={readContext:yn,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},CN={readContext:yn,useCallback:function(e,t){return ui().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:sb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4194308,4,$T.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var r=ui();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ui();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=EN.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=ui();return e={current:e},t.memoizedState=e},useState:ib,useDebugValue:I1,useDeferredValue:function(e){return ui().memoizedState=e},useTransition:function(){var e=ib(!1),t=e[0];return e=AN.bind(null,e[1]),ui().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pe,i=ui();if(le){if(r===void 0)throw Error(et(407));r=r()}else{if(r=t(),We===null)throw Error(et(349));Do&30||kT(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,sb(FT.bind(null,n,s,e),[e]),n.flags|=2048,fh(9,NT.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ui(),t=We.identifierPrefix;if(le){var r=Oi,n=Li;r=(n&~(1<<32-zn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ch++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=SN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PN={readContext:yn,useCallback:GT,useContext:yn,useEffect:P1,useImperativeHandle:zT,useInsertionEffect:DT,useLayoutEffect:UT,useMemo:jT,useReducer:bg,useRef:OT,useState:function(){return bg(dh)},useDebugValue:I1,useDeferredValue:function(e){var t=vn();return HT(t,ke.memoizedState,e)},useTransition:function(){var e=bg(dh)[0],t=vn().memoizedState;return[e,t]},useMutableSource:RT,useSyncExternalStore:MT,useId:WT,unstable_isNewReconciler:!1},IN={readContext:yn,useCallback:GT,useContext:yn,useEffect:P1,useImperativeHandle:zT,useInsertionEffect:DT,useLayoutEffect:UT,useMemo:jT,useReducer:Sg,useRef:OT,useState:function(){return Sg(dh)},useDebugValue:I1,useDeferredValue:function(e){var t=vn();return ke===null?t.memoizedState=e:HT(t,ke.memoizedState,e)},useTransition:function(){var e=Sg(dh)[0],t=vn().memoizedState;return[e,t]},useMutableSource:RT,useSyncExternalStore:MT,useId:WT,unstable_isNewReconciler:!1};function Fn(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function g0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cp={isMounted:function(e){return(e=e._reactInternals)?Wo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xr(),i=Bs(e),s=$i(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ns(e,s,i),t!==null&&(Gn(t,e,i,n),Nd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xr(),i=Bs(e),s=$i(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ns(e,s,i),t!==null&&(Gn(t,e,i,n),Nd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xr(),n=Bs(e),i=$i(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ns(e,i,n),t!==null&&(Gn(t,e,n,r),Nd(t,e,n))}};function ob(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!sh(r,n)||!sh(i,s):!0}function qT(e,t,r){var n=!1,i=Us,s=t.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Nr(t)?Lo:dr.current,n=t.contextTypes,s=(n=n!=null)?sl(e,i):Us),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ab(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cp.enqueueReplaceState(t,t.state,null)}function y0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},w1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Nr(t)?Lo:dr.current,i.context=sl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(g0(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cp.enqueueReplaceState(i,i.state,null),_f(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ul(e,t){try{var r="",n=t;do r+=n2(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ag(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function v0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function QT(e,t,r){r=$i(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Af||(Af=!0,P0=n),v0(e,t)},r}function KT(e,t,r){r=$i(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){v0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){v0(e,t),typeof n!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function lb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new RN;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=HN.bind(null,e,t,r),t.then(e,e))}function ub(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$i(-1,1),t.tag=2,Ns(r,t,1))),r.lanes|=1),e)}var MN=Zi.ReactCurrentOwner,Rr=!1;function yr(e,t,r,n){t.child=e===null?TT(t,null,r,n):al(t,e.child,r,n)}function cb(e,t,r,n,i){r=r.render;var s=t.ref;return Xa(t,i),n=T1(e,t,r,n,s,i),r=C1(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(le&&r&&p1(t),t.flags|=1,yr(e,t,n,i),t.child)}function db(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!O1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ZT(e,t,s,n,i)):(e=Ud(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:sh,r(o,n)&&e.ref===t.ref)return Xi(e,t,i)}return t.flags|=1,e=Ls(s,n),e.ref=t.ref,e.return=t,t.child=e}function ZT(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(sh(s,n)&&e.ref===t.ref)if(Rr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Rr=!0);else return t.lanes=e.lanes,Xi(e,t,i)}return _0(e,t,r,n,i)}function JT(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ba,jr),jr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Ba,jr),jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,te(Ba,jr),jr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,te(Ba,jr),jr|=n;return yr(e,t,i,r),t.child}function tC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _0(e,t,r,n,i){var s=Nr(r)?Lo:dr.current;return s=sl(t,s),Xa(t,i),r=T1(e,t,r,n,s,i),n=C1(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(le&&n&&p1(t),t.flags|=1,yr(e,t,r,i),t.child)}function fb(e,t,r,n,i){if(Nr(r)){var s=!0;pf(t)}else s=!1;if(Xa(t,i),t.stateNode===null)Ld(e,t),qT(t,r,n),y0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Nr(r)?Lo:dr.current,c=sl(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&ab(t,o,n,c),vs=!1;var m=t.memoizedState;o.state=m,_f(t,n,o,i),u=t.memoizedState,a!==n||m!==u||kr.current||vs?(typeof d=="function"&&(g0(t,r,d,n),u=t.memoizedState),(a=vs||ob(t,r,a,n,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,PT(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Fn(t.type,a),o.props=c,f=t.pendingProps,m=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=yn(u):(u=Nr(r)?Lo:dr.current,u=sl(t,u));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&ab(t,o,n,u),vs=!1,m=t.memoizedState,o.state=m,_f(t,n,o,i);var v=t.memoizedState;a!==f||m!==v||kr.current||vs?(typeof g=="function"&&(g0(t,r,g,n),v=t.memoizedState),(c=vs||ob(t,r,c,n,m,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return x0(e,t,r,n,s,i)}function x0(e,t,r,n,i,s){tC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Zw(t,r,!1),Xi(e,t,s);n=t.stateNode,MN.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=al(t,e.child,null,s),t.child=al(t,null,a,s)):yr(e,t,a,s),t.memoizedState=n.state,i&&Zw(t,r,!0),t.child}function eC(e){var t=e.stateNode;t.pendingContext?Kw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kw(e,t.context,!1),b1(e,t.containerInfo)}function pb(e,t,r,n,i){return ol(),g1(i),t.flags|=256,yr(e,t,r,n),t.child}var w0={dehydrated:null,treeContext:null,retryLane:0};function b0(e){return{baseLanes:e,cachePool:null,transitions:null}}function rC(e,t,r){var n=t.pendingProps,i=de.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),te(de,i&1),e===null)return p0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pp(o,n,0,null),e=Mo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=b0(r),t.memoizedState=w0,e):R1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kN(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ls(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=Mo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?b0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=w0,n}return s=e.child,e=s.sibling,n=Ls(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function R1(e,t){return t=pp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hc(e,t,r,n){return n!==null&&g1(n),al(t,e.child,null,r),e=R1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kN(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Ag(Error(et(422))),Hc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=pp({mode:"visible",children:n.children},i,0,null),s=Mo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&al(t,e.child,null,o),t.child.memoizedState=b0(o),t.memoizedState=w0,s);if(!(t.mode&1))return Hc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(et(419)),n=Ag(s,n,void 0),Hc(e,t,o,n)}if(a=(o&e.childLanes)!==0,Rr||a){if(n=We,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vi(e,i),Gn(n,e,i,-1))}return L1(),n=Ag(Error(et(421))),Hc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Wr=ks(i.nextSibling),Vr=t,le=!0,Ln=null,e!==null&&(ln[un++]=Li,ln[un++]=Oi,ln[un++]=Oo,Li=e.id,Oi=e.overflow,Oo=t),t=R1(t,n.children),t.flags|=4096,t)}function mb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),m0(e.return,t,r)}function Eg(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function nC(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(yr(e,t,n.children,r),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mb(e,r,t);else if(e.tag===19)mb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(de,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&xf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Eg(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Eg(t,!0,r,null,s);break;case"together":Eg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ld(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Uo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,r=Ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NN(e,t,r){switch(t.tag){case 3:eC(t),ol();break;case 5:IT(t);break;case 1:Nr(t.type)&&pf(t);break;case 4:b1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;te(yf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?rC(e,t,r):(te(de,de.current&1),e=Xi(e,t,r),e!==null?e.sibling:null);te(de,de.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,JT(e,t,r)}return Xi(e,t,r)}var iC,S0,sC,oC;iC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S0=function(){};sC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Co(yi.current);var s=null;switch(r){case"input":i=Wy(e,i),n=Wy(e,n),s=[];break;case"select":i=me({},i,{value:void 0}),n=me({},n,{value:void 0}),s=[];break;case"textarea":i=Yy(e,i),n=Yy(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=df)}Qy(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};oC=function(e,t,r,n){r!==n&&(t.flags|=4)};function uu(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FN(e,t,r){var n=t.pendingProps;switch(m1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return Nr(t.type)&&ff(),lr(t),null;case 3:return n=t.stateNode,ll(),ie(kr),ie(dr),A1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(M0(Ln),Ln=null))),S0(e,t),lr(t),null;case 5:S1(t);var i=Co(hh.current);if(r=t.type,e!==null&&t.stateNode!=null)sC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(et(166));return lr(t),null}if(e=Co(yi.current),Gc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[fi]=t,n[lh]=s,e=(t.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(i=0;i<Su.length;i++)ee(Su[i],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Aw(n,s),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ee("invalid",n);break;case"textarea":Tw(n,s),ee("invalid",n)}Qy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&zc(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zc(n.textContent,a,e),i=["children",""+a]):Zu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",n)}switch(r){case"input":Nc(n),Ew(n,s,!0);break;case"textarea":Nc(n),Cw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=df)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fi]=t,e[lh]=n,iC(e,t,!1,!1),t.stateNode=e;t:{switch(o=Ky(r,n),r){case"dialog":ee("cancel",e),ee("close",e),i=n;break;case"iframe":case"object":case"embed":ee("load",e),i=n;break;case"video":case"audio":for(i=0;i<Su.length;i++)ee(Su[i],e);i=n;break;case"source":ee("error",e),i=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),i=n;break;case"details":ee("toggle",e),i=n;break;case"input":Aw(e,n),i=Wy(e,n),ee("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=me({},n,{value:void 0}),ee("invalid",e);break;case"textarea":Tw(e,n),i=Yy(e,n),ee("invalid",e);break;default:i=n}Qy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?OE(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&BE(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ju(e,u):typeof u=="number"&&Ju(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ee("scroll",e):u!=null&&t1(e,s,u,o))}switch(r){case"input":Nc(e),Ew(e,n,!1);break;case"textarea":Nc(e),Cw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ds(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ja(e,!!n.multiple,s,!1):n.defaultValue!=null&&ja(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=df)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)oC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(et(166));if(r=Co(hh.current),Co(yi.current),Gc(t)){if(n=t.stateNode,r=t.memoizedProps,n[fi]=t,(s=n.nodeValue!==r)&&(e=Vr,e!==null))switch(e.tag){case 3:zc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=t,t.stateNode=n}return lr(t),null;case 13:if(ie(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Wr!==null&&t.mode&1&&!(t.flags&128))AT(),ol(),t.flags|=98560,s=!1;else if(s=Gc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(et(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[fi]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),s=!1}else Ln!==null&&(M0(Ln),Ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Fe===0&&(Fe=3):L1())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return ll(),S0(e,t),e===null&&oh(t.stateNode.containerInfo),lr(t),null;case 10:return _1(t.type._context),lr(t),null;case 17:return Nr(t.type)&&ff(),lr(t),null;case 19:if(ie(de),s=t.memoizedState,s===null)return lr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)uu(s,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xf(e),o!==null){for(t.flags|=128,uu(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&Se()>hl&&(t.flags|=128,n=!0,uu(s,!1),t.lanes=4194304)}else{if(!n)if(e=xf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return lr(t),null}else 2*Se()-s.renderingStartTime>hl&&r!==1073741824&&(t.flags|=128,n=!0,uu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Se(),t.sibling=null,r=de.current,te(de,n?r&1|2:r&1),t):(lr(t),null);case 22:case 23:return B1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jr&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function BN(e,t){switch(m1(t),t.tag){case 1:return Nr(t.type)&&ff(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(),ie(kr),ie(dr),A1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return S1(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return ll(),null;case 10:return _1(t.type._context),null;case 22:case 23:return B1(),null;case 24:return null;default:return null}}var Wc=!1,ur=!1,LN=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Fa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function A0(e,t,r){try{r()}catch(n){ye(e,t,n)}}var gb=!1;function ON(e,t){if(a0=uf,e=cT(),f1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break t}var o=0,a=-1,u=-1,c=0,d=0,f=e,m=null;e:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break e;if(m===r&&++c===i&&(a=o),m===s&&++d===n&&(u=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(l0={focusedElem:e,selectionRange:r},uf=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,A=v.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:Fn(t.type,x),A);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(T){ye(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return v=gb,gb=!1,v}function Uu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&A0(t,r,s)}i=i.next}while(i!==n)}}function dp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function E0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function aC(e){var t=e.alternate;t!==null&&(e.alternate=null,aC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fi],delete t[lh],delete t[c0],delete t[_N],delete t[xN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lC(e){return e.tag===5||e.tag===3||e.tag===4}function yb(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||lC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=df));else if(n!==4&&(e=e.child,e!==null))for(T0(e,t,r),e=e.sibling;e!==null;)T0(e,t,r),e=e.sibling}function C0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(C0(e,t,r),e=e.sibling;e!==null;)C0(e,t,r),e=e.sibling}var qe=null,Bn=!1;function ds(e,t,r){for(r=r.child;r!==null;)uC(e,t,r),r=r.sibling}function uC(e,t,r){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(ip,r)}catch{}switch(r.tag){case 5:ur||Fa(r,t);case 6:var n=qe,i=Bn;qe=null,ds(e,t,r),qe=n,Bn=i,qe!==null&&(Bn?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Bn?(e=qe,r=r.stateNode,e.nodeType===8?vg(e.parentNode,r):e.nodeType===1&&vg(e,r),nh(e)):vg(qe,r.stateNode));break;case 4:n=qe,i=Bn,qe=r.stateNode.containerInfo,Bn=!0,ds(e,t,r),qe=n,Bn=i;break;case 0:case 11:case 14:case 15:if(!ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&A0(r,t,o),i=i.next}while(i!==n)}ds(e,t,r);break;case 1:if(!ur&&(Fa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ye(r,t,a)}ds(e,t,r);break;case 21:ds(e,t,r);break;case 22:r.mode&1?(ur=(n=ur)||r.memoizedState!==null,ds(e,t,r),ur=n):ds(e,t,r);break;default:ds(e,t,r)}}function vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LN),t.forEach(function(n){var i=VN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Bn=!1;break t;case 3:qe=a.stateNode.containerInfo,Bn=!0;break t;case 4:qe=a.stateNode.containerInfo,Bn=!0;break t}a=a.return}if(qe===null)throw Error(et(160));uC(s,o,i),qe=null,Bn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ye(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hC(t,e),t=t.sibling}function hC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),ni(e),n&4){try{Uu(3,e,e.return),dp(3,e)}catch(x){ye(e,e.return,x)}try{Uu(5,e,e.return)}catch(x){ye(e,e.return,x)}}break;case 1:Pn(t,e),ni(e),n&512&&r!==null&&Fa(r,r.return);break;case 5:if(Pn(t,e),ni(e),n&512&&r!==null&&Fa(r,r.return),e.flags&32){var i=e.stateNode;try{Ju(i,"")}catch(x){ye(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kE(i,s),Ky(a,o);var c=Ky(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?OE(i,f):d==="dangerouslySetInnerHTML"?BE(i,f):d==="children"?Ju(i,f):t1(i,d,f,c)}switch(a){case"input":Vy(i,s);break;case"textarea":NE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ja(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?ja(i,!!s.multiple,s.defaultValue,!0):ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[lh]=s}catch(x){ye(e,e.return,x)}}break;case 6:if(Pn(t,e),ni(e),n&4){if(e.stateNode===null)throw Error(et(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){ye(e,e.return,x)}}break;case 3:if(Pn(t,e),ni(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nh(t.containerInfo)}catch(x){ye(e,e.return,x)}break;case 4:Pn(t,e),ni(e);break;case 13:Pn(t,e),ni(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(N1=Se())),n&4&&vb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ur=(c=ur)||d,Pn(t,e),ur=c):Pn(t,e),ni(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(f=ut=d;ut!==null;){switch(m=ut,g=m.child,m.tag){case 0:case 11:case 14:case 15:Uu(4,m,m.return);break;case 1:Fa(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ye(n,r,x)}}break;case 5:Fa(m,m.return);break;case 22:if(m.memoizedState!==null){xb(f);continue}}g!==null?(g.return=m,ut=g):xb(f)}d=d.sibling}t:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=LE("display",o))}catch(x){ye(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){ye(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(t,e),ni(e),n&4&&vb(e);break;case 21:break;default:Pn(t,e),ni(e)}}function ni(e){var t=e.flags;if(t&2){try{t:{for(var r=e.return;r!==null;){if(lC(r)){var n=r;break t}r=r.return}throw Error(et(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ju(i,""),n.flags&=-33);var s=yb(e);C0(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=yb(e);T0(e,a,o);break;default:throw Error(et(161))}}catch(u){ye(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DN(e,t,r){ut=e,cC(e)}function cC(e,t,r){for(var n=(e.mode&1)!==0;ut!==null;){var i=ut,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Wc;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ur;a=Wc;var c=ur;if(Wc=o,(ur=u)&&!c)for(ut=i;ut!==null;)o=ut,u=o.child,o.tag===22&&o.memoizedState!==null?wb(i):u!==null?(u.return=o,ut=u):wb(i);for(;s!==null;)ut=s,cC(s),s=s.sibling;ut=i,Wc=a,ur=c}_b(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ut=s):_b(e)}}function _b(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ur||dp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ur)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Fn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nb(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nb(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&nh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}ur||t.flags&512&&E0(t)}catch(m){ye(t,t.return,m)}}if(t===e){ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,ut=r;break}ut=t.return}}function xb(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ut=r;break}ut=t.return}}function wb(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dp(4,t)}catch(u){ye(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){ye(t,i,u)}}var s=t.return;try{E0(t)}catch(u){ye(t,s,u)}break;case 5:var o=t.return;try{E0(t)}catch(u){ye(t,o,u)}}}catch(u){ye(t,t.return,u)}if(t===e){ut=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ut=a;break}ut=t.return}}var UN=Math.ceil,Sf=Zi.ReactCurrentDispatcher,M1=Zi.ReactCurrentOwner,mn=Zi.ReactCurrentBatchConfig,Dt=0,We=null,Pe=null,tr=0,jr=0,Ba=js(0),Fe=0,ph=null,Uo=0,fp=0,k1=0,$u=null,Pr=null,N1=0,hl=1/0,ki=null,Af=!1,P0=null,Fs=null,Vc=!1,As=null,Ef=0,zu=0,I0=null,Od=-1,Dd=0;function xr(){return Dt&6?Se():Od!==-1?Od:Od=Se()}function Bs(e){return e.mode&1?Dt&2&&tr!==0?tr&-tr:bN.transition!==null?(Dd===0&&(Dd=qE()),Dd):(e=qt,e!==0||(e=window.event,e=e===void 0?16:rT(e.type)),e):1}function Gn(e,t,r,n){if(50<zu)throw zu=0,I0=null,Error(et(185));Ih(e,r,n),(!(Dt&2)||e!==We)&&(e===We&&(!(Dt&2)&&(fp|=r),Fe===4&&ws(e,tr)),Fr(e,n),r===1&&Dt===0&&!(t.mode&1)&&(hl=Se()+500,up&&Hs()))}function Fr(e,t){var r=e.callbackNode;b2(e,t);var n=lf(e,e===We?tr:0);if(n===0)r!==null&&Rw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rw(r),t===1)e.tag===0?wN(bb.bind(null,e)):wT(bb.bind(null,e)),yN(function(){!(Dt&6)&&Hs()}),r=null;else{switch(QE(n)){case 1:r=s1;break;case 4:r=XE;break;case 16:r=af;break;case 536870912:r=YE;break;default:r=af}r=_C(r,dC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dC(e,t){if(Od=-1,Dd=0,Dt&6)throw Error(et(327));var r=e.callbackNode;if(Ya()&&e.callbackNode!==r)return null;var n=lf(e,e===We?tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tf(e,n);else{t=n;var i=Dt;Dt|=2;var s=pC();(We!==e||tr!==t)&&(ki=null,hl=Se()+500,Ro(e,t));do try{GN();break}catch(a){fC(e,a)}while(!0);v1(),Sf.current=s,Dt=i,Pe!==null?t=0:(We=null,tr=0,t=Fe)}if(t!==0){if(t===2&&(i=r0(e),i!==0&&(n=i,t=R0(e,i))),t===1)throw r=ph,Ro(e,0),ws(e,n),Fr(e,Se()),r;if(t===6)ws(e,n);else{if(i=e.current.alternate,!(n&30)&&!$N(i)&&(t=Tf(e,n),t===2&&(s=r0(e),s!==0&&(n=s,t=R0(e,s))),t===1))throw r=ph,Ro(e,0),ws(e,n),Fr(e,Se()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(et(345));case 2:uo(e,Pr,ki);break;case 3:if(ws(e,n),(n&130023424)===n&&(t=N1+500-Se(),10<t)){if(lf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){xr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=h0(uo.bind(null,e,Pr,ki),t);break}uo(e,Pr,ki);break;case 4:if(ws(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-zn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UN(n/1960))-n,10<n){e.timeoutHandle=h0(uo.bind(null,e,Pr,ki),n);break}uo(e,Pr,ki);break;case 5:uo(e,Pr,ki);break;default:throw Error(et(329))}}}return Fr(e,Se()),e.callbackNode===r?dC.bind(null,e):null}function R0(e,t){var r=$u;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=Pr,Pr=r,t!==null&&M0(t)),e}function M0(e){Pr===null?Pr=e:Pr.push.apply(Pr,e)}function $N(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~k1,t&=~fp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zn(t),n=1<<r;e[r]=-1,t&=~n}}function bb(e){if(Dt&6)throw Error(et(327));Ya();var t=lf(e,0);if(!(t&1))return Fr(e,Se()),null;var r=Tf(e,t);if(e.tag!==0&&r===2){var n=r0(e);n!==0&&(t=n,r=R0(e,n))}if(r===1)throw r=ph,Ro(e,0),ws(e,t),Fr(e,Se()),r;if(r===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uo(e,Pr,ki),Fr(e,Se()),null}function F1(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(hl=Se()+500,up&&Hs())}}function $o(e){As!==null&&As.tag===0&&!(Dt&6)&&Ya();var t=Dt;Dt|=1;var r=mn.transition,n=qt;try{if(mn.transition=null,qt=1,e)return e()}finally{qt=n,mn.transition=r,Dt=t,!(Dt&6)&&Hs()}}function B1(){jr=Ba.current,ie(Ba)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gN(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(m1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ff();break;case 3:ll(),ie(kr),ie(dr),A1();break;case 5:S1(n);break;case 4:ll();break;case 13:ie(de);break;case 19:ie(de);break;case 10:_1(n.type._context);break;case 22:case 23:B1()}r=r.return}if(We=e,Pe=e=Ls(e.current,null),tr=jr=t,Fe=0,ph=null,k1=fp=Uo=0,Pr=$u=null,To!==null){for(t=0;t<To.length;t++)if(r=To[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}To=null}return e}function fC(e,t){do{var r=Pe;try{if(v1(),Fd.current=bf,wf){for(var n=pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wf=!1}if(Do=0,Ge=ke=pe=null,Du=!1,ch=0,M1.current=null,r===null||r.return===null){Fe=1,ph=t,Pe=null;break}t:{var s=e,o=r.return,a=r,u=t;if(t=tr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ub(o);if(g!==null){g.flags&=-257,hb(g,o,a,s,t),g.mode&1&&lb(s,c,t),t=g,u=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break t}else{if(!(t&1)){lb(s,c,t),L1();break t}u=Error(et(426))}}else if(le&&a.mode&1){var A=ub(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),hb(A,o,a,s,t),g1(ul(u,a));break t}}s=u=ul(u,a),Fe!==4&&(Fe=2),$u===null?$u=[s]:$u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=QT(s,u,t);rb(s,b);break t;case 1:a=u;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fs===null||!Fs.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=KT(s,a,t);rb(s,T);break t}}s=s.return}while(s!==null)}gC(r)}catch(M){t=M,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function pC(){var e=Sf.current;return Sf.current=bf,e===null?bf:e}function L1(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||!(Uo&268435455)&&!(fp&268435455)||ws(We,tr)}function Tf(e,t){var r=Dt;Dt|=2;var n=pC();(We!==e||tr!==t)&&(ki=null,Ro(e,t));do try{zN();break}catch(i){fC(e,i)}while(!0);if(v1(),Dt=r,Sf.current=n,Pe!==null)throw Error(et(261));return We=null,tr=0,Fe}function zN(){for(;Pe!==null;)mC(Pe)}function GN(){for(;Pe!==null&&!f2();)mC(Pe)}function mC(e){var t=vC(e.alternate,e,jr);e.memoizedProps=e.pendingProps,t===null?gC(e):Pe=t,M1.current=null}function gC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=BN(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Pe=null;return}}else if(r=FN(r,t,jr),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Fe===0&&(Fe=5)}function uo(e,t,r){var n=qt,i=mn.transition;try{mn.transition=null,qt=1,jN(e,t,r,n)}finally{mn.transition=i,qt=n}return null}function jN(e,t,r,n){do Ya();while(As!==null);if(Dt&6)throw Error(et(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(S2(e,s),e===We&&(Pe=We=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vc||(Vc=!0,_C(af,function(){return Ya(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=qt;qt=1;var a=Dt;Dt|=4,M1.current=null,ON(e,r),hC(r,e),uN(l0),uf=!!a0,l0=a0=null,e.current=r,DN(r),p2(),Dt=a,qt=o,mn.transition=s}else e.current=r;if(Vc&&(Vc=!1,As=e,Ef=i),s=e.pendingLanes,s===0&&(Fs=null),y2(r.stateNode),Fr(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Af)throw Af=!1,e=P0,P0=null,e;return Ef&1&&e.tag!==0&&Ya(),s=e.pendingLanes,s&1?e===I0?zu++:(zu=0,I0=e):zu=0,Hs(),null}function Ya(){if(As!==null){var e=QE(Ef),t=mn.transition,r=qt;try{if(mn.transition=null,qt=16>e?16:e,As===null)var n=!1;else{if(e=As,As=null,Ef=0,Dt&6)throw Error(et(331));var i=Dt;for(Dt|=4,ut=e.current;ut!==null;){var s=ut,o=s.child;if(ut.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ut=c;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Uu(8,d,s)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var m=d.sibling,g=d.return;if(aC(d),d===c){ut=null;break}if(m!==null){m.return=g,ut=m;break}ut=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ut=o;else t:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uu(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ut=b;break t}ut=s.return}}var S=e.current;for(ut=S;ut!==null;){o=ut;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ut=w;else t:for(o=S;ut!==null;){if(a=ut,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dp(9,a)}}catch(M){ye(a,a.return,M)}if(a===o){ut=null;break t}var T=a.sibling;if(T!==null){T.return=a.return,ut=T;break t}ut=a.return}}if(Dt=i,Hs(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(ip,e)}catch{}n=!0}return n}finally{qt=r,mn.transition=t}}return!1}function Sb(e,t,r){t=ul(r,t),t=QT(e,t,1),e=Ns(e,t,1),t=xr(),e!==null&&(Ih(e,1,t),Fr(e,t))}function ye(e,t,r){if(e.tag===3)Sb(e,e,r);else for(;t!==null;){if(t.tag===3){Sb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){e=ul(r,e),e=KT(t,e,1),t=Ns(t,e,1),e=xr(),t!==null&&(Ih(t,1,e),Fr(t,e));break}}t=t.return}}function HN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&r,We===e&&(tr&r)===r&&(Fe===4||Fe===3&&(tr&130023424)===tr&&500>Se()-N1?Ro(e,0):k1|=r),Fr(e,t)}function yC(e,t){t===0&&(e.mode&1?(t=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):t=1);var r=xr();e=Vi(e,t),e!==null&&(Ih(e,t,r),Fr(e,r))}function WN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yC(e,r)}function VN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(et(314))}n!==null&&n.delete(t),yC(e,r)}var vC;vC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rr=!1,NN(e,t,r);Rr=!!(e.flags&131072)}else Rr=!1,le&&t.flags&1048576&&bT(t,gf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ld(e,t),e=t.pendingProps;var i=sl(t,dr.current);Xa(t,r),i=T1(null,t,n,e,i,r);var s=C1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nr(n)?(s=!0,pf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w1(t),i.updater=cp,t.stateNode=i,i._reactInternals=t,y0(t,n,e,r),t=x0(null,t,n,!0,s,r)):(t.tag=0,le&&s&&p1(t),yr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;t:{switch(Ld(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=YN(n),e=Fn(n,e),i){case 0:t=_0(null,t,n,e,r);break t;case 1:t=fb(null,t,n,e,r);break t;case 11:t=cb(null,t,n,e,r);break t;case 14:t=db(null,t,n,Fn(n.type,e),r);break t}throw Error(et(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fn(n,i),_0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fn(n,i),fb(e,t,n,i,r);case 3:t:{if(eC(t),e===null)throw Error(et(387));n=t.pendingProps,s=t.memoizedState,i=s.element,PT(e,t),_f(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ul(Error(et(423)),t),t=pb(e,t,n,r,i);break t}else if(n!==i){i=ul(Error(et(424)),t),t=pb(e,t,n,r,i);break t}else for(Wr=ks(t.stateNode.containerInfo.firstChild),Vr=t,le=!0,Ln=null,r=TT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),n===i){t=Xi(e,t,r);break t}yr(e,t,n,r)}t=t.child}return t;case 5:return IT(t),e===null&&p0(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,u0(n,i)?o=null:s!==null&&u0(n,s)&&(t.flags|=32),tC(e,t),yr(e,t,o,r),t.child;case 6:return e===null&&p0(t),null;case 13:return rC(e,t,r);case 4:return b1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=al(t,null,n,r):yr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fn(n,i),cb(e,t,n,i,r);case 7:return yr(e,t,t.pendingProps,r),t.child;case 8:return yr(e,t,t.pendingProps.children,r),t.child;case 12:return yr(e,t,t.pendingProps.children,r),t.child;case 10:t:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,te(yf,n._currentValue),n._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!kr.current){t=Xi(e,t,r);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=$i(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),m0(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),m0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Xa(t,r),i=yn(i),n=n(i),t.flags|=1,yr(e,t,n,r),t.child;case 14:return n=t.type,i=Fn(n,t.pendingProps),i=Fn(n.type,i),db(e,t,n,i,r);case 15:return ZT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fn(n,i),Ld(e,t),t.tag=1,Nr(n)?(e=!0,pf(t)):e=!1,Xa(t,r),qT(t,n,i),y0(t,n,i,r),x0(null,t,n,!0,e,r);case 19:return nC(e,t,r);case 22:return JT(e,t,r)}throw Error(et(156,t.tag))};function _C(e,t){return VE(e,t)}function XN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,r,n){return new XN(e,t,r,n)}function O1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YN(e){if(typeof e=="function")return O1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===r1)return 11;if(e===n1)return 14}return 2}function Ls(e,t){var r=e.alternate;return r===null?(r=hn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ud(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")O1(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Ea:return Mo(r.children,i,s,t);case e1:o=8,i|=8;break;case zy:return e=hn(12,r,t,i|2),e.elementType=zy,e.lanes=s,e;case Gy:return e=hn(13,r,t,i),e.elementType=Gy,e.lanes=s,e;case jy:return e=hn(19,r,t,i),e.elementType=jy,e.lanes=s,e;case IE:return pp(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CE:o=10;break t;case PE:o=9;break t;case r1:o=11;break t;case n1:o=14;break t;case ys:o=16,n=null;break t}throw Error(et(130,e==null?e:typeof e,""))}return t=hn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Mo(e,t,r,n){return e=hn(7,e,n,t),e.lanes=r,e}function pp(e,t,r,n){return e=hn(22,e,n,t),e.elementType=IE,e.lanes=r,e.stateNode={isHidden:!1},e}function Tg(e,t,r){return e=hn(6,e,null,t),e.lanes=r,e}function Cg(e,t,r){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qN(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D1(e,t,r,n,i,s,o,a,u){return e=new qN(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=hn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(s),e}function QN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xC(e){if(!e)return Us;e=e._reactInternals;t:{if(Wo(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Nr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var r=e.type;if(Nr(r))return xT(e,r,t)}return t}function wC(e,t,r,n,i,s,o,a,u){return e=D1(r,n,!0,e,i,s,o,a,u),e.context=xC(null),r=e.current,n=xr(),i=Bs(r),s=$i(n,i),s.callback=t??null,Ns(r,s,i),e.current.lanes=i,Ih(e,i,n),Fr(e,n),e}function mp(e,t,r,n){var i=t.current,s=xr(),o=Bs(i);return r=xC(r),t.context===null?t.context=r:t.pendingContext=r,t=$i(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ns(i,t,o),e!==null&&(Gn(e,i,o,s),Nd(e,i,o)),o}function Cf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ab(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function U1(e,t){Ab(e,t),(e=e.alternate)&&Ab(e,t)}function KN(){return null}var bC=typeof reportError=="function"?reportError:function(e){console.error(e)};function $1(e){this._internalRoot=e}gp.prototype.render=$1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));mp(e,t,null,null)};gp.prototype.unmount=$1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$o(function(){mp(null,e,null,null)}),t[Wi]=null}};function gp(e){this._internalRoot=e}gp.prototype.unstable_scheduleHydration=function(e){if(e){var t=JE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xs.length&&t!==0&&t<xs[r].priority;r++);xs.splice(r,0,e),r===0&&eT(e)}};function z1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eb(){}function ZN(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Cf(o);s.call(c)}}var o=wC(t,n,e,0,null,!1,!1,"",Eb);return e._reactRootContainer=o,e[Wi]=o.current,oh(e.nodeType===8?e.parentNode:e),$o(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Cf(u);a.call(c)}}var u=D1(e,0,!1,null,null,!1,!1,"",Eb);return e._reactRootContainer=u,e[Wi]=u.current,oh(e.nodeType===8?e.parentNode:e),$o(function(){mp(t,u,r,n)}),u}function vp(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Cf(o);a.call(u)}}mp(t,o,e,i)}else o=ZN(r,t,e,i,n);return Cf(o)}KE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bu(t.pendingLanes);r!==0&&(o1(t,r|1),Fr(t,Se()),!(Dt&6)&&(hl=Se()+500,Hs()))}break;case 13:$o(function(){var n=Vi(e,1);if(n!==null){var i=xr();Gn(n,e,1,i)}}),U1(e,1)}};a1=function(e){if(e.tag===13){var t=Vi(e,134217728);if(t!==null){var r=xr();Gn(t,e,134217728,r)}U1(e,134217728)}};ZE=function(e){if(e.tag===13){var t=Bs(e),r=Vi(e,t);if(r!==null){var n=xr();Gn(r,e,t,n)}U1(e,t)}};JE=function(){return qt};tT=function(e,t){var r=qt;try{return qt=e,t()}finally{qt=r}};Jy=function(e,t,r){switch(t){case"input":if(Vy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=lp(n);if(!i)throw Error(et(90));ME(n),Vy(n,i)}}}break;case"textarea":NE(e,r);break;case"select":t=r.value,t!=null&&ja(e,!!r.multiple,t,!1)}};$E=F1;zE=$o;var JN={usingClientEntryPoint:!1,Events:[Mh,Ia,lp,DE,UE,F1]},hu={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tF={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HE(e),e===null?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||KN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ip=Xc.inject(tF),gi=Xc}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;Qr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(t))throw Error(et(200));return QN(e,t,null,r)};Qr.createRoot=function(e,t){if(!z1(e))throw Error(et(299));var r=!1,n="",i=bC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=D1(e,1,!1,null,null,r,!1,n,i),e[Wi]=t.current,oh(e.nodeType===8?e.parentNode:e),new $1(t)};Qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=HE(t),e=e===null?null:e.stateNode,e};Qr.flushSync=function(e){return $o(e)};Qr.hydrate=function(e,t,r){if(!yp(t))throw Error(et(200));return vp(null,e,t,!0,r)};Qr.hydrateRoot=function(e,t,r){if(!z1(e))throw Error(et(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=bC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wC(t,null,e,1,r??null,i,!1,s,o),e[Wi]=t.current,oh(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new gp(t)};Qr.render=function(e,t,r){if(!yp(t))throw Error(et(200));return vp(null,e,t,!1,r)};Qr.unmountComponentAtNode=function(e){if(!yp(e))throw Error(et(40));return e._reactRootContainer?($o(function(){vp(null,null,e,!1,function(){e._reactRootContainer=null,e[Wi]=null})}),!0):!1};Qr.unstable_batchedUpdates=F1;Qr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yp(r))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return vp(e,t,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(e){console.error(e)}}SC(),SE.exports=Qr;var eF=SE.exports,Tb=eF;Uy.createRoot=Tb.createRoot,Uy.hydrateRoot=Tb.hydrateRoot;var AC={exports:{}},Vo=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(Vo||{}),EC=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(EC||{}),k0=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(k0||{}),wt=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(wt||{}),Un=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Un||{}),it=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(it||{}),qa=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(qa||{}),At=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(At||{}),at=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(at||{}),Di=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(Di||{}),zi=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(zi||{}),$s=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))($s||{}),cn=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(cn||{}),ho=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(ho||{}),G1=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(G1||{}),dn=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(dn||{}),Me=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(Me||{}),Te=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(Te||{}),vi=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(vi||{});const rF={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},mt={ADAPTER:rF,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Pg=/iPhone/i,Cb=/iPod/i,Pb=/iPad/i,Ib=/\biOS-universal(?:.+)Mac\b/i,Ig=/\bAndroid(?:.+)Mobile\b/i,Rb=/Android/i,ca=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yc=/Silk/i,Ii=/Windows Phone/i,Mb=/\bWindows(?:.+)ARM\b/i,kb=/BlackBerry/i,Nb=/BB10/i,Fb=/Opera Mini/i,Bb=/\b(CriOS|Chrome)(?:.+)Mobile/i,Lb=/Mobile(?:.+)Firefox\b/i,Ob=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function nF(e){return function(t){return t.test(e)}}function Db(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=nF(r),s={apple:{phone:i(Pg)&&!i(Ii),ipod:i(Cb),tablet:!i(Pg)&&(i(Pb)||Ob(t))&&!i(Ii),universal:i(Ib),device:(i(Pg)||i(Cb)||i(Pb)||i(Ib)||Ob(t))&&!i(Ii)},amazon:{phone:i(ca),tablet:!i(ca)&&i(Yc),device:i(ca)||i(Yc)},android:{phone:!i(Ii)&&i(ca)||!i(Ii)&&i(Ig),tablet:!i(Ii)&&!i(ca)&&!i(Ig)&&(i(Yc)||i(Rb)),device:!i(Ii)&&(i(ca)||i(Yc)||i(Ig)||i(Rb))||i(/\bokhttp\b/i)},windows:{phone:i(Ii),tablet:i(Mb),device:i(Ii)||i(Mb)},other:{blackberry:i(kb),blackberry10:i(Nb),opera:i(Fb),firefox:i(Lb),chrome:i(Bb),device:i(kb)||i(Nb)||i(Fb)||i(Lb)||i(Bb)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const iF=Db.default??Db,La=iF(globalThis.navigator);mt.RETINA_PREFIX=/@([0-9\.]+)x/;mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var TC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||u,m),v=r?r+c:c;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,v=new Array(g);m<g;m++)v[m]=f[m].fn;return v},a.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,m,g,v){var x=r?r+c:c;if(!this._events[x])return!1;var A=this._events[x],b=arguments.length,S,w;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),b){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,f),!0;case 4:return A.fn.call(A.context,d,f,m),!0;case 5:return A.fn.call(A.context,d,f,m,g),!0;case 6:return A.fn.call(A.context,d,f,m,g,v),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];A.fn.apply(A.context,S)}else{var T=A.length,M;for(w=0;w<T;w++)switch(A[w].once&&this.removeListener(c,A[w].fn,void 0,!0),b){case 1:A[w].fn.call(A[w].context);break;case 2:A[w].fn.call(A[w].context,d);break;case 3:A[w].fn.call(A[w].context,d,f);break;case 4:A[w].fn.call(A[w].context,d,f,m);break;default:if(!S)for(M=1,S=new Array(b-1);M<b;M++)S[M-1]=arguments[M];A[w].fn.apply(A[w].context,S)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,m){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var x=0,A=[],b=v.length;x<b;x++)(v[x].fn!==d||m&&!v[x].once||f&&v[x].context!==f)&&A.push(v[x]);A.length?this._events[g]=A.length===1?A[0]:A:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(TC);var sF=TC.exports;const Nh=Ki(sF);var j1={exports:{}};j1.exports=_p;j1.exports.default=_p;function _p(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,s=CC(e,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,c,d,f,m,g;if(n&&(s=hF(e,t,s,r)),e.length>80*r){a=c=e[0],u=d=e[1];for(var v=r;v<i;v+=r)f=e[v],m=e[v+1],f<a&&(a=f),m<u&&(u=m),f>c&&(c=f),m>d&&(d=m);g=Math.max(c-a,d-u),g=g!==0?32767/g:0}return mh(s,o,r,a,u,g,0),o}function CC(e,t,r,n,i){var s,o;if(i===B0(e,t,r,n)>0)for(s=t;s<r;s+=n)o=Ub(s,e[s],e[s+1],o);else for(s=r-n;s>=t;s-=n)o=Ub(s,e[s],e[s+1],o);return o&&xp(o,o.next)&&(yh(o),o=o.next),o}function zo(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(xp(r,r.next)||fe(r.prev,r,r.next)===0)){if(yh(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function mh(e,t,r,n,i,s,o){if(e){!o&&s&&mF(e,n,i,s);for(var a=e,u,c;e.prev!==e.next;){if(u=e.prev,c=e.next,s?aF(e,n,i,s):oF(e)){t.push(u.i/r|0),t.push(e.i/r|0),t.push(c.i/r|0),yh(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=lF(zo(e),t,r),mh(e,t,r,n,i,s,2)):o===2&&uF(e,t,r,n,i,s):mh(zo(e),t,r,n,i,s,1);break}}}}function oF(e){var t=e.prev,r=e,n=e.next;if(fe(t,r,n)>=0)return!1;for(var i=t.x,s=r.x,o=n.x,a=t.y,u=r.y,c=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<u?a<c?a:c:u<c?u:c,m=i>s?i>o?i:o:s>o?s:o,g=a>u?a>c?a:c:u>c?u:c,v=n.next;v!==t;){if(v.x>=d&&v.x<=m&&v.y>=f&&v.y<=g&&Oa(i,a,s,u,o,c,v.x,v.y)&&fe(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function aF(e,t,r,n){var i=e.prev,s=e,o=e.next;if(fe(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,c=o.x,d=i.y,f=s.y,m=o.y,g=a<u?a<c?a:c:u<c?u:c,v=d<f?d<m?d:m:f<m?f:m,x=a>u?a>c?a:c:u>c?u:c,A=d>f?d>m?d:m:f>m?f:m,b=N0(g,v,t,r,n),S=N0(x,A,t,r,n),w=e.prevZ,T=e.nextZ;w&&w.z>=b&&T&&T.z<=S;){if(w.x>=g&&w.x<=x&&w.y>=v&&w.y<=A&&w!==i&&w!==o&&Oa(a,d,u,f,c,m,w.x,w.y)&&fe(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=g&&T.x<=x&&T.y>=v&&T.y<=A&&T!==i&&T!==o&&Oa(a,d,u,f,c,m,T.x,T.y)&&fe(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=b;){if(w.x>=g&&w.x<=x&&w.y>=v&&w.y<=A&&w!==i&&w!==o&&Oa(a,d,u,f,c,m,w.x,w.y)&&fe(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=S;){if(T.x>=g&&T.x<=x&&T.y>=v&&T.y<=A&&T!==i&&T!==o&&Oa(a,d,u,f,c,m,T.x,T.y)&&fe(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function lF(e,t,r){var n=e;do{var i=n.prev,s=n.next.next;!xp(i,s)&&PC(i,n,n.next,s)&&gh(i,s)&&gh(s,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(s.i/r|0),yh(n),yh(n.next),n=e=s),n=n.next}while(n!==e);return zo(n)}function uF(e,t,r,n,i,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&vF(o,a)){var u=IC(o,a);o=zo(o,o.next),u=zo(u,u.next),mh(o,t,r,n,i,s,0),mh(u,t,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==e)}function hF(e,t,r,n){var i=[],s,o,a,u,c;for(s=0,o=t.length;s<o;s++)a=t[s]*n,u=s<o-1?t[s+1]*n:e.length,c=CC(e,a,u,n,!1),c===c.next&&(c.steiner=!0),i.push(yF(c));for(i.sort(cF),s=0;s<i.length;s++)r=dF(i[s],r);return r}function cF(e,t){return e.x-t.x}function dF(e,t){var r=fF(e,t);if(!r)return t;var n=IC(r,e);return zo(n,n.next),zo(r,r.next)}function fF(e,t){var r=t,n=e.x,i=e.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==t);if(!o)return null;var u=o,c=o.x,d=o.y,f=1/0,m;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&Oa(i<d?n:s,i,c,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),gh(r,e)&&(m<f||m===f&&(r.x>o.x||r.x===o.x&&pF(o,r)))&&(o=r,f=m)),r=r.next;while(r!==u);return o}function pF(e,t){return fe(e.prev,e,t.prev)<0&&fe(t.next,e,e.next)<0}function mF(e,t,r,n){var i=e;do i.z===0&&(i.z=N0(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,gF(i)}function gF(e){var t,r,n,i,s,o,a,u,c=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,n=r,a=0,t=0;t<c&&(a++,n=n.nextZ,!!n);t++);for(u=c;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return e}function N0(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function yF(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Oa(e,t,r,n,i,s,o,a){return(i-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(n-a)>=(r-o)*(t-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function vF(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!_F(e,t)&&(gh(e,t)&&gh(t,e)&&xF(e,t)&&(fe(e.prev,e,t.prev)||fe(e,t.prev,t))||xp(e,t)&&fe(e.prev,e,e.next)>0&&fe(t.prev,t,t.next)>0)}function fe(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function xp(e,t){return e.x===t.x&&e.y===t.y}function PC(e,t,r,n){var i=Qc(fe(e,t,r)),s=Qc(fe(e,t,n)),o=Qc(fe(r,n,e)),a=Qc(fe(r,n,t));return!!(i!==s&&o!==a||i===0&&qc(e,r,t)||s===0&&qc(e,n,t)||o===0&&qc(r,e,n)||a===0&&qc(r,t,n))}function qc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Qc(e){return e>0?1:e<0?-1:0}function _F(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&PC(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function gh(e,t){return fe(e.prev,e,e.next)<0?fe(e,t,e.next)>=0&&fe(e,e.prev,t)>=0:fe(e,t,e.prev)<0||fe(e,e.next,t)<0}function xF(e,t){var r=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function IC(e,t){var r=new F0(e.i,e.x,e.y),n=new F0(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Ub(e,t,r,n){var i=new F0(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function yh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function F0(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}_p.deviation=function(e,t,r,n){var i=t&&t.length,s=i?t[0]*r:e.length,o=Math.abs(B0(e,0,s,r));if(i)for(var a=0,u=t.length;a<u;a++){var c=t[a]*r,d=a<u-1?t[a+1]*r:e.length;o-=Math.abs(B0(e,c,d,r))}var f=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,g=n[a+1]*r,v=n[a+2]*r;f+=Math.abs((e[m]-e[v])*(e[g+1]-e[m+1])-(e[m]-e[g])*(e[v+1]-e[m+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function B0(e,t,r,n){for(var i=0,s=t,o=r-n;s<r;s+=n)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}_p.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[i][s][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var wF=j1.exports;const RC=Ki(wF);var Pf={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Pf.exports;(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof Ga=="object"&&Ga;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,c=1,d=26,f=38,m=700,g=72,v=128,x="-",A=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=u-c,M=Math.floor,N=String.fromCharCode,C;function I(k){throw new RangeError(w[k])}function B(k,G){for(var V=k.length,ot=[];V--;)ot[V]=G(k[V]);return ot}function F(k,G){var V=k.split("@"),ot="";V.length>1&&(ot=V[0]+"@",k=V[1]),k=k.replace(S,".");var st=k.split("."),yt=B(st,G).join(".");return ot+yt}function Y(k){for(var G=[],V=0,ot=k.length,st,yt;V<ot;)st=k.charCodeAt(V++),st>=55296&&st<=56319&&V<ot?(yt=k.charCodeAt(V++),(yt&64512)==56320?G.push(((st&1023)<<10)+(yt&1023)+65536):(G.push(st),V--)):G.push(st);return G}function J(k){return B(k,function(G){var V="";return G>65535&&(G-=65536,V+=N(G>>>10&1023|55296),G=56320|G&1023),V+=N(G),V}).join("")}function U(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:u}function D(k,G){return k+22+75*(k<26)-((G!=0)<<5)}function z(k,G,V){var ot=0;for(k=V?M(k/m):k>>1,k+=M(k/G);k>T*d>>1;ot+=u)k=M(k/T);return M(ot+(T+1)*k/(k+f))}function H(k){var G=[],V=k.length,ot,st=0,yt=v,pt=g,bt,Ft,Rt,Et,gt,St,Tt,rr,Ae;for(bt=k.lastIndexOf(x),bt<0&&(bt=0),Ft=0;Ft<bt;++Ft)k.charCodeAt(Ft)>=128&&I("not-basic"),G.push(k.charCodeAt(Ft));for(Rt=bt>0?bt+1:0;Rt<V;){for(Et=st,gt=1,St=u;Rt>=V&&I("invalid-input"),Tt=U(k.charCodeAt(Rt++)),(Tt>=u||Tt>M((a-st)/gt))&&I("overflow"),st+=Tt*gt,rr=St<=pt?c:St>=pt+d?d:St-pt,!(Tt<rr);St+=u)Ae=u-rr,gt>M(a/Ae)&&I("overflow"),gt*=Ae;ot=G.length+1,pt=z(st-Et,ot,Et==0),M(st/ot)>a-yt&&I("overflow"),yt+=M(st/ot),st%=ot,G.splice(st++,0,yt)}return J(G)}function W(k){var G,V,ot,st,yt,pt,bt,Ft,Rt,Et,gt,St=[],Tt,rr,Ae,pr;for(k=Y(k),Tt=k.length,G=v,V=0,yt=g,pt=0;pt<Tt;++pt)gt=k[pt],gt<128&&St.push(N(gt));for(ot=st=St.length,st&&St.push(x);ot<Tt;){for(bt=a,pt=0;pt<Tt;++pt)gt=k[pt],gt>=G&&gt<bt&&(bt=gt);for(rr=ot+1,bt-G>M((a-V)/rr)&&I("overflow"),V+=(bt-G)*rr,G=bt,pt=0;pt<Tt;++pt)if(gt=k[pt],gt<G&&++V>a&&I("overflow"),gt==G){for(Ft=V,Rt=u;Et=Rt<=yt?c:Rt>=yt+d?d:Rt-yt,!(Ft<Et);Rt+=u)pr=Ft-Et,Ae=u-Et,St.push(N(D(Et+pr%Ae,0))),Ft=M(pr/Ae);St.push(N(D(Ft,0))),yt=z(V,rr,ot==st),V=0,++ot}++V,++G}return St.join("")}function R(k){return F(k,function(G){return A.test(G)?H(G.slice(4).toLowerCase()):G})}function L(k){return F(k,function(G){return b.test(G)?"xn--"+W(G):G})}if(o={version:"1.4.1",ucs2:{decode:Y,encode:J},decode:H,encode:W,toASCII:L,toUnicode:R},n&&i)if(e.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(Ga)})(Pf,Pf.exports);var bF=Pf.exports,SF=Error,AF=EvalError,EF=RangeError,TF=ReferenceError,MC=SyntaxError,Fh=TypeError,CF=URIError,PF=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},$b=typeof Symbol<"u"&&Symbol,IF=PF,RF=function(){return typeof $b!="function"||typeof Symbol!="function"||typeof $b("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:IF()},Rg={__proto__:null,foo:{}},MF=Object,kF=function(){return{__proto__:Rg}.foo===Rg.foo&&!(Rg instanceof MF)},NF="Function.prototype.bind called on incompatible ",FF=Object.prototype.toString,BF=Math.max,LF="[object Function]",zb=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},OF=function(t,r){for(var n=[],i=r,s=0;i<t.length;i+=1,s+=1)n[s]=t[i];return n},DF=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},UF=function(t){var r=this;if(typeof r!="function"||FF.apply(r)!==LF)throw new TypeError(NF+r);for(var n=OF(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,zb(n,arguments));return Object(d)===d?d:this}return r.apply(t,zb(n,arguments))},o=BF(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+DF(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},$F=UF,H1=Function.prototype.bind||$F,zF=Function.prototype.call,GF=Object.prototype.hasOwnProperty,jF=H1,HF=jF.call(zF,GF),Nt,WF=SF,VF=AF,XF=EF,YF=TF,cl=MC,Qa=Fh,qF=CF,kC=Function,Mg=function(e){try{return kC('"use strict"; return ('+e+").constructor;")()}catch{}},ko=Object.getOwnPropertyDescriptor;if(ko)try{ko({},"")}catch{ko=null}var kg=function(){throw new Qa},QF=ko?function(){try{return arguments.callee,kg}catch{try{return ko(arguments,"callee").get}catch{return kg}}}():kg,da=RF(),KF=kF(),ze=Object.getPrototypeOf||(KF?function(e){return e.__proto__}:null),xa={},ZF=typeof Uint8Array>"u"||!ze?Nt:ze(Uint8Array),No={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Nt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Nt:ArrayBuffer,"%ArrayIteratorPrototype%":da&&ze?ze([][Symbol.iterator]()):Nt,"%AsyncFromSyncIteratorPrototype%":Nt,"%AsyncFunction%":xa,"%AsyncGenerator%":xa,"%AsyncGeneratorFunction%":xa,"%AsyncIteratorPrototype%":xa,"%Atomics%":typeof Atomics>"u"?Nt:Atomics,"%BigInt%":typeof BigInt>"u"?Nt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Nt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Nt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Nt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":WF,"%eval%":eval,"%EvalError%":VF,"%Float32Array%":typeof Float32Array>"u"?Nt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Nt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Nt:FinalizationRegistry,"%Function%":kC,"%GeneratorFunction%":xa,"%Int8Array%":typeof Int8Array>"u"?Nt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Nt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Nt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":da&&ze?ze(ze([][Symbol.iterator]())):Nt,"%JSON%":typeof JSON=="object"?JSON:Nt,"%Map%":typeof Map>"u"?Nt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!da||!ze?Nt:ze(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Nt:Promise,"%Proxy%":typeof Proxy>"u"?Nt:Proxy,"%RangeError%":XF,"%ReferenceError%":YF,"%Reflect%":typeof Reflect>"u"?Nt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Nt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!da||!ze?Nt:ze(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Nt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":da&&ze?ze(""[Symbol.iterator]()):Nt,"%Symbol%":da?Symbol:Nt,"%SyntaxError%":cl,"%ThrowTypeError%":QF,"%TypedArray%":ZF,"%TypeError%":Qa,"%Uint8Array%":typeof Uint8Array>"u"?Nt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Nt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Nt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Nt:Uint32Array,"%URIError%":qF,"%WeakMap%":typeof WeakMap>"u"?Nt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Nt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Nt:WeakSet};if(ze)try{null.error}catch(e){var JF=ze(ze(e));No["%Error.prototype%"]=JF}var tB=function e(t){var r;if(t==="%AsyncFunction%")r=Mg("async function () {}");else if(t==="%GeneratorFunction%")r=Mg("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Mg("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&ze&&(r=ze(i.prototype))}return No[t]=r,r},Gb={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Bh=H1,If=HF,eB=Bh.call(Function.call,Array.prototype.concat),rB=Bh.call(Function.apply,Array.prototype.splice),jb=Bh.call(Function.call,String.prototype.replace),Rf=Bh.call(Function.call,String.prototype.slice),nB=Bh.call(Function.call,RegExp.prototype.exec),iB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sB=/\\(\\)?/g,oB=function(t){var r=Rf(t,0,1),n=Rf(t,-1);if(r==="%"&&n!=="%")throw new cl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new cl("invalid intrinsic syntax, expected opening `%`");var i=[];return jb(t,iB,function(s,o,a,u){i[i.length]=a?jb(u,sB,"$1"):o||s}),i},aB=function(t,r){var n=t,i;if(If(Gb,n)&&(i=Gb[n],n="%"+i[0]+"%"),If(No,n)){var s=No[n];if(s===xa&&(s=tB(n)),typeof s>"u"&&!r)throw new Qa("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new cl("intrinsic "+t+" does not exist!")},Il=function(t,r){if(typeof t!="string"||t.length===0)throw new Qa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qa('"allowMissing" argument must be a boolean');if(nB(/^%?[^%]*%?$/,t)===null)throw new cl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=oB(t),i=n.length>0?n[0]:"",s=aB("%"+i+"%",r),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],rB(n,eB([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],g=Rf(m,0,1),v=Rf(m,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new cl("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(u=!0),i+="."+m,o="%"+i+"%",If(No,o))a=No[o];else if(a!=null){if(!(m in a)){if(!r)throw new Qa("base intrinsic for "+t+" exists, but the property is not available.");return}if(ko&&d+1>=n.length){var x=ko(a,m);f=!!x,f&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[m]}else f=If(a,m),a=a[m];f&&!u&&(No[o]=a)}}return a},NC={exports:{}},Ng,Hb;function W1(){if(Hb)return Ng;Hb=1;var e=Il,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Ng=t,Ng}var lB=Il,$d=lB("%Object.getOwnPropertyDescriptor%",!0);if($d)try{$d([],"length")}catch{$d=null}var FC=$d,Wb=W1(),uB=MC,fa=Fh,Vb=FC,hB=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new fa("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new fa("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new fa("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new fa("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new fa("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new fa("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!Vb&&Vb(t,r);if(Wb)Wb(t,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)t[r]=n;else throw new uB("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},L0=W1(),BC=function(){return!!L0};BC.hasArrayLengthDefineBug=function(){if(!L0)return null;try{return L0([],"length",{value:1}).length!==1}catch{return!0}};var cB=BC,dB=Il,Xb=hB,fB=cB(),Yb=FC,qb=Fh,pB=dB("%Math.floor%"),mB=function(t,r){if(typeof t!="function")throw new qb("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||pB(r)!==r)throw new qb("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in t&&Yb){var o=Yb(t,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(fB?Xb(t,"length",r,!0,!0):Xb(t,"length",r)),t};(function(e){var t=H1,r=Il,n=mB,i=Fh,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(o,s),u=W1(),c=r("%Math.max%");e.exports=function(m){if(typeof m!="function")throw new i("a function is required");var g=a(t,o,arguments);return n(g,1+c(0,m.length-(arguments.length-1)),!0)};var d=function(){return a(t,s,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d})(NC);var gB=NC.exports,LC=Il,OC=gB,yB=OC(LC("String.prototype.indexOf")),vB=function(t,r){var n=LC(t,!!r);return typeof n=="function"&&yB(t,".prototype.")>-1?OC(n):n};const _B={},xB=Object.freeze(Object.defineProperty({__proto__:null,default:_B},Symbol.toStringTag,{value:"Module"})),wB=cE(xB);var V1=typeof Map=="function"&&Map.prototype,Fg=Object.getOwnPropertyDescriptor&&V1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Mf=V1&&Fg&&typeof Fg.get=="function"?Fg.get:null,Qb=V1&&Map.prototype.forEach,X1=typeof Set=="function"&&Set.prototype,Bg=Object.getOwnPropertyDescriptor&&X1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,kf=X1&&Bg&&typeof Bg.get=="function"?Bg.get:null,Kb=X1&&Set.prototype.forEach,bB=typeof WeakMap=="function"&&WeakMap.prototype,Gu=bB?WeakMap.prototype.has:null,SB=typeof WeakSet=="function"&&WeakSet.prototype,ju=SB?WeakSet.prototype.has:null,AB=typeof WeakRef=="function"&&WeakRef.prototype,Zb=AB?WeakRef.prototype.deref:null,EB=Boolean.prototype.valueOf,TB=Object.prototype.toString,CB=Function.prototype.toString,PB=String.prototype.match,Y1=String.prototype.slice,Es=String.prototype.replace,IB=String.prototype.toUpperCase,Jb=String.prototype.toLowerCase,DC=RegExp.prototype.test,tS=Array.prototype.concat,ci=Array.prototype.join,RB=Array.prototype.slice,eS=Math.floor,O0=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Lg=Object.getOwnPropertySymbols,D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,dl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",fr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===dl||!0)?Symbol.toStringTag:null,UC=Object.prototype.propertyIsEnumerable,rS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function nS(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||DC.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-eS(-e):eS(e);if(n!==e){var i=String(n),s=Y1.call(t,i.length+1);return Es.call(i,r,"$&_")+"."+Es.call(Es.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Es.call(t,r,"$&_")}var U0=wB,iS=U0.custom,sS=zC(iS)?iS:null,MB=function e(t,r,n,i){var s=r||{};if(_s(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_s(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=_s(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_s(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_s(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return jC(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return a?nS(t,u):u}if(typeof t=="bigint"){var c=String(t)+"n";return a?nS(t,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return $0(t)?"[Array]":"[Object]";var f=qB(s,n);if(typeof i>"u")i=[];else if(GC(i,t)>=0)return"[Circular]";function m(U,D,z){if(D&&(i=RB.call(i),i.push(D)),z){var H={depth:s.depth};return _s(s,"quoteStyle")&&(H.quoteStyle=s.quoteStyle),e(U,H,n+1,i)}return e(U,s,n+1,i)}if(typeof t=="function"&&!oS(t)){var g=$B(t),v=Kc(t,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+ci.call(v,", ")+" }":"")}if(zC(t)){var x=dl?Es.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):D0.call(t);return typeof t=="object"&&!dl?cu(x):x}if(VB(t)){for(var A="<"+Jb.call(String(t.nodeName)),b=t.attributes||[],S=0;S<b.length;S++)A+=" "+b[S].name+"="+$C(kB(b[S].value),"double",s);return A+=">",t.childNodes&&t.childNodes.length&&(A+="..."),A+="</"+Jb.call(String(t.nodeName))+">",A}if($0(t)){if(t.length===0)return"[]";var w=Kc(t,m);return f&&!YB(w)?"["+z0(w,f)+"]":"[ "+ci.call(w,", ")+" ]"}if(FB(t)){var T=Kc(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!UC.call(t,"cause")?"{ ["+String(t)+"] "+ci.call(tS.call("[cause]: "+m(t.cause),T),", ")+" }":T.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ci.call(T,", ")+" }"}if(typeof t=="object"&&o){if(sS&&typeof t[sS]=="function"&&U0)return U0(t,{depth:d-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(zB(t)){var M=[];return Qb&&Qb.call(t,function(U,D){M.push(m(D,t,!0)+" => "+m(U,t))}),aS("Map",Mf.call(t),M,f)}if(HB(t)){var N=[];return Kb&&Kb.call(t,function(U){N.push(m(U,t))}),aS("Set",kf.call(t),N,f)}if(GB(t))return Og("WeakMap");if(WB(t))return Og("WeakSet");if(jB(t))return Og("WeakRef");if(LB(t))return cu(m(Number(t)));if(DB(t))return cu(m(O0.call(t)));if(OB(t))return cu(EB.call(t));if(BB(t))return cu(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ga)return"{ [object globalThis] }";if(!NB(t)&&!oS(t)){var C=Kc(t,m),I=rS?rS(t)===Object.prototype:t instanceof Object||t.constructor===Object,B=t instanceof Object?"":"null prototype",F=!I&&fr&&Object(t)===t&&fr in t?Y1.call(Ws(t),8,-1):B?"Object":"",Y=I||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",J=Y+(F||B?"["+ci.call(tS.call([],F||[],B||[]),": ")+"] ":"");return C.length===0?J+"{}":f?J+"{"+z0(C,f)+"}":J+"{ "+ci.call(C,", ")+" }"}return String(t)};function $C(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function kB(e){return Es.call(String(e),/"/g,"&quot;")}function $0(e){return Ws(e)==="[object Array]"&&(!fr||!(typeof e=="object"&&fr in e))}function NB(e){return Ws(e)==="[object Date]"&&(!fr||!(typeof e=="object"&&fr in e))}function oS(e){return Ws(e)==="[object RegExp]"&&(!fr||!(typeof e=="object"&&fr in e))}function FB(e){return Ws(e)==="[object Error]"&&(!fr||!(typeof e=="object"&&fr in e))}function BB(e){return Ws(e)==="[object String]"&&(!fr||!(typeof e=="object"&&fr in e))}function LB(e){return Ws(e)==="[object Number]"&&(!fr||!(typeof e=="object"&&fr in e))}function OB(e){return Ws(e)==="[object Boolean]"&&(!fr||!(typeof e=="object"&&fr in e))}function zC(e){if(dl)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!D0)return!1;try{return D0.call(e),!0}catch{}return!1}function DB(e){if(!e||typeof e!="object"||!O0)return!1;try{return O0.call(e),!0}catch{}return!1}var UB=Object.prototype.hasOwnProperty||function(e){return e in this};function _s(e,t){return UB.call(e,t)}function Ws(e){return TB.call(e)}function $B(e){if(e.name)return e.name;var t=PB.call(CB.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function GC(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function zB(e){if(!Mf||!e||typeof e!="object")return!1;try{Mf.call(e);try{kf.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function GB(e){if(!Gu||!e||typeof e!="object")return!1;try{Gu.call(e,Gu);try{ju.call(e,ju)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function jB(e){if(!Zb||!e||typeof e!="object")return!1;try{return Zb.call(e),!0}catch{}return!1}function HB(e){if(!kf||!e||typeof e!="object")return!1;try{kf.call(e);try{Mf.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function WB(e){if(!ju||!e||typeof e!="object")return!1;try{ju.call(e,ju);try{Gu.call(e,Gu)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function VB(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function jC(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return jC(Y1.call(e,0,t.maxStringLength),t)+n}var i=Es.call(Es.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,XB);return $C(i,"single",t)}function XB(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+IB.call(t.toString(16))}function cu(e){return"Object("+e+")"}function Og(e){return e+" { ? }"}function aS(e,t,r,n){var i=n?z0(r,n):ci.call(r,", ");return e+" ("+t+") {"+i+"}"}function YB(e){for(var t=0;t<e.length;t++)if(GC(e[t],`
`)>=0)return!1;return!0}function qB(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=ci.call(Array(e.indent+1)," ");else return null;return{base:r,prev:ci.call(Array(t+1),r)}}function z0(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+ci.call(e,","+r)+`
`+t.prev}function Kc(e,t){var r=$0(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=_s(e,i)?t(e[i],e):""}var s=typeof Lg=="function"?Lg(e):[],o;if(dl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in e)_s(e,u)&&(r&&String(Number(u))===u&&u<e.length||dl&&o["$"+u]instanceof Symbol||(DC.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof Lg=="function")for(var c=0;c<s.length;c++)UC.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}var HC=Il,Rl=vB,QB=MB,KB=Fh,Zc=HC("%WeakMap%",!0),Jc=HC("%Map%",!0),ZB=Rl("WeakMap.prototype.get",!0),JB=Rl("WeakMap.prototype.set",!0),tL=Rl("WeakMap.prototype.has",!0),eL=Rl("Map.prototype.get",!0),rL=Rl("Map.prototype.set",!0),nL=Rl("Map.prototype.has",!0),q1=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},iL=function(e,t){var r=q1(e,t);return r&&r.value},sL=function(e,t,r){var n=q1(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},oL=function(e,t){return!!q1(e,t)},aL=function(){var t,r,n,i={assert:function(s){if(!i.has(s))throw new KB("Side channel does not contain "+QB(s))},get:function(s){if(Zc&&s&&(typeof s=="object"||typeof s=="function")){if(t)return ZB(t,s)}else if(Jc){if(r)return eL(r,s)}else if(n)return iL(n,s)},has:function(s){if(Zc&&s&&(typeof s=="object"||typeof s=="function")){if(t)return tL(t,s)}else if(Jc){if(r)return nL(r,s)}else if(n)return oL(n,s);return!1},set:function(s,o){Zc&&s&&(typeof s=="object"||typeof s=="function")?(t||(t=new Zc),JB(t,s,o)):Jc?(r||(r=new Jc),rL(r,s,o)):(n||(n={key:{},next:null}),sL(n,s,o))}};return i},lL=String.prototype.replace,uL=/%20/g,Dg={RFC1738:"RFC1738",RFC3986:"RFC3986"},Q1={default:Dg.RFC3986,formatters:{RFC1738:function(e){return lL.call(e,uL,"+")},RFC3986:function(e){return String(e)}},RFC1738:Dg.RFC1738,RFC3986:Dg.RFC3986},hL=Q1,Ug=Object.prototype.hasOwnProperty,So=Array.isArray,ii=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),cL=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(So(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},WC=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},dL=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(So(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ug.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return So(t)&&!So(r)&&(i=WC(t,n)),So(t)&&So(r)?(r.forEach(function(s,o){if(Ug.call(t,o)){var a=t[o];a&&typeof a=="object"&&s&&typeof s=="object"?t[o]=e(a,s,n):t.push(s)}else t[o]=s}),t):Object.keys(r).reduce(function(s,o){var a=r[o];return Ug.call(s,o)?s[o]=e(s[o],a,n):s[o]=a,s},i)},fL=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},pL=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},$g=1024,mL=function(t,r,n,i,s){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=$g){for(var c=o.length>=$g?o.slice(u,u+$g):o,d=[],f=0;f<c.length;++f){var m=c.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===hL.RFC1738&&(m===40||m===41)){d[d.length]=c.charAt(f);continue}if(m<128){d[d.length]=ii[m];continue}if(m<2048){d[d.length]=ii[192|m>>6]+ii[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ii[224|m>>12]+ii[128|m>>6&63]+ii[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=ii[240|m>>18]+ii[128|m>>12&63]+ii[128|m>>6&63]+ii[128|m&63]}a+=d.join("")}return a},gL=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return cL(r),t},yL=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},vL=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},_L=function(t,r){return[].concat(t,r)},xL=function(t,r){if(So(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},VC={arrayToObject:WC,assign:fL,combine:_L,compact:gL,decode:pL,encode:mL,isBuffer:vL,isRegExp:yL,maybeMap:xL,merge:dL},XC=aL,zd=VC,Hu=Q1,wL=Object.prototype.hasOwnProperty,YC={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},hi=Array.isArray,bL=Array.prototype.push,qC=function(e,t){bL.apply(e,hi(t)?t:[t])},SL=Date.prototype.toISOString,lS=Hu.default,Re={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:zd.encode,encodeValuesOnly:!1,format:lS,formatter:Hu.formatters[lS],indices:!1,serializeDate:function(t){return SL.call(t)},skipNulls:!1,strictNullHandling:!1},AL=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},zg={},EL=function e(t,r,n,i,s,o,a,u,c,d,f,m,g,v,x,A,b,S){for(var w=t,T=S,M=0,N=!1;(T=T.get(zg))!==void 0&&!N;){var C=T.get(t);if(M+=1,typeof C<"u"){if(C===M)throw new RangeError("Cyclic object value");N=!0}typeof T.get(zg)>"u"&&(M=0)}if(typeof d=="function"?w=d(r,w):w instanceof Date?w=g(w):n==="comma"&&hi(w)&&(w=zd.maybeMap(w,function(k){return k instanceof Date?g(k):k})),w===null){if(o)return c&&!A?c(r,Re.encoder,b,"key",v):r;w=""}if(AL(w)||zd.isBuffer(w)){if(c){var I=A?r:c(r,Re.encoder,b,"key",v);return[x(I)+"="+x(c(w,Re.encoder,b,"value",v))]}return[x(r)+"="+x(String(w))]}var B=[];if(typeof w>"u")return B;var F;if(n==="comma"&&hi(w))A&&c&&(w=zd.maybeMap(w,c)),F=[{value:w.length>0?w.join(",")||null:void 0}];else if(hi(d))F=d;else{var Y=Object.keys(w);F=f?Y.sort(f):Y}var J=u?r.replace(/\./g,"%2E"):r,U=i&&hi(w)&&w.length===1?J+"[]":J;if(s&&hi(w)&&w.length===0)return U+"[]";for(var D=0;D<F.length;++D){var z=F[D],H=typeof z=="object"&&typeof z.value<"u"?z.value:w[z];if(!(a&&H===null)){var W=m&&u?z.replace(/\./g,"%2E"):z,R=hi(w)?typeof n=="function"?n(U,W):U:U+(m?"."+W:"["+W+"]");S.set(t,M);var L=XC();L.set(zg,S),qC(B,e(H,R,n,i,s,o,a,u,n==="comma"&&A&&hi(w)?null:c,d,f,m,g,v,x,A,b,L))}}return B},TL=function(t){if(!t)return Re;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Re.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Hu.default;if(typeof t.format<"u"){if(!wL.call(Hu.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=Hu.formatters[n],s=Re.filter;(typeof t.filter=="function"||hi(t.filter))&&(s=t.filter);var o;if(t.arrayFormat in YC?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=Re.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Re.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Re.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Re.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Re.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Re.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Re.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Re.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Re.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Re.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Re.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Re.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Re.strictNullHandling}},CL=function(e,t){var r=e,n=TL(t),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):hi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=YC[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=XC(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||qC(o,EL(r[f],f,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""},fl=VC,G0=Object.prototype.hasOwnProperty,PL=Array.isArray,we={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:fl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},IL=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},QC=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},RL="utf8=%26%2310003%3B",ML="utf8=%E2%9C%93",kL=function(t,r){var n={__proto__:null},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===ML?c="utf-8":o[u]===RL&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var d=o[u],f=d.indexOf("]="),m=f===-1?d.indexOf("="):f+1,g,v;m===-1?(g=r.decoder(d,we.decoder,c,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,m),we.decoder,c,"key"),v=fl.maybeMap(QC(d.slice(m+1),r),function(A){return r.decoder(A,we.decoder,c,"value")})),v&&r.interpretNumericEntities&&c==="iso-8859-1"&&(v=IL(v)),d.indexOf("[]=")>-1&&(v=PL(v)?[v]:v);var x=G0.call(n,g);x&&r.duplicates==="combine"?n[g]=fl.combine(n[g],v):(!x||r.duplicates==="last")&&(n[g]=v)}return n},NL=function(e,t,r,n){for(var i=n?t:QC(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},FL=function(t,r,n,i){if(t){var s=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,d=[];if(c){if(!n.plainObjects&&G0.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&G0.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+s.slice(u.index)+"]"),NL(d,r,n,i)}},BL=function(t){if(!t)return we;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?we.charset:t.charset,n=typeof t.duplicates>"u"?we.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:we.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:we.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:we.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:we.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:we.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:we.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:we.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:we.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:we.decoder,delimiter:typeof t.delimiter=="string"||fl.isRegExp(t.delimiter)?t.delimiter:we.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:we.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:we.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:we.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:we.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:we.strictNullHandling}},LL=function(e,t){var r=BL(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?kL(e,r):e,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=FL(a,n[a],r,typeof e=="string");i=fl.merge(i,u,r)}return r.allowSparse===!0?i:fl.compact(i)},OL=CL,DL=LL,UL=Q1,$L={formats:UL,parse:DL,stringify:OL},zL=bF;function Gi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var GL=/^([a-z0-9.+-]+:)/i,jL=/:[0-9]*$/,HL=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,WL=["<",">",'"',"`"," ","\r",`
`,"	"],VL=["{","}","|","\\","^","`"].concat(WL),j0=["'"].concat(VL),uS=["%","/","?",";","#"].concat(j0),hS=["/","?","#"],XL=255,cS=/^[+a-z0-9A-Z_-]{0,63}$/,YL=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qL={javascript:!0,"javascript:":!0},H0={javascript:!0,"javascript:":!0},Ka={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},W0=$L;function QL(e,t,r){if(e&&typeof e=="object"&&e instanceof Gi)return e;var n=new Gi;return n.parse(e,t,r),n}Gi.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),e=s.join(i);var a=e;if(a=a.trim(),!r&&e.split("#").length===1){var u=HL.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=W0.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=GL.exec(a);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&H0[c])&&(a=a.substr(2),this.slashes=!0)}if(!H0[c]&&(f||c&&!Ka[c])){for(var m=-1,g=0;g<hS.length;g++){var v=a.indexOf(hS[g]);v!==-1&&(m===-1||v<m)&&(m=v)}var x,A;m===-1?A=a.lastIndexOf("@"):A=a.lastIndexOf("@",m),A!==-1&&(x=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(x)),m=-1;for(var g=0;g<uS.length;g++){var v=a.indexOf(uS[g]);v!==-1&&(m===-1||v<m)&&(m=v)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var S=this.hostname.split(/\./),g=0,w=S.length;g<w;g++){var T=S[g];if(T&&!T.match(cS)){for(var M="",N=0,C=T.length;N<C;N++)T.charCodeAt(N)>127?M+="x":M+=T[N];if(!M.match(cS)){var I=S.slice(0,g),B=S.slice(g+1),F=T.match(YL);F&&(I.push(F[1]),B.unshift(F[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=I.join(".");break}}}this.hostname.length>XL?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=zL.toASCII(this.hostname));var Y=this.port?":"+this.port:"",J=this.hostname||"";this.host=J+Y,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!qL[d])for(var g=0,w=j0.length;g<w;g++){var U=j0[g];if(a.indexOf(U)!==-1){var D=encodeURIComponent(U);D===U&&(D=escape(U)),a=a.split(U).join(D)}}var z=a.indexOf("#");z!==-1&&(this.hash=a.substr(z),a=a.slice(0,z));var H=a.indexOf("?");if(H!==-1?(this.search=a.substr(H),this.query=a.substr(H+1),t&&(this.query=W0.parse(this.query)),a=a.slice(0,H)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Ka[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",W=this.search||"";this.path=Y+W}return this.href=this.format(),this};Gi.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=W0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ka[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),t+i+r+o+n};Gi.prototype.resolve=function(e){return this.resolveObject(QL(e,!1,!0)).format()};Gi.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Gi;t.parse(e,!1,!0),e=t}for(var r=new Gi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=e[u])}return Ka[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Ka[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var f=c[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!H0[e.protocol]){for(var w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",x=e.host||e.pathname&&e.pathname.charAt(0)==="/",A=x||v||r.host&&e.pathname,b=A,S=r.pathname&&r.pathname.split("/")||[],w=e.pathname&&e.pathname.split("/")||[],T=r.protocol&&!Ka[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(w[0]===""?w[0]=e.host:w.unshift(e.host)),e.host=null),A=A&&(w[0]===""||S[0]==="")),x)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=w;else if(w.length)S||(S=[]),S.pop(),S=S.concat(w),r.search=e.search,r.query=e.query;else if(e.search!=null){if(T){r.host=S.shift(),r.hostname=r.host;var M=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;M&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=S.slice(-1)[0],C=(r.host||e.host||S.length>1)&&(N==="."||N==="..")||N==="",I=0,B=S.length;B>=0;B--)N=S[B],N==="."?S.splice(B,1):N===".."?(S.splice(B,1),I++):I&&(S.splice(B,1),I--);if(!A&&!b)for(;I--;I)S.unshift("..");A&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),C&&S.join("/").substr(-1)!=="/"&&S.push("");var F=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(T){r.hostname=F?"":S.length?S.shift():"",r.host=r.hostname;var M=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;M&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)}return A=A||r.host&&S.length,A&&!F&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Gi.prototype.parseHost=function(){var e=this.host,t=jL.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const dS={};function Ot(e,t,r=3){if(dS[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(n))),dS[t]=!0}function In(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function du(e){return e.split("?")[0].split("#")[0]}function KL(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ZL(e,t,r){return e.replace(new RegExp(KL(t),"g"),r)}function JL(e,t){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${e.slice(i+1,a)}`:r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const gn={toPosix(e){return ZL(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},isBlobUrl(e){return e.startsWith("blob:")},hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){In(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(In(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const n=du(this.toPosix(t??mt.ADAPTER.getBaseUrl())),i=du(this.toPosix(r??this.rootname(n)));return e=this.toPosix(e),e.startsWith("/")?gn.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(In(e),e.length===0)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="";const r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return e=JL(e),e.length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return In(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){const n=e[r];if(In(n),n.length>0)if(t===void 0)t=n;else{const i=e[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(In(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const r=t===47;let n=-1,i=!0;const s=this.getProtocol(e),o=e;e=e.slice(s.length);for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+e:s:r&&n===1?"//":s+e.slice(0,n)},rootname(e){In(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){In(e),t&&In(t),e=du(this.toPosix(e));let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,a=-1;for(s=e.length-1;s>=0;--s){const u=e.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){In(e),e=du(this.toPosix(e));let t=-1,r=0,n=-1,i=!0,s=0;for(let o=e.length-1;o>=0;--o){const a=e.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){In(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=du(this.toPosix(e));let r=e.charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),n||this.hasProtocol(e)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,c=e.length-1,d=0;for(;c>=i;--c){if(r=e.charCodeAt(c),r===47){if(!u){o=c+1;break}continue}a===-1&&(u=!1,a=c+1),r===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?t.base=t.name=e.slice(1,a):t.base=t.name=e.slice(o,a)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,a)):(t.name=e.slice(o,s),t.base=e.slice(o,a)),t.ext=e.slice(s,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Gg;async function tO(){return Gg??(Gg=(async()=>{var s;const e=document.createElement("canvas").getContext("webgl");if(!e)return cn.UNPACK;const t=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!t)return cn.UNPACK;const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(n),e.deleteTexture(r),(s=e.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?cn.PMA:cn.UNPACK})()),Gg}let jg;function eO(){return typeof jg>"u"&&(jg=function(){var t;const e={stencil:!0,failIfMajorPerformanceCaveat:mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!mt.ADAPTER.getWebGLRenderingContext())return!1;const r=mt.ADAPTER.createCanvas();let n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const i=!!((t=n==null?void 0:n.getContextAttributes())!=null&&t.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),jg}var rO={grad:.9,turn:360,rad:360/(2*Math.PI)},Ri=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},je=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},fn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},KC=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},fS=function(e){return{r:fn(e.r,0,255),g:fn(e.g,0,255),b:fn(e.b,0,255),a:fn(e.a)}},Hg=function(e){return{r:je(e.r),g:je(e.g),b:je(e.b),a:je(e.a,3)}},nO=/^#([0-9a-f]{3,8})$/i,td=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},ZC=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),o=s-Math.min(t,r,n),a=o?s===t?(r-n)/o:s===r?2+(n-t)/o:4+(t-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},JC=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),o=n*(1-r),a=n*(1-(t-s)*r),u=n*(1-(1-t+s)*r),c=s%6;return{r:255*[n,a,o,o,u,n][c],g:255*[u,n,n,a,o,o][c],b:255*[o,o,u,n,n,a][c],a:i}},pS=function(e){return{h:KC(e.h),s:fn(e.s,0,100),l:fn(e.l,0,100),a:fn(e.a)}},mS=function(e){return{h:je(e.h),s:je(e.s),l:je(e.l),a:je(e.a,3)}},gS=function(e){return JC((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},Wu=function(e){return{h:(t=ZC(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},iO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V0={string:[[function(e){var t=nO.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?je(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?je(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=oO.exec(e)||aO.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:fS({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=iO.exec(e)||sO.exec(e);if(!t)return null;var r,n,i=pS({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(rO[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return gS(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=i===void 0?1:i;return Ri(t)&&Ri(r)&&Ri(n)?fS({r:Number(t),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,s=i===void 0?1:i;if(!Ri(t)||!Ri(r)||!Ri(n))return null;var o=pS({h:Number(t),s:Number(r),l:Number(n),a:Number(s)});return gS(o)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,s=i===void 0?1:i;if(!Ri(t)||!Ri(r)||!Ri(n))return null;var o=function(a){return{h:KC(a.h),s:fn(a.s,0,100),v:fn(a.v,0,100),a:fn(a.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(s)});return JC(o)},"hsv"]]},yS=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},lO=function(e){return typeof e=="string"?yS(e.trim(),V0.string):typeof e=="object"&&e!==null?yS(e,V0.object):[null,void 0]},Wg=function(e,t){var r=Wu(e);return{h:r.h,s:fn(r.s+100*t,0,100),l:r.l,a:r.a}},Vg=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},vS=function(e,t){var r=Wu(e);return{h:r.h,s:r.s,l:fn(r.l+100*t,0,100),a:r.a}},X0=function(){function e(t){this.parsed=lO(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return je(Vg(this.rgba),2)},e.prototype.isDark=function(){return Vg(this.rgba)<.5},e.prototype.isLight=function(){return Vg(this.rgba)>=.5},e.prototype.toHex=function(){return t=Hg(this.rgba),r=t.r,n=t.g,i=t.b,o=(s=t.a)<1?td(je(255*s)):"","#"+td(r)+td(n)+td(i)+o;var t,r,n,i,s,o},e.prototype.toRgb=function(){return Hg(this.rgba)},e.prototype.toRgbString=function(){return t=Hg(this.rgba),r=t.r,n=t.g,i=t.b,(s=t.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,s},e.prototype.toHsl=function(){return mS(Wu(this.rgba))},e.prototype.toHslString=function(){return t=mS(Wu(this.rgba)),r=t.h,n=t.s,i=t.l,(s=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,s},e.prototype.toHsv=function(){return t=ZC(this.rgba),{h:je(t.h),s:je(t.s),v:je(t.v),a:je(t.a,3)};var t},e.prototype.invert=function(){return Nn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Nn(Wg(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Nn(Wg(this.rgba,-t))},e.prototype.grayscale=function(){return Nn(Wg(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Nn(vS(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Nn(vS(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Nn({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):je(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=Wu(this.rgba);return typeof t=="number"?Nn({h:t,s:r.s,l:r.l,a:r.a}):je(r.h)},e.prototype.isEqual=function(t){return this.toHex()===Nn(t).toHex()},e}(),Nn=function(e){return e instanceof X0?e:new X0(e)},_S=[],tP=function(e){e.forEach(function(t){_S.indexOf(t)<0&&(t(X0,V0),_S.push(t))})};function eP(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};e.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var d=this.toRgb(),f=1/0,m="black";if(!s.length)for(var g in r)s[g]=new e(r[g]).toRgb();for(var v in r){var x=(a=d,u=s[v],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));x<f&&(f=x,m=v)}return m}},t.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new e(u).toRgb():null},"name"])}tP([eP]);const wa=class Gd{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Gd)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,r){const n=typeof t;if(n!==typeof r)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===r;if(Array.isArray(t)&&Array.isArray(r)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(r))return t.length!==r.length?!1:t.every((i,s)=>i===r[s]);if(t!==null&&r!==null){const i=Object.keys(t),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>t[o]===r[o])}return t===r}toRgba(){const[t,r,n,i]=this._components;return{r:t,g:r,b:n,a:i}}toRgb(){const[t,r,n]=this._components;return{r:t,g:r,b:n}}toRgbaString(){const[t,r,n]=this.toUint8RgbArray();return`rgba(${t},${r},${n},${this.alpha})`}toUint8RgbArray(t){const[r,n,i]=this._components;return t=t??[],t[0]=Math.round(r*255),t[1]=Math.round(n*255),t[2]=Math.round(i*255),t}toRgbArray(t){t=t??[];const[r,n,i]=this._components;return t[0]=r,t[1]=n,t[2]=i,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[r,n,i,s]=Gd.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(t,r=!0){return r&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,r=!0){if(t===1)return(255<<24)+this._int;if(t===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*t+.5|0,i=i*t+.5|0,s=s*t+.5|0),(t*255<<24)+(n<<16)+(i<<8)+s}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[r,n,i]=this._components;return this._components[0]=Math.round(r*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(i*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[r,n,i,s]=this._components;return t[0]=r,t[1]=n,t[2]=i,t[3]=s,t}normalize(t){let r,n,i,s;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,n,i,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,n,i,s=255]=t,r/=255,n/=255,i/=255,s/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=Gd.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=Nn(t);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,r,n]=this._components;this._int=(t*255<<16)+(r*255<<8)+(n*255|0)}_clamp(t,r=0,n=1){return typeof t=="number"?Math.min(Math.max(t,r),n):(t.forEach((i,s)=>{t[s]=Math.min(Math.max(i,r),n)}),t)}};wa.shared=new wa,wa.temp=new wa,wa.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ve=wa;function uO(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[wt.NORMAL_NPM]=wt.NORMAL,e[wt.ADD_NPM]=wt.ADD,e[wt.SCREEN_NPM]=wt.SCREEN,t[wt.NORMAL]=wt.NORMAL_NPM,t[wt.ADD]=wt.ADD_NPM,t[wt.SCREEN]=wt.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const rP=uO();function nP(e,t){return rP[t?1:0][e]}function hO(e,t=null){const r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function iP(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function Nf(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function xS(e){return!(e&e-1)&&!!e}function wS(e){let t=(e>65535?1:0)<<4;e>>>=t;let r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Vu(e,t,r){const n=e.length;let i;if(t>=n||r===0)return;r=t+r>n?n-t:r;const s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}function Da(e){return e===0?0:e<0?-1:1}let cO=0;function vh(){return++cO}const Y0=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Y0.EMPTY=new Y0(0,0,0,0);let bS=Y0;const SS={},si=Object.create(null),fs=Object.create(null);function AS(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(e[i+3]!==0)return!1;return!0}function ES(e,t,r,n,i){const s=4*t;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(e[a+3]!==0)return!1;return!0}function dO(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,t,r).data;let s=0,o=0,a=t-1,u=r-1;for(;o<r&&AS(i,t,o);)++o;if(o===r)return bS.EMPTY;for(;AS(i,t,u);)--u;for(;ES(i,t,s,o,u);)++s;for(;ES(i,t,a,o,u);)--a;return++a,++u,new bS(s,o,a,u)}function fO(e){const t=dO(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const s=e.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}function pO(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function pl(e,t=1){var n;const r=(n=mt.RETINA_PREFIX)==null?void 0:n.exec(e);return r?parseFloat(r[1]):t}var ht=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(ht||{});const q0=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},TS=(e,t)=>q0(e).priority??t,xt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(q0).forEach(t=>{t.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,t)})}),this},add(...e){return e.map(q0).forEach(t=>{t.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,t):(i[r]=i[r]||[],(o=i[r])==null||o.push(t))})}),this},handle(e,t,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const s=this._queue;return s[e]&&((o=s[e])==null||o.forEach(a=>t(a)),delete s[e]),this},handleByMap(e,t){return this.handle(e,r=>{r.name&&(t[r.name]=r.ref)},r=>{r.name&&delete t[r.name]})},handleByList(e,t,r=-1){return this.handle(e,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((i,s)=>TS(s,r)-TS(i,r)))},n=>{const i=t.indexOf(n.ref);i!==-1&&t.splice(i,1)})}};let mO=class{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}};const gO=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function yO(e){let t="";for(let r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function vO(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=gO.replace(/%forloop%/gi,yO(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}const Xg=0,Yg=1,qg=2,Qg=3,Kg=4,Zg=5;class Ai{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Xg)}set blend(t){!!(this.data&1<<Xg)!==t&&(this.data^=1<<Xg)}get offsets(){return!!(this.data&1<<Yg)}set offsets(t){!!(this.data&1<<Yg)!==t&&(this.data^=1<<Yg)}get culling(){return!!(this.data&1<<qg)}set culling(t){!!(this.data&1<<qg)!==t&&(this.data^=1<<qg)}get depthTest(){return!!(this.data&1<<Qg)}set depthTest(t){!!(this.data&1<<Qg)!==t&&(this.data^=1<<Qg)}get depthMask(){return!!(this.data&1<<Zg)}set depthMask(t){!!(this.data&1<<Zg)!==t&&(this.data^=1<<Zg)}get clockwiseFrontFace(){return!!(this.data&1<<Kg)}set clockwiseFrontFace(t){!!(this.data&1<<Kg)!==t&&(this.data^=1<<Kg)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==wt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new Ai;return t.depthTest=!1,t.blend=!0,t}}Ai.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Q0=[];function sP(e,t){if(!e)return null;let r="";if(typeof e=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(let n=Q0.length-1;n>=0;--n){const i=Q0[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class jn{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let f=0,m=d.length;f<m;f++)d[f][c](t,r,n,i,s,o,a,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(jn.prototype,{dispatch:{value:jn.prototype.emit},run:{value:jn.prototype.emit}});class _h{constructor(t=0,r=0){this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new jn("setRealSize"),this.onUpdate=new jn("update"),this.onError=new jn("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,r){return!1}}class oP extends _h{constructor(t,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=t,this.unpackAlignment=r.unpackAlignment??4}upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===cn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const _O={scaleMode:Di.NEAREST,alphaMode:cn.NPM},K0=class ba extends Nh{constructor(t=null,r=null){super(),r=Object.assign({},ba.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:c,format:d,type:f,target:m,resolution:g,resourceOptions:v}=r;t&&!(t instanceof _h)&&(t=sP(t,v),t.internal=!0),this.resolution=g||mt.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=d,this.type=f,this.target=m,this.alphaMode=n,this.uid=vh(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,r){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(t,r,n){return n=n||this.resolution,this.setRealSize(t*n,r*n,n)}setRealSize(t,r,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=xS(this.realWidth)&&xS(this.realHeight)}setResolution(t){const r=this.resolution;return r===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*r)/t,this.height=Math.round(this.height*r)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete fs[this.cacheId],delete si[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),ba.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,n=mt.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else{if(!t._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${vh()}`}s=t._pixiId}let o=fs[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new ba(t,r),o.cacheId=s,ba.addToCache(o,s)),o}static fromBuffer(t,r,n,i){t=t||new Float32Array(r*n*4);const s=new oP(t,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return t instanceof Float32Array?(o=it.RGBA,a=At.FLOAT):t instanceof Int32Array?(o=it.RGBA_INTEGER,a=At.INT):t instanceof Uint32Array?(o=it.RGBA_INTEGER,a=At.UNSIGNED_INT):t instanceof Int16Array?(o=it.RGBA_INTEGER,a=At.SHORT):t instanceof Uint16Array?(o=it.RGBA_INTEGER,a=At.UNSIGNED_SHORT):t instanceof Int8Array?(o=it.RGBA,a=At.BYTE):(o=it.RGBA,a=At.UNSIGNED_BYTE),s.internal=!0,new ba(s,Object.assign({},_O,{type:a,format:o},i))}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),fs[r]&&fs[r]!==t&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),fs[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=fs[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete fs[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)delete fs[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}};K0.defaultOptions={mipmap:$s.POW2,anisotropicLevel:0,scaleMode:Di.LINEAR,wrapMode:zi.CLAMP,alphaMode:cn.UNPACK,target:qa.TEXTURE_2D,format:it.RGBA,type:At.UNSIGNED_BYTE},K0._globalBatch=0;let Lt=K0;class Z0{constructor(){this.texArray=null,this.blend=0,this.type=Un.TRIANGLES,this.start=0,this.size=0,this.data=null}}let xO=0,Ne=class aP{constructor(t,r=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=xO++,this.disposeRunner=new jn("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?vi.ELEMENT_ARRAY_BUFFER:vi.ARRAY_BUFFER}get index(){return this.type===vi.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new aP(t)}};class Ff{constructor(t,r=0,n=!1,i=At.FLOAT,s,o,a,u=1){this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(t,r,n,i,s){return new Ff(t,r,n,i,s)}}const wO={Float32Array,Uint32Array,Int32Array,Uint8Array};function bO(e,t){let r=0,n=0;const i={};for(let u=0;u<e.length;u++)n+=t[u],r+=e[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<e.length;u++){const c=t[u],d=e[u],f=iP(d);i[f]||(i[f]=new wO[f](s)),o=i[f];for(let m=0;m<d.length;m++){const g=(m/c|0)*n+a,v=m%c;o[g+v]=d[m]}a+=c}return new Float32Array(s)}const CS={5126:4,5123:2,5121:1};let SO=0;const AO={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};let Lh=class J0{constructor(t=[],r={}){this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=SO++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new jn("disposeGeometry"),this.refCount=0}addAttribute(t,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ne||(r instanceof Array&&(r=new Float32Array(r)),r=new Ne(r));const c=t.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[t]=new Ff(d,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof Ne||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ne(t)),t.type=vi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],r=[],n=new Ne;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];t.push(o.data),r.push(s.size*CS[s.type]/4),s.buffer=0}for(n.data=bO(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const r=this.attributes[t];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new J0;for(let r=0;r<this.buffers.length;r++)t.buffers[r]=new Ne(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];t.attributes[r]=new Ff(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=vi.ELEMENT_ARRAY_BUFFER),t}static merge(t){const r=new J0,n=[],i=[],s=[];let o;for(let a=0;a<t.length;a++){o=t[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new AO[iP(o.buffers[a].data)](i[a]),r.buffers[a]=new Ne(n[a]);for(let a=0;a<t.length;a++){o=t[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=vi.ELEMENT_ARRAY_BUFFER;let a=0,u=0,c=0,d=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){d=f;break}for(const f in o.attributes){const m=o.attributes[f];(m.buffer|0)===d&&(u+=m.size*CS[m.type]/4)}for(let f=0;f<t.length;f++){const m=t[f].indexBuffer.data;for(let g=0;g<m.length;g++)r.indexBuffer.data[g+c]+=a;a+=t[f].buffers[d].data.length/u,c+=m.length}}return r}},lP=class extends Lh{constructor(t=!1){super(),this._buffer=new Ne(null,t,!1),this._indexBuffer=new Ne(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,At.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,At.FLOAT).addAttribute("aColor",this._buffer,4,!0,At.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,At.FLOAT).addIndex(this._indexBuffer)}};const Bf=Math.PI*2,EO=180/Math.PI,TO=Math.PI/180;var Qe=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(Qe||{});let jt=class uP{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new uP(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}};jt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ed=[new jt,new jt,new jt,new jt];let Wt=class tv{constructor(t=0,r=0,n=0,i=0){this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Qe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new tv(0,0,0,0)}clone(){return new tv(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(t,r){if(!r){const I=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=I)return!1;const B=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>B}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=ed[0].set(t.left,t.top),u=ed[1].set(t.left,t.bottom),c=ed[2].set(t.right,t.top),d=ed[3].set(t.right,t.bottom);if(c.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(u,u),r.apply(c,c),r.apply(d,d),Math.max(a.x,u.x,c.x,d.x)<=n||Math.min(a.x,u.x,c.x,d.x)>=i||Math.max(a.y,u.y,c.y,d.y)<=s||Math.min(a.y,u.y,c.y,d.y)>=o))return!1;const m=f*(u.y-a.y),g=f*(a.x-u.x),v=m*n+g*s,x=m*i+g*s,A=m*n+g*o,b=m*i+g*o;if(Math.max(v,x,A,b)<=m*a.x+g*a.y||Math.min(v,x,A,b)>=m*d.x+g*d.y)return!1;const S=f*(a.y-c.y),w=f*(c.x-a.x),T=S*n+w*s,M=S*i+w*s,N=S*n+w*o,C=S*i+w*o;return!(Math.max(T,M,N,C)<=S*a.x+w*a.y||Math.min(T,M,N,C)>=S*d.x+w*d.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(t=1,r=.001){const n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}};Wt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let hP=class cP{constructor(t=0,r=0,n=0){this.x=t,this.y=r,this.radius=n,this.type=Qe.CIRC}clone(){return new cP(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-t,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Wt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}};hP.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};let dP=class fP{constructor(t=0,r=0,n=0,i=0){this.x=t,this.y=r,this.width=n,this.height=i,this.type=Qe.ELIP}clone(){return new fP(this.x,this.y,this.width,this.height)}contains(t,r){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Wt(this.x-this.width,this.y-this.height,this.width,this.height)}};dP.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let Xu=class pP{constructor(...t){let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Qe.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),r=new pP(t);return r.closeStroke=this.closeStroke,r}contains(t,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1];u>r!=d>r&&t<(c-a)*((r-u)/(d-u))+a&&(n=!n)}return n}};Xu.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`};let mP=class gP{constructor(t=0,r=0,n=0,i=0,s=20){this.x=t,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Qe.RREC}clone(){return new gP(this.x,this.y,this.width,this.height,this.radius)}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let i=t-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=t-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=t-(this.x+n),i*i+s*s<=o))return!0}return!1}};mP.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};let Be=class jd{constructor(t=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,n,i,s,o){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,r){r=r||new jt;const n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(t,r){r=r||new jt;const n=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(t){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this}setTransform(t,r,n,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,n=this.b,i=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(Bf-c)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=u),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(o.x*r+o.y*i),t.position.y=this.ty+(o.x*n+o.y*s),t}invert(){const t=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=t*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(t*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new jd;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new jd}static get TEMP_MATRIX(){return new jd}};Be.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const co=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],po=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ev=[],yP=[],rd=Math.sign;function CO(){for(let e=0;e<16;e++){const t=[];ev.push(t);for(let r=0;r<16;r++){const n=rd(co[e]*co[r]+po[e]*fo[r]),i=rd(fo[e]*co[r]+mo[e]*fo[r]),s=rd(co[e]*po[r]+po[e]*mo[r]),o=rd(fo[e]*po[r]+mo[e]*mo[r]);for(let a=0;a<16;a++)if(co[a]===n&&fo[a]===i&&po[a]===s&&mo[a]===o){t.push(a);break}}}for(let e=0;e<16;e++){const t=new Be;t.set(co[e],fo[e],po[e],mo[e],0,0),yP.push(t)}}CO();const he={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>co[e],uY:e=>fo[e],vX:e=>po[e],vY:e=>mo[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>ev[e][t],sub:(e,t)=>ev[e][he.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?he.S:he.N:Math.abs(t)*2<=Math.abs(e)?e>0?he.E:he.W:t>0?e>0?he.SE:he.SW:e>0?he.NE:he.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=yP[he.inv(t)];i.tx=r,i.ty=n,e.append(i)}};let Ts=class vP{constructor(t,r,n=0,i=0){this._x=n,this._y=i,this.cb=t,this.scope=r}clone(t=this.cb,r=this.scope){return new vP(t,r,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}};Ts.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const rv=class{constructor(){this.worldTransform=new Be,this.localTransform=new Be,this.position=new Ts(this.onChange,this,0,0),this.scale=new Ts(this.onChange,this,1,1),this.pivot=new Ts(this.onChange,this,0,0),this.skew=new Ts(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};rv.IDENTITY=new rv;let wp=rv;wp.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var PO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,IO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function PS(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function Jg(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function _P(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Jg(2*t);case"bvec3":return Jg(3*t);case"bvec4":return Jg(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Za=[{test:e=>e.type==="float"&&e.size===1&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>e.type==="vec2"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>e.type==="vec3"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>e.type==="vec4"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}],RO={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},MO={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function kO(e,t){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in e.uniforms){const s=t[i];if(!s){((n=e.uniforms[i])==null?void 0:n.group)===!0&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=e.uniforms[i];let a=!1;for(let u=0;u<Za.length;u++)if(Za[u].test(s,o)){r.push(Za[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?RO:MO)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const xP={};let pa=xP;function NO(){if(pa===xP||pa!=null&&pa.isContextLost()){const e=mt.ADAPTER.createCanvas();let t;mt.PREFER_ENV>=Vo.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),pa=t}return pa}let nd;function FO(){if(!nd){nd=dn.MEDIUM;const e=NO();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(nd=t.precision?dn.HIGH:dn.MEDIUM)}}return nd}function IS(e,t){const r=e.getShaderSource(t).split(`
`).map((c,d)=>`${d}: ${c}`),n=e.getShaderInfoLog(t),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function BO(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||IS(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||IS(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}const LO={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function wP(e){return LO[e]}let id=null;const RS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function bP(e,t){if(!id){const r=Object.keys(RS);id={};for(let n=0;n<r.length;++n){const i=r[n];id[e[i]]=RS[i]}}return id[t]}function MS(e,t,r){if(e.substring(0,9)!=="precision"){let n=t;return t===dn.HIGH&&r!==dn.HIGH&&(n=dn.MEDIUM),`precision ${n} float;
${e}`}else if(r!==dn.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}let fu;function OO(){if(typeof fu=="boolean")return fu;try{fu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{fu=!1}return fu}let DO=0;const sd={},nv=class Sa{constructor(t,r,n="pixi-shader",i={}){this.extra={},this.id=DO++,this.vertexSrc=t||Sa.defaultVertexSrc,this.fragmentSrc=r||Sa.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),sd[n]?(sd[n]++,n+=`-${sd[n]}`):sd[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=MS(this.vertexSrc,Sa.defaultVertexPrecision,dn.HIGH),this.fragmentSrc=MS(this.fragmentSrc,Sa.defaultFragmentPrecision,FO())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return IO}static get defaultFragmentSrc(){return PO}static from(t,r,n){const i=t+r;let s=SS[i];return s||(SS[i]=s=new Sa(t,r,n)),s}};nv.defaultVertexPrecision=dn.HIGH,nv.defaultFragmentPrecision=La.apple.device?dn.HIGH:dn.MEDIUM;let Ui=nv,UO=0;class Hn{constructor(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UO++,this.static=!!r,this.ubo=!!n,t instanceof Ne?(this.buffer=t,this.buffer.type=vi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ne(new Float32Array(1)),this.buffer.type=vi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,r,n){if(!this.ubo)this.uniforms[t]=new Hn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,r,n){return new Hn(t,r,n)}static uboFrom(t,r){return new Hn(t,r??!0,!0)}}class _i{constructor(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof Hn?this.uniformGroup=r:this.uniformGroup=new Hn(r):this.uniformGroup=new Hn({}),this.disposeRunner=new jn("disposeShader")}checkUniformExists(t,r){if(r.uniforms[t])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(t,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,r,n){const i=Ui.from(t,r);return new _i(i,n)}}class $O{constructor(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let s=0;s<t;s++)n[s]=s;this.defaultGroupCache[t]=Hn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${t}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ui(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Be,default:this.defaultGroupCache[t]};return new _i(this.programCache[t],r)}generateSampleSrc(t){let r="";r+=`
`,r+=`
`;for(let n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}let iv=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}};function zO(){return!La.apple.device}function GO(e){let t=!0;const r=mt.ADAPTER.getNavigator();if(La.tablet||La.phone){if(La.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(La.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?e:4}class bp{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var jO=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,HO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Au=class Mn extends bp{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=lP,this.vertexSize=6,this.state=Ai.for2d(),this.size=Mn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??GO(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??zO(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Ot("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return HO}static get defaultFragmentTemplate(){return jO}setShaderGenerator({vertex:t=Mn.defaultVertexSrc,fragment:r=Mn.defaultFragmentTemplate}={}){this.shaderGenerator=new $O(t,r)}contextChange(){const t=this.renderer.gl;mt.PREFER_ENV===Vo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Mn.defaultMaxTextures),this.maxTextures=vO(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:r}=Mn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Z0);for(;r.length<i;)r.push(new iv);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:r}=this,n=Mn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Lt._globalBatch,u=0,c=n[0],d=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const m=t[f];t[f]=null,m._batchEnabled!==a&&(c.count>=r&&(i.boundArray(c,s,a,r),this.buildDrawCalls(c,d,f),d=f,c=n[++u],++a),m._batchEnabled=a,m.touched=o,c.elements[c.count++]=m)}c.count>0&&(i.boundArray(c,s,a,r),this.buildDrawCalls(c,d,this._bufferSize),++u,++a);for(let f=0;f<s.length;f++)s[f]=null;Lt._globalBatch=a}buildDrawCalls(t,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=Mn._drawCallPool;let c=this._dcIndex,d=this._aIndex,f=this._iIndex,m=u[c];m.start=this._iIndex,m.texArray=t;for(let g=r;g<n;++g){const v=i[g],x=v._texture.baseTexture,A=rP[x.alphaMode?1:0][v.blendMode];i[g]=null,r<g&&m.blend!==A&&(m.size=f-m.start,r=g,m=u[++c],m.texArray=t,m.start=f),this.packInterleavedGeometry(v,s,o,d,f),d+=v.vertexData.length/2*a,f+=v.indices.length,m.blend=A}r<n&&(m.size=f-m.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(t){const r=this.renderer.texture;for(let n=0;n<t.count;n++)r.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:n}=this;Mn.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:r,state:n}=this.renderer,i=Mn._drawCallPool;let s=null;for(let o=0;o<t;o++){const{texArray:a,type:u,size:c,start:d,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(u,c,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Mn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const r=Nf(Math.ceil(t/8)),n=wS(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new mO(i*this.vertexSize*4)),s}getIndexBuffer(t){const r=Nf(Math.ceil(t/12)),n=wS(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(t,r,n,i,s){const{uint32View:o,float32View:a}=r,u=i/this.vertexSize,c=t.uvs,d=t.indices,f=t.vertexData,m=t._texture.baseTexture._batchLocation,g=Math.min(t.worldAlpha,1),v=ve.shared.setValue(t._tintRGB).toPremultiplied(g,t._texture.baseTexture.alphaMode>0);for(let x=0;x<f.length;x+=2)a[i++]=f[x],a[i++]=f[x+1],a[i++]=c[x],a[i++]=c[x+1],o[i++]=v,a[i++]=m;for(let x=0;x<d.length;x++)n[s++]=u+d[x]}};Au.defaultBatchSize=4096,Au.extension={name:"batch",type:ht.RendererPlugin},Au._drawCallPool=[],Au._textureArrayPool=[];let go=Au;xt.add(go);var WO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,VO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const sv=class Eu extends _i{constructor(t,r,n){const i=Ui.from(t||Eu.defaultVertexSrc,r||Eu.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Eu.defaultResolution,this.multisample=Eu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ai}apply(t,r,n,i,s){t.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return VO}static get defaultFragmentSrc(){return WO}};sv.defaultResolution=1,sv.defaultMultisample=Te.NONE;let Po=sv;class Lf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ve(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=t,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Lf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Lf.extension={type:[ht.RendererSystem,ht.CanvasRendererSystem],name:"background"};xt.add(Lf);class SP{constructor(t){this.renderer=t,this.emptyRenderer=new bp(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)}boundArray(t,r,n,i){const{elements:s,ids:o,count:a}=t;let u=0;for(let c=0;c<a;c++){const d=s[c],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[c]=f;continue}for(;u<i;){const m=r[u];if(m&&m._batchEnabled===n&&m._batchLocation===u){u++;continue}o[c]=u,d._batchLocation=u,r[u]=d;break}}}destroy(){this.renderer=null}}SP.extension={type:ht.RendererSystem,name:"batch"};xt.add(SP);let kS=0;class Of{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=kS++}init(t){if(t.context)this.initFromContext(t.context);else{const r=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=kS++,this.renderer.runners.contextChange.emit(t);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const r=this.createContext(this.renderer.view,t);this.initFromContext(r)}createContext(t,r){let n;if(mt.PREFER_ENV>=Vo.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Of.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Of.extension={type:ht.RendererSystem,name:"context"};xt.add(Of);class ov{constructor(t,r){if(this.width=Math.round(t),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new jn("disposeFramebuffer"),this.multisample=Te.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,r){return this.colorTextures[t]=r||new Lt(null,{scaleMode:Di.NEAREST,resolution:1,mipmap:$s.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Lt(null,{scaleMode:Di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:$s.OFF,format:it.DEPTH_COMPONENT,type:At.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,r){if(t=Math.round(t),r=Math.round(r),!t||!r)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(t/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class AP extends Lt{constructor(t={}){if(typeof t=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];t={width:r,height:n,scaleMode:i,resolution:s}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Te.NONE),super(null,t),this.mipmap=$s.OFF,this.valid=!0,this._clear=new ve([0,0,0,0]),this.framebuffer=new ov(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r){this.framebuffer.resize(t*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Yi extends _h{constructor(t){const r=t,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=t,this.noSubImage=!1}static crossOrigin(t,r,n){n===void 0&&!r.startsWith("data:")?t.crossOrigin=pO(r):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,r,n,i){const s=t.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===cn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class EP extends Yi{constructor(t,r){if(r=r||{},typeof t=="string"){const n=new Image;Yi.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??mt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class K1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,r,n){const i=r.width,s=r.height;if(n){const o=t.width/2/i,a=t.height/2/s,u=t.x/i+o,c=t.y/s+a;n=he.add(n,he.NW),this.x0=u+o*he.uX(n),this.y0=c+a*he.uY(n),n=he.add(n,2),this.x1=u+o*he.uX(n),this.y1=c+a*he.uY(n),n=he.add(n,2),this.x2=u+o*he.uX(n),this.y2=c+a*he.uY(n),n=he.add(n,2),this.x3=u+o*he.uX(n),this.y3=c+a*he.uY(n)}else this.x0=t.x/i,this.y0=t.y/s,this.x1=(t.x+t.width)/i,this.y1=t.y/s,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/s,this.x3=t.x/i,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}K1.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const NS=new K1;function od(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}let Mt=class Jt extends Nh{constructor(t,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Wt(0,0,1,1)),t instanceof Jt&&(t=t.baseTexture),this.baseTexture=t,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=NS,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new jt(o.x,o.y):new jt(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=r:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:r}=this.baseTexture;r!=null&&r.url&&si[r.url]&&Jt.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Jt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),n=new Jt(this.baseTexture,!this.noFrame&&t,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===NS&&(this._uvs=new K1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,r={},n=mt.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else if(t instanceof Lt){if(!t.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t.cacheId=`${a}-${vh()}`,Lt.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${vh()}`}s=t._pixiId}let o=si[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(t instanceof Lt)?(r.resolution||(r.resolution=pl(t)),o=new Jt(new Lt(t,r)),o.baseTexture.cacheId=s,Lt.addToCache(o.baseTexture,s),Jt.addToCache(o,s)):!o&&t instanceof Lt&&(o=new Jt(t),Jt.addToCache(o,s)),o}static fromURL(t,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=Jt.from(t,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(t,r,n,i){return new Jt(Lt.fromBuffer(t,r,n,i))}static fromLoader(t,r,n,i){const s=new Lt(t,Object.assign({scaleMode:Lt.defaultOptions.scaleMode,resolution:pl(r)},i)),{resource:o}=s;o instanceof EP&&(o.url=r);const a=new Jt(s);return n||(n=r),Lt.addToCache(a.baseTexture,n),Jt.addToCache(a,n),n!==r&&(Lt.addToCache(a.baseTexture,r),Jt.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),si[r]&&si[r]!==t&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),si[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=si[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete si[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)si[t.textureCacheIds[r]]===t&&delete si[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=t,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${u} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Jt._EMPTY||(Jt._EMPTY=new Jt(new Lt),od(Jt._EMPTY),od(Jt._EMPTY.baseTexture)),Jt._EMPTY}static get WHITE(){if(!Jt._WHITE){const t=mt.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Jt._WHITE=new Jt(Lt.from(t)),od(Jt._WHITE),od(Jt._WHITE.baseTexture)}return Jt._WHITE}};class Sp extends Mt{constructor(t,r){super(t,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(t*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(t){const{baseTexture:r}=this;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))}static create(t){return new Sp(new AP(t))}}class TP{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,r,n=Te.NONE){const i=new AP(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new Sp(i)}getOptimalTexture(t,r,n=1,i=Te.NONE){let s;t=Math.max(Math.ceil(t*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=Nf(t),r=Nf(r),s=((t&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(t,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(t,r,n){const i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||Te.NONE);return i.filterFrame=t.filterFrame,i}returnTexture(t){const r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}TP.SCREEN_KEY=-1;class XO extends Lh{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class CP extends Lh{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ne(this.vertices),this.uvBuffer=new Ne(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/t.width,this.uvs[3]=i,this.uvs[4]=n+r.width/t.width,this.uvs[5]=i+r.height/t.height,this.uvs[6]=n,this.uvs[7]=i+r.height/t.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class YO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Te.NONE,this.sourceFrame=new Wt,this.destinationFrame=new Wt,this.bindingSourceFrame=new Wt,this.bindingDestinationFrame=new Wt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ad=[new jt,new jt,new jt,new jt],ty=new Be;class PP{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new TP,this.statePool=[],this.quad=new XO,this.quadUv=new CP,this.tempRect=new Wt,this.activeState={},this.globalUniforms=new Hn({outputFrame:new Wt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new YO,o=n.renderTexture;let a,u;if(o.current){const A=o.current;a=A.resolution,u=A.multisample}else a=n.resolution,u=n.multisample;let c=r[0].resolution||a,d=r[0].multisample??u,f=r[0].padding,m=r[0].autoFit,g=r[0].legacy??!0;for(let A=1;A<r.length;A++){const b=r[A];c=Math.min(c,b.resolution||a),d=Math.min(d,b.multisample??u),f=this.useMaxPadding?Math.max(f,b.padding):f+b.padding,m=m&&b.autoFit,g=g||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=c,s.multisample=d,s.legacy=g,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(f);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(ty.copyFrom(n.projection.transform).invert(),v),m?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const x=this.tempRect;x.x=0,x.y=0,x.width=s.sourceFrame.width,x.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,x),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,ho.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,r.resolution);d.filterFrame=c.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,r.resolution),d.filterFrame=c.filterFrame),n[f].apply(this,c,d,ho.CLEAR,r);const m=c;c=d,d=m}n[f].apply(this,c,u.renderTexture,ho.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(t,r=ho.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,n.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ho.CLEAR||r===ho.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,r,n,i){const s=this.renderer;s.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Un.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Un.TRIANGLE_STRIP))}calculateSpriteMatrix(t,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=t.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Be.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,r,n=1,i=Te.NONE){return this.texturePool.getOptimalTexture(t,r,n,i)}getFilterTexture(t,r,n){if(typeof t=="number"){const s=t;t=r,r=s}t=t||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||Te.NONE);return i.filterFrame=t.filterFrame,i}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,r){const n=ad[0],i=ad[1],s=ad[2],o=ad[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(s,s),t.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=c-a,r.height=d-u}roundFrame(t,r,n,i,s){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?ty.copyFrom(s):ty.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,t),t.ceil(r),this.transformAABB(s.invert(),t)}}}PP.extension={type:ht.RendererSystem,name:"filter"};xt.add(PP);class qO{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Te.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const QO=new Wt;class IP{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new ov(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Wt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;mt.PREFER_ENV===Vo.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,r,n=0){const{gl:i}=this;if(t){const s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=n),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let o=0;o<t.colorTextures.length;o++){const a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=t.width>>n,a=t.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,r,n,i){const s=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==t||s.y!==r)&&(s.x=t,s.y=r,s.width=n,s.height=i,this.gl.viewport(t,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,r,n,i,s=k0.COLOR|k0.DEPTH){const{gl:o}=this;o.clearColor(t,r,n,i),o.clear(s)}initFramebuffer(t){const{gl:r}=this,n=new qO(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:r}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:t.depth&&t.stencil?o=r.DEPTH24_STENCIL8:t.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,o,t.width,t.height)}const i=t.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,r){const{gl:n}=this,i=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const c=s[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){const u=t.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,c;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):t.depth&&t.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):t.depth?(u=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,c,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:r}=this;let n=Te.NONE;if(t<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=Te.NONE),n}blit(t,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!t){if(!u.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new ov(i.width,i.height),u.blitFramebuffer.addColorTexture(0,d)),t=u.blitFramebuffer,t.colorTextures[0]!==d&&(t.colorTextures[0]=d,t.dirtyId++,t.dirtyFormat++),(t.width!==i.width||t.height!==i.height)&&(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}r||(r=QO,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,r){const n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(t){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)}forceStencil(){const t=this.current;if(!t)return;const r=t.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,i=t.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):t.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Wt}destroy(){this.renderer=null}}IP.extension={type:ht.RendererSystem,name:"framebuffer"};xt.add(IP);const ey={5126:4,5123:2,5121:1};class RP{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;mt.PREFER_ENV===Vo.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=i=>n.bindVertexArrayOES(i),t.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),t.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),t.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(t,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(t,r,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const i=t.buffers[n];r.update(i)}}checkCompatibility(t,r){const n=t.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(t,r){const n=t.attributes,i=r.attributeData,s=["g",t.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(t,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,a);const u=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID];let d=c[u];if(d)return c[a.id]=d,d;const f=t.buffers,m=t.attributes,g={},v={};for(const x in f)g[x]=0,v[x]=0;for(const x in m)!m[x].size&&a.attributeData[x]?m[x].size=a.attributeData[x].size:m[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),g[m[x].buffer]+=m[x].size*ey[m[x].type];for(const x in m){const A=m[x],b=A.size;A.stride===void 0&&(g[A.buffer]===b*ey[A.type]?A.stride=0:A.stride=g[A.buffer]),A.start===void 0&&(A.start=v[A.buffer],v[A.buffer]+=b*ey[A.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let x=0;x<f.length;x++){const A=f[x];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(t,a),c[a.id]=d,c[u]=d,i.bindVertexArray(null),o.unbind(vi.ARRAY_BUFFER),d}disposeGeometry(t,r){var a;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=t.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(t.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const c=s[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const c=n[u];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)}activateVao(t,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let u=null;for(const c in a){const d=a[c],f=o[d.buffer],m=f._glBuffers[i];if(r.attributeData[c]){u!==m&&(s.bind(f),u=m);const g=r.attributeData[c].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(t,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,n,r||o.getSize(),i||1):s.drawArrays(t,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}RP.extension={type:ht.RendererSystem,name:"geometry"};xt.add(RP);const FS=new Be;let Z1=class{constructor(t,r){this._texture=t,this.mapCoord=new Be,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,r){r===void 0&&(r=t);const n=this.mapCoord;for(let i=0;i<t.length;i+=2){const s=t[i],o=t[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(t){const r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(FS.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(FS));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+u+c)/o.width,a[1]=(r._frame.y+u+c)/o.height,a[2]=(r._frame.x+r._frame.width-u+c)/o.width,a[3]=(r._frame.y+r._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}};var KO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ZO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class JO extends Po{constructor(t,r,n){let i=null;typeof t!="string"&&r===void 0&&n===void 0&&(i=t,t=void 0,r=void 0,n=void 0),super(t||ZO,r||KO,n),this.maskSprite=i,this.maskMatrix=new Be}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Z1(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,r,n,i))}}class tD{constructor(t=null){this.type=Me.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Po.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Me.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MP{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new tD;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Me.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Me.SCISSOR:this.renderer.scissor.push(n);break;case Me.STENCIL:this.renderer.stencil.push(n);break;case Me.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Me.COLOR:this.pushColorMask(n);break}n.type===Me.SPRITE&&this.maskStack.push(n)}pop(t){const r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Me.SCISSOR:this.renderer.scissor.pop(r);break;case Me.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Me.SPRITE:this.popSpriteMask(r);break;case Me.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Me.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const r=t.maskObject;r?r.isSprite?t.type=Me.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Me.SCISSOR:t.type=Me.STENCIL:t.type=Me.COLOR}pushSpriteMask(t){const{maskObject:r}=t,n=t._target;let i=t._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new JO])),i[0].resolution=t.resolution,i[0].multisample=t.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const r=t._colorMask,n=t._colorMask=r&t.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const r=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}MP.extension={type:ht.RendererSystem,name:"mask"};xt.add(MP);class kP{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=t;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const BS=new Be,LS=[],NP=class Hd extends kP{constructor(t){super(t),this.glConst=mt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const r=t._scissorRect,{maskObject:n}=t,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,LS.pop()??new Wt);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:r,b:n,c:i,d:s}=t;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(t){const{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||Hd.isMatrixRotated(r.worldTransform)||Hd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,r,n,i,s){Hd.isMatrixRotated(s)||(s=s?BS.copyFrom(s):BS.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:r}=this.renderer;t._scissorRect||r.enable(r.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:r}=this.renderer;t&&LS.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=t.y:r=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,r,t.width,t.height)}};NP.extension={type:ht.RendererSystem,name:"scissor"};let eD=NP;xt.add(eD);class FP extends kP{constructor(t){super(t),this.glConst=mt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const r=t.maskObject,{gl:n}=this.renderer,i=t._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const s=t._colorMask;s!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(t._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(t){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}FP.extension={type:ht.RendererSystem,name:"stencil"};xt.add(FP);class BP{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ot("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return Ot("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return Ot("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const r in t)this.plugins[r]=new t[r](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}BP.extension={type:[ht.RendererSystem,ht.CanvasRendererSystem],name:"_plugin"};xt.add(BP);class LP{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Be,this.transform=null}update(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(t,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(t){}destroy(){this.renderer=null}}LP.extension={type:ht.RendererSystem,name:"projection"};xt.add(LP);const rD=new wp,OS=new Wt;class OP{constructor(t){this.renderer=t,this._tempMatrix=new Be}generateTexture(t,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(OS))||t.getLocalBounds(OS,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Sp.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=t.transform;return t.transform=rD,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=u,a}destroy(){}}OP.extension={type:[ht.RendererSystem,ht.CanvasRendererSystem],name:"textureGenerator"};xt.add(OP);const io=new Wt,pu=new Wt;class DP{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Wt,this.destinationFrame=new Wt,this.viewportFrame=new Wt}contextChange(){var r;const t=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,r,n){const i=this.renderer;this.current=t;let s,o,a;t?(s=t.baseTexture,a=s.resolution,r||(io.width=t.frame.width,io.height=t.frame.height,r=io),n||(pu.x=t.frame.x,pu.y=t.frame.y,pu.width=r.width,pu.height=r.height,n=pu),o=s.framebuffer):(a=i.resolution,r||(io.width=i._view.screen.width,io.height=i._view.screen.height,r=io),n||(n=io,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,t||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(t,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ve.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:c,width:d,height:f}=this.viewportFrame;u=Math.round(u),c=Math.round(c),d=Math.round(d),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,c,d,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}DP.extension={type:ht.RendererSystem,name:"renderTexture"};xt.add(DP);class nD{constructor(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function iD(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=t.getActiveAttrib(e,i);if(s.name.startsWith("gl_"))continue;const o=bP(t,s.type),a={type:o,name:s.name,size:wP(o),location:t.getAttribLocation(e,s.name)};r[s.name]=a}return r}function sD(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=t.getActiveUniform(e,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=bP(t,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:_P(u,s.size)}}return r}function oD(e,t){var a;const r=PS(e,e.VERTEX_SHADER,t.vertexSrc),n=PS(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const s=(a=t.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof e.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||BO(e,i,r,n),t.attributeData=iD(i,e),t.uniformData=sD(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const u=Object.keys(t.attributeData);u.sort((c,d)=>c>d?1:-1);for(let c=0;c<u.length;c++)t.attributeData[u[c]].location=c,e.bindAttribLocation(i,c,u[c]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const o={};for(const u in t.uniformData){const c=t.uniformData[u];o[u]={location:e.getUniformLocation(i,u),value:_P(c.type,c.size)}}return new nD(i,o)}function aD(e,t,r,n,i){r.buffer.update(i)}const lD={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},UP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function uD(e){const t=e.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<t.length;s++){const o=t[s];if(r=UP[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function hD(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort((n,i)=>n.index-i.index),r}function cD(e,t){if(!e.autoManage)return{size:0,syncFunc:aD};const r=hD(e.uniforms,t),{uboElements:n,size:i}=uD(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=e.uniforms[a.data.name],c=a.data.name;let d=!1;for(let f=0;f<Za.length;f++){const m=Za[f];if(m.codeUbo&&m.test(a.data,u)){s.push(`offset = ${a.offset/4};`,Za[f].codeUbo(a.data.name,u)),d=!0;break}}if(!d)if(a.data.size>1){const f=wP(a.data.type),m=Math.max(UP[a.data.type]/16,1),g=f/m,v=(4-g%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=lD[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let dD=0;const ld={textureCount:0,uboCount:0};class $P{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=dD++}systemCheck(){if(!OO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(ld.textureCount=0,ld.uboCount=0,this.syncUniformGroup(t.uniformGroup,ld)),i}setUniforms(t){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,r){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))}syncUniforms(t,r,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(r.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=kO(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,r){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,ld,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(t,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(t.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=cD(t,this.shader.program.uniformData)),t.autoManage){const u=new Float32Array(a.size/4);t.buffer.update(u)}return r.uniformGroups[t.id]=a.syncFunc,r.uniformGroups[t.id]}getSignature(t,r,n){const i=t.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const r=this.gl,n=t.program,i=oD(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$P.extension={type:ht.RendererSystem,name:"shader"};xt.add($P);class Df{constructor(t){this.renderer=t}run(t){const{renderer:r}=this;r.runners.init.emit(r.options),t.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Df.defaultOptions={hello:!1},Df.extension={type:[ht.RendererSystem,ht.CanvasRendererSystem],name:"startup"};xt.add(Df);function fD(e,t=[]){return t[wt.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.ADD]=[e.ONE,e.ONE],t[wt.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.NONE]=[0,0],t[wt.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[wt.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wt.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[wt.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[wt.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[wt.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[wt.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[wt.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[wt.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[wt.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[wt.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}const pD=0,mD=1,gD=2,yD=3,vD=4,_D=5,zP=class av{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[pD]=this.setBlend,this.map[mD]=this.setOffset,this.map[gD]=this.setCullFace,this.map[yD]=this.setDepthTest,this.map[vD]=this.setFrontFace,this.map[_D]=this.setDepthMask,this.checks=[],this.defaultState=new Ai,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=fD(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let r=this.stateId^t.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,t)}forceState(t){t=t||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(av.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(av.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,r){this.gl.polygonOffset(t,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,r){const n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,r){t.setBlendMode(r.blendMode)}static checkPolygonOffset(t,r){t.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};zP.extension={type:ht.RendererSystem,name:"state"};let xD=zP;xt.add(xD);class wD extends Nh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const r=(t.priority??[]).filter(i=>t.systems[i]),n=[...r,...Object.keys(t.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(t.systems[i],i)}addRunners(...t){t.forEach(r=>{this.runners[r]=new jn(r)})}addSystem(t,r){const n=new t(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(t,r){const n=Object.keys(this._systemsHash);t.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[t.name](r[s])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const Tu=class Wd{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Wd.defaultMaxIdle,this.checkCountMax=Wd.defaultCheckCountMax,this.mode=Wd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==G1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,r=t.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(t){const r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=t.children.length-1;i>=0;i--)this.unload(t.children[i])}destroy(){this.renderer=null}};Tu.defaultMode=G1.AUTO,Tu.defaultMaxIdle=60*60,Tu.defaultCheckCountMax=60*10,Tu.extension={type:ht.RendererSystem,name:"textureGC"};let yo=Tu;xt.add(yo);class ry{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=At.UNSIGNED_BYTE,this.internalFormat=it.RGBA,this.samplerType=0}}function bD(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[e.RGB]:at.FLOAT,[e.RGBA]:at.FLOAT,[e.ALPHA]:at.FLOAT,[e.LUMINANCE]:at.FLOAT,[e.LUMINANCE_ALPHA]:at.FLOAT,[e.R8]:at.FLOAT,[e.R8_SNORM]:at.FLOAT,[e.RG8]:at.FLOAT,[e.RG8_SNORM]:at.FLOAT,[e.RGB8]:at.FLOAT,[e.RGB8_SNORM]:at.FLOAT,[e.RGB565]:at.FLOAT,[e.RGBA4]:at.FLOAT,[e.RGB5_A1]:at.FLOAT,[e.RGBA8]:at.FLOAT,[e.RGBA8_SNORM]:at.FLOAT,[e.RGB10_A2]:at.FLOAT,[e.RGB10_A2UI]:at.FLOAT,[e.SRGB8]:at.FLOAT,[e.SRGB8_ALPHA8]:at.FLOAT,[e.R16F]:at.FLOAT,[e.RG16F]:at.FLOAT,[e.RGB16F]:at.FLOAT,[e.RGBA16F]:at.FLOAT,[e.R32F]:at.FLOAT,[e.RG32F]:at.FLOAT,[e.RGB32F]:at.FLOAT,[e.RGBA32F]:at.FLOAT,[e.R11F_G11F_B10F]:at.FLOAT,[e.RGB9_E5]:at.FLOAT,[e.R8I]:at.INT,[e.R8UI]:at.UINT,[e.R16I]:at.INT,[e.R16UI]:at.UINT,[e.R32I]:at.INT,[e.R32UI]:at.UINT,[e.RG8I]:at.INT,[e.RG8UI]:at.UINT,[e.RG16I]:at.INT,[e.RG16UI]:at.UINT,[e.RG32I]:at.INT,[e.RG32UI]:at.UINT,[e.RGB8I]:at.INT,[e.RGB8UI]:at.UINT,[e.RGB16I]:at.INT,[e.RGB16UI]:at.UINT,[e.RGB32I]:at.INT,[e.RGB32UI]:at.UINT,[e.RGBA8I]:at.INT,[e.RGBA8UI]:at.UINT,[e.RGBA16I]:at.INT,[e.RGBA16UI]:at.UINT,[e.RGBA32I]:at.INT,[e.RGBA32UI]:at.UINT,[e.DEPTH_COMPONENT16]:at.FLOAT,[e.DEPTH_COMPONENT24]:at.FLOAT,[e.DEPTH_COMPONENT32F]:at.FLOAT,[e.DEPTH_STENCIL]:at.FLOAT,[e.DEPTH24_STENCIL8]:at.FLOAT,[e.DEPTH32F_STENCIL8]:at.FLOAT}:t={[e.RGB]:at.FLOAT,[e.RGBA]:at.FLOAT,[e.ALPHA]:at.FLOAT,[e.LUMINANCE]:at.FLOAT,[e.LUMINANCE_ALPHA]:at.FLOAT,[e.DEPTH_STENCIL]:at.FLOAT},t}function SD(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[At.UNSIGNED_BYTE]:{[it.RGBA]:e.RGBA8,[it.RGB]:e.RGB8,[it.RG]:e.RG8,[it.RED]:e.R8,[it.RGBA_INTEGER]:e.RGBA8UI,[it.RGB_INTEGER]:e.RGB8UI,[it.RG_INTEGER]:e.RG8UI,[it.RED_INTEGER]:e.R8UI,[it.ALPHA]:e.ALPHA,[it.LUMINANCE]:e.LUMINANCE,[it.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[At.BYTE]:{[it.RGBA]:e.RGBA8_SNORM,[it.RGB]:e.RGB8_SNORM,[it.RG]:e.RG8_SNORM,[it.RED]:e.R8_SNORM,[it.RGBA_INTEGER]:e.RGBA8I,[it.RGB_INTEGER]:e.RGB8I,[it.RG_INTEGER]:e.RG8I,[it.RED_INTEGER]:e.R8I},[At.UNSIGNED_SHORT]:{[it.RGBA_INTEGER]:e.RGBA16UI,[it.RGB_INTEGER]:e.RGB16UI,[it.RG_INTEGER]:e.RG16UI,[it.RED_INTEGER]:e.R16UI,[it.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[At.SHORT]:{[it.RGBA_INTEGER]:e.RGBA16I,[it.RGB_INTEGER]:e.RGB16I,[it.RG_INTEGER]:e.RG16I,[it.RED_INTEGER]:e.R16I},[At.UNSIGNED_INT]:{[it.RGBA_INTEGER]:e.RGBA32UI,[it.RGB_INTEGER]:e.RGB32UI,[it.RG_INTEGER]:e.RG32UI,[it.RED_INTEGER]:e.R32UI,[it.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[At.INT]:{[it.RGBA_INTEGER]:e.RGBA32I,[it.RGB_INTEGER]:e.RGB32I,[it.RG_INTEGER]:e.RG32I,[it.RED_INTEGER]:e.R32I},[At.FLOAT]:{[it.RGBA]:e.RGBA32F,[it.RGB]:e.RGB32F,[it.RG]:e.RG32F,[it.RED]:e.R32F,[it.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[At.HALF_FLOAT]:{[it.RGBA]:e.RGBA16F,[it.RGB]:e.RGB16F,[it.RG]:e.RG16F,[it.RED]:e.R16F},[At.UNSIGNED_SHORT_5_6_5]:{[it.RGB]:e.RGB565},[At.UNSIGNED_SHORT_4_4_4_4]:{[it.RGBA]:e.RGBA4},[At.UNSIGNED_SHORT_5_5_5_1]:{[it.RGBA]:e.RGB5_A1},[At.UNSIGNED_INT_2_10_10_10_REV]:{[it.RGBA]:e.RGB10_A2,[it.RGBA_INTEGER]:e.RGB10_A2UI},[At.UNSIGNED_INT_10F_11F_11F_REV]:{[it.RGB]:e.R11F_G11F_B10F},[At.UNSIGNED_INT_5_9_9_9_REV]:{[it.RGB]:e.RGB9_E5},[At.UNSIGNED_INT_24_8]:{[it.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[At.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[it.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:t={[At.UNSIGNED_BYTE]:{[it.RGBA]:e.RGBA,[it.RGB]:e.RGB,[it.ALPHA]:e.ALPHA,[it.LUMINANCE]:e.LUMINANCE,[it.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[At.UNSIGNED_SHORT_5_6_5]:{[it.RGB]:e.RGB},[At.UNSIGNED_SHORT_4_4_4_4]:{[it.RGBA]:e.RGBA},[At.UNSIGNED_SHORT_5_5_5_1]:{[it.RGBA]:e.RGBA}},t}class GP{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Lt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=SD(t),this.samplerTypes=bD(t);const r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new ry(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ry(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(t,r=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===t&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(t.target,this.emptyTextures[t.target].texture),n[i]=null)}ensureSamplerType(t){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=t-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==at.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(t){const r=new ry(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r}initTextureType(t,r){var n;r.internalFormat=((n=this.internalFormats[t.type])==null?void 0:n[t.format])??t.format,r.samplerType=this.samplerTypes[r.internalFormat]??at.FLOAT,this.webGLVersion===2&&t.type===At.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type}updateTexture(t){var i;const r=t._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(t,r),(i=t.resource)==null?void 0:i.upload(n,t,r))r.samplerType!==at.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(t.target,0,r.internalFormat,s,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}destroyTexture(t,r){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(t);i!==-1&&Vu(this.managedTextures,i,1)}}updateTextureStyle(t){var n;const r=t._glTextures[this.CONTEXT_UID];r&&((t.mipmap===$s.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=zi.CLAMP:r.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}setStyle(t,r){const n=this.gl;if(r.mipmap&&t.mipmap!==$s.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Di.LINEAR){const s=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}GP.extension={type:ht.RendererSystem,name:"texture"};xt.add(GP);class jP{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();t._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),s}disposeTransformFeedback(t,r){const n=t._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}jP.extension={type:ht.RendererSystem,name:"transformFeedback"};xt.add(jP);class Uf{constructor(t){this.renderer=t}init(t){this.screen=new Wt(0,0,t.width,t.height),this.element=t.view||mt.ADAPTER.createCanvas(),this.resolution=t.resolution||mt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,r){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var r;t&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Uf.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Uf.extension={type:[ht.RendererSystem,ht.CanvasRendererSystem],name:"_view"};xt.add(Uf);mt.PREFER_ENV=Vo.WEBGL2;mt.STRICT_TEXTURE_CACHE=!1;mt.RENDER_OPTIONS={...Of.defaultOptions,...Lf.defaultOptions,...Uf.defaultOptions,...Df.defaultOptions};Object.defineProperties(mt,{WRAP_MODE:{get(){return Lt.defaultOptions.wrapMode},set(e){Ot("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Lt.defaultOptions.wrapMode=e}},SCALE_MODE:{get(){return Lt.defaultOptions.scaleMode},set(e){Ot("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Lt.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get(){return Lt.defaultOptions.mipmap},set(e){Ot("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Lt.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get(){return Lt.defaultOptions.anisotropicLevel},set(e){Ot("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Lt.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get(){return Ot("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Po.defaultResolution},set(e){Po.defaultResolution=e}},FILTER_MULTISAMPLE:{get(){return Ot("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Po.defaultMultisample},set(e){Po.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get(){return go.defaultMaxTextures},set(e){Ot("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),go.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get(){return go.defaultBatchSize},set(e){Ot("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),go.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get(){return go.canUploadSameBuffer},set(e){Ot("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),go.canUploadSameBuffer=e}},GC_MODE:{get(){return yo.defaultMode},set(e){Ot("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),yo.defaultMode=e}},GC_MAX_IDLE:{get(){return yo.defaultMaxIdle},set(e){Ot("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),yo.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get(){return yo.defaultCheckCountMax},set(e){Ot("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),yo.defaultCheckCountMax=e}},PRECISION_VERTEX:{get(){return Ui.defaultVertexPrecision},set(e){Ot("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ui.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get(){return Ui.defaultFragmentPrecision},set(e){Ot("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ui.defaultFragmentPrecision=e}}});var ml=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(ml||{});let ny=class{constructor(t,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}match(t,r=null){return this.fn===t&&this.context===r}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}};const HP=class $r{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ny(null,null,1/0),this.deltaMS=1/$r.targetFPMS,this.elapsedMS=1/$r.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,r,n=ml.NORMAL){return this._addListener(new ny(t,r,n))}addOnce(t,r,n=ml.NORMAL){return this._addListener(new ny(t,r,n,!0))}_addListener(t){let r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,r){let n=this._head.next;for(;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,r=this._head;for(;r=r.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*$r.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,$r.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!$r._shared){const t=$r._shared=new $r;t.autoStart=!0,t._protected=!0}return $r._shared}static get system(){if(!$r._system){const t=$r._system=new $r;t.autoStart=!0,t._protected=!0}return $r._system}};HP.targetFPMS=.06;let _r=HP;Object.defineProperties(mt,{TARGET_FPMS:{get(){return _r.targetFPMS},set(e){Ot("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),_r.targetFPMS=e}}});class WP{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ml.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?_r.shared:new _r,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}WP.extension=ht.Application;xt.add(WP);const VP=[];xt.handleByList(ht.Renderer,VP);function AD(e){for(const t of VP)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}class XP{constructor(t){this.renderer=t}contextChange(t){let r;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}r>=Te.HIGH?this.multisample=Te.HIGH:r>=Te.MEDIUM?this.multisample=Te.MEDIUM:r>=Te.LOW?this.multisample=Te.LOW:this.multisample=Te.NONE}destroy(){}}XP.extension={type:ht.RendererSystem,name:"_multisample"};xt.add(XP);class ED{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class YP{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);r.bindBuffer(t.type,i.buffer)}unbind(t){const{gl:r}=this;r.bindBuffer(t,null)}bindBufferBase(t,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==t){const s=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[r]=t,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(t,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=t._glBuffers[s]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==i.updateID)if(i.updateID=t._updateID,r.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{const s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}}dispose(t,r){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)}createGLBuffer(t){const{CONTEXT_UID:r,gl:n}=this;return t._glBuffers[r]=new ED(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]}}YP.extension={type:ht.RendererSystem,name:"buffer"};xt.add(YP);class qP{constructor(t){this.renderer=t}render(t,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=t),!a){const u=t.enableTempParent();t.updateTransform(),t.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}qP.extension={type:ht.RendererSystem,name:"objectRenderer"};xt.add(qP);const Vd=class lv extends wD{constructor(t){super(),this.type=EC.WEBGL,t=Object.assign({},mt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Hn({projectionMatrix:new Be},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:lv.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&(Ot("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=lv.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:eO()}render(t,r){this.objectRenderer.render(t,r)}resize(t,r){this._view.resizeView(t,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ot("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ot("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ot("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ot("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Ot("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Ot("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Ot("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Ot("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,r){return this.textureGenerator.generateTexture(t,r)}};Vd.extension={type:ht.Renderer,priority:1},Vd.__plugins={},Vd.__systems={};let J1=Vd;xt.handleByMap(ht.RendererPlugin,J1.__plugins);xt.handleByMap(ht.RendererSystem,J1.__systems);xt.add(J1);class QP extends _h{constructor(t,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<t;s++){const o=new Lt;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,r){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof _h?this.addResourceAt(t[n],n):this.addResourceAt(sP(t[n],r),n))}dispose(){for(let t=0,r=this.length;t<r;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[r].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)}unbind(t){super.unbind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(t).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class TD extends QP{constructor(t,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(t)?(s=t,o=t.length):o=t,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(t,r){if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=qa.TEXTURE_2D_ARRAY}upload(t,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=t;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const c=o[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class CD extends Yi{constructor(t){super(t)}static test(t){const{OffscreenCanvas:r}=globalThis;return r&&t instanceof r?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const KP=class Cu extends QP{constructor(t,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(t&&t.length!==Cu.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Cu.SIDES;a++)this.items[a].target=qa.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,t&&this.initFromArray(t,r),s!==!1&&this.load()}bind(t){super.bind(t),t.target=qa.TEXTURE_CUBE_MAP}addBaseTextureAt(t,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=qa.TEXTURE_CUBE_MAP_POSITIVE_X+r,t.parentTextureArray=this.baseTexture,this.items[r]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[r]=t,this}upload(t,r,n){const i=this.itemDirtyIds;for(let s=0;s<Cu.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(t,o,n),i[s]=o.dirtyId):i[s]<-1&&(t.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Cu.SIDES}};KP.SIDES=6;let PD=KP;class Ua extends Yi{constructor(t,r){r=r||{};let n,i,s;typeof t=="string"?(n=Ua.EMPTY,i=t,s=!0):(n=t,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,r)=>{if(this.url===null){t(this);return}try{const n=await mt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),t(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(t,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(t,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Ua._EMPTY=Ua._EMPTY??mt.ADAPTER.createCanvas(0,0),Ua._EMPTY}}const uv=class Xd extends Yi{constructor(t,r){r=r||{},super(mt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},Xd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Yi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=r=>{this._resolve&&(t.onerror=null,this.onError.emit(r))},t.onload=()=>{if(!this._resolve)return;const r=t.width,n=t.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${vh()}`,o.getContext("2d").drawImage(t,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(t){const r=Xd.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return r==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Xd.SVG_XML.test(t)}};uv.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,uv.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let hv=uv;class ID extends Yi{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const cv=class dv extends Yi{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];Yi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<t.length;++s){const o=document.createElement("source");let{src:a,mime:u}=t[s];if(a=a||t[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const c=a.split("?").shift().toLowerCase(),d=c.slice(c.lastIndexOf(".")+1);u=u||dv.MIME_TYPES[d]||`video/${d}`}o.src=a,u&&(o.type=u),n.appendChild(o)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const r=_r.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(_r.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||dv.TYPES.includes(r)}};cv.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],cv.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ZP=cv;Q0.push(Ua,EP,CD,ZP,ID,hv,oP,PD,TD);let $f=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Wt.EMPTY:(t=t||new Wt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=t,c=n*r.x+s*r.y+a,d=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(t){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=t[0],a=t[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[2],a=t[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[4],a=t[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[6],a=t[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(t,r,n,i,s){this.addFrameMatrix(t.worldTransform,r,n,i,s)}addFrameMatrix(t,r,n,i,s){const o=t.a,a=t.b,u=t.c,c=t.d,d=t.tx,f=t.ty;let m=this.minX,g=this.minY,v=this.maxX,x=this.maxY,A=o*r+u*n+d,b=a*r+c*n+f;m=A<m?A:m,g=b<g?b:g,v=A>v?A:v,x=b>x?b:x,A=o*i+u*n+d,b=a*i+c*n+f,m=A<m?A:m,g=b<g?b:g,v=A>v?A:v,x=b>x?b:x,A=o*r+u*s+d,b=a*r+c*s+f,m=A<m?A:m,g=b<g?b:g,v=A>v?A:v,x=b>x?b:x,A=o*i+u*s+d,b=a*i+c*s+f,m=A<m?A:m,g=b<g?b:g,v=A>v?A:v,x=b>x?b:x,this.minX=m,this.minY=g,this.maxX=v,this.maxY=x}addVertexData(t,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const c=t[u],d=t[u+1];i=c<i?c:i,s=d<s?d:s,o=c>o?c:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)}addVerticesMatrix(t,r,n,i,s=0,o=s){const a=t.a,u=t.b,c=t.c,d=t.d,f=t.tx,m=t.ty;let g=this.minX,v=this.minY,x=this.maxX,A=this.maxY;for(let b=n;b<i;b+=2){const S=r[b],w=r[b+1],T=a*S+c*w+f,M=d*w+u*S+m;g=Math.min(g,T-s),x=Math.max(x,T+s),v=Math.min(v,M-o),A=Math.max(A,M+o)}this.minX=g,this.minY=v,this.maxX=x,this.maxY=A}addBounds(t){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>s?t.maxY:s}addBoundsMask(t,r){const n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,s=t.maxX<r.maxX?t.maxX:r.maxX,o=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}addBoundsMatrix(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,r){const n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,s=t.maxX<r.x+r.width?t.maxX:r.x+r.width,o=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}pad(t=0,r=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)}addFramePad(t,r,n,i,s,o){t-=s,r-=o,n+=s,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}};class zs extends Nh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new $f,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const r=Object.keys(t);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(zs.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,r){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Wt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Wt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new $f);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(t,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,r)}toLocal(t,r,n,i){return r&&(t=r.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,c=0){return this.position.x=t,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=c,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new RD),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*EO}set angle(t){this.transform.rotation=t*TO}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=t,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class RD extends zs{constructor(){super(...arguments),this.sortDirty=null}}zs.prototype.displayObjectUpdateTransform=zs.prototype.updateTransform;const MD=new Be;function kD(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const JP=class fv extends zs{constructor(){super(),this.children=[],this.sortableChildren=fv.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.addChild(t[r]);else{const r=t[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return t[0]}addChildAt(t,r){if(r<0||r>this.children.length)throw new Error(`${t}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(r,0,t),this._boundsID++,this.onChildrenChange(r),t.emit("added",this),this.emit("childAdded",t,this,r),t}swapChildren(t,r){if(t===r)return;const n=this.getChildIndex(t),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=t,this.onChildrenChange(n<i?n:i)}getChildIndex(t){const r=this.children.indexOf(t);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(t,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Vu(this.children,n,1),this.children.splice(r,0,t),this.onChildrenChange(r)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.removeChild(t[r]);else{const r=t[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Vu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return t[0]}removeChildAt(t){const r=this.getChildAt(t);return r.parent=null,r.transform._parentID=-1,Vu(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),this.emit("childRemoved",r,this,t),r}removeChildren(t=0,r=this.children.length){const n=t,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!t&&i.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(kD),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,r=this.children.length;t<r;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const r=this.children[t];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,r=!1){const n=super.getLocalBounds(t);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const r=t.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==fv.prototype._render&&(n=this.getBounds(!0));const s=t.projection.transform;if(s&&(i?(i=MD.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(t);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],c=u.cullable;u.cullable=c||!this.cullArea,u.render(t),u.cullable=c}}render(t){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(t)}}renderAdvanced(t){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<r.length;u++)r[u].enabled&&this._enabledFilters.push(r[u])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Me.NONE));if(i&&t.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,c=this.children.length;u<c;++u)this.children[u].render(t)}i&&t.batch.flush(),n&&t.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const r=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const r=this.getLocalBounds().width;r!==0?this.scale.x=t/r:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const r=this.getLocalBounds().height;r!==0?this.scale.y=t/r:this.scale.y=1,this._height=t}};JP.defaultSortableChildren=!1;let qr=JP;qr.prototype.containerUpdateTransform=qr.prototype.updateTransform;Object.defineProperties(mt,{SORTABLE_CHILDREN:{get(){return qr.defaultSortableChildren},set(e){Ot("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),qr.defaultSortableChildren=e}}});var Ap=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(Ap||{});const mu=new jt,ND=new Uint16Array([0,1,2,0,2,3]);let Oh=class tI extends qr{constructor(t){super(),this._anchor=new Ts(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ve(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||Mt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ND,this.pluginName="batch",this.isSprite=!0,this._roundPixels=mt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Da(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Da(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,c=this.vertexData,d=t.trim,f=t.orig,m=this._anchor;let g=0,v=0,x=0,A=0;if(d?(v=d.x-m._x*f.width,g=v+d.width,A=d.y-m._y*f.height,x=A+d.height):(v=-m._x*f.width,g=v+f.width,A=-m._y*f.height,x=A+f.height),c[0]=n*v+s*A+a,c[1]=o*A+i*v+u,c[2]=n*g+s*A+a,c[3]=o*A+i*g+u,c[4]=n*g+s*x+a,c[5]=o*x+i*g+u,c[6]=n*v+s*x+a,c[7]=o*x+i*v+u,this._roundPixels){const b=mt.RESOLUTION;for(let S=0;S<c.length;++S)c[S]=Math.round(c[S]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,r=this.vertexTrimmedData,n=t.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,c=s.d,d=s.tx,f=s.ty,m=-i._x*n.width,g=m+n.width,v=-i._y*n.height,x=v+n.height;if(r[0]=o*m+u*v+d,r[1]=c*v+a*m+f,r[2]=o*g+u*v+d,r[3]=c*v+a*g+f,r[4]=o*g+u*x+d,r[5]=c*x+a*g+f,r[6]=o*m+u*x+d,r[7]=c*x+a*m+f,this._roundPixels){const A=mt.RESOLUTION;for(let b=0;b<r.length;++b)r[b]=Math.round(r[b]*A)/A}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,r=this._texture.orig;!t||t.width===r.width&&t.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new $f),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Wt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,mu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return mu.x>=i&&mu.x<i+r&&(s=-n*this.anchor.y,mu.y>=s&&mu.y<s+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(t,r){const n=t instanceof Mt?t:Mt.from(t,r);return new tI(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const r=Da(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const r=Da(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Mt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}};const ud={willReadFrequently:!0},oi=class ft{static get experimentalLetterSpacingSupported(){let t=ft._experimentalLetterSpacingSupported;if(t!==void 0){const r=mt.ADAPTER.getCanvasRenderingContext2D().prototype;t=ft._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(t,r,n,i,s,o,a,u,c){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=c}static measureText(t,r,n,i=ft._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ft.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",ud);a.font=s;const u=(n?ft.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let d=0;for(let v=0;v<u.length;v++){const x=ft._measureText(u[v],r.letterSpacing,a);c[v]=x,d=Math.max(d,x)}let f=d+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(u.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new ft(t,r,f,g,u,c,m+r.leading,d,o)}static _measureText(t,r,n){let i=!1;ft.experimentalLetterSpacingSupported&&(ft.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(t).width;return s>0&&(i?s-=r:s+=(ft.graphemeSegmenter(t).length-1)*r),s}static wordWrap(t,r,n=ft._canvas){const i=n.getContext("2d",ud);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:c,whiteSpace:d}=r,f=ft.collapseSpaces(d),m=ft.collapseNewlines(d);let g=!f;const v=r.wordWrapWidth+c,x=ft.tokenize(t);for(let A=0;A<x.length;A++){let b=x[A];if(ft.isNewline(b)){if(!m){a+=ft.addLine(o),g=!f,o="",s=0;continue}b=" "}if(f){const w=ft.isBreakingSpace(b),T=ft.isBreakingSpace(o[o.length-1]);if(w&&T)continue}const S=ft.getFromCache(b,c,u,i);if(S>v)if(o!==""&&(a+=ft.addLine(o),o="",s=0),ft.canBreakWords(b,r.breakWords)){const w=ft.wordWrapSplit(b);for(let T=0;T<w.length;T++){let M=w[T],N=M,C=1;for(;w[T+C];){const B=w[T+C];if(!ft.canBreakChars(N,B,b,T,r.breakWords))M+=B;else break;N=B,C++}T+=C-1;const I=ft.getFromCache(M,c,u,i);I+s>v&&(a+=ft.addLine(o),g=!1,o="",s=0),o+=M,s+=I}}else{o.length>0&&(a+=ft.addLine(o),o="",s=0);const w=A===x.length-1;a+=ft.addLine(b,!w),g=!1,o="",s=0}else S+s>v&&(g=!1,a+=ft.addLine(o),o="",s=0),(o.length>0||!ft.isBreakingSpace(b)||g)&&(o+=b,s+=S)}return a+=ft.addLine(o,!1),a}static addLine(t,r=!0){return t=ft.trimRight(t),t=r?`${t}
`:t,t}static getFromCache(t,r,n,i){let s=n[t];return typeof s!="number"&&(s=ft._measureText(t,r,i)+r,n[t]=s),s}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let r=t.length-1;r>=0;r--){const n=t[r];if(!ft.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ft._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return typeof t!="string"?!1:ft._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const r=[];let n="";if(typeof t!="string")return r;for(let i=0;i<t.length;i++){const s=t[i],o=t[i+1];if(ft.isBreakingSpace(s,o)||ft.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(t,r){return r}static canBreakChars(t,r,n,i,s){return!0}static wordWrapSplit(t){return ft.graphemeSegmenter(t)}static measureFont(t){if(ft._fonts[t])return ft._fonts[t];const r={ascent:0,descent:0,fontSize:0},n=ft._canvas,i=ft._context;i.font=t;const s=ft.METRICS_STRING+ft.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ft.BASELINE_SYMBOL).width);const u=Math.ceil(ft.HEIGHT_MULTIPLIER*a);if(a=a*ft.BASELINE_MULTIPLIER|0,o===0||u===0)return ft._fonts[t]=r,r;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const c=i.getImageData(0,0,o,u).data,d=c.length,f=o*4;let m=0,g=0,v=!1;for(m=0;m<a;++m){for(let x=0;x<f;x+=4)if(c[g+x]!==255){v=!0;break}if(!v)g+=f;else break}for(r.ascent=a-m,g=d-f,v=!1,m=u;m>a;--m){for(let x=0;x<f;x+=4)if(c[g+x]!==255){v=!0;break}if(!v)g-=f;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,ft._fonts[t]=r,r}static clearMetrics(t=""){t?delete ft._fonts[t]:ft._fonts={}}static get _canvas(){var t;if(!ft.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((t=n.getContext("2d",ud))!=null&&t.measureText)return ft.__canvas=n,n;r=mt.ADAPTER.createCanvas()}catch{r=mt.ADAPTER.createCanvas()}r.width=r.height=10,ft.__canvas=r}return ft.__canvas}static get _context(){return ft.__context||(ft.__context=ft._canvas.getContext("2d",ud)),ft.__context}};oi.METRICS_STRING="|q",oi.BASELINE_SYMBOL="M",oi.BASELINE_MULTIPLIER=1.4,oi.HEIGHT_MULTIPLIER=2,oi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(r=>r.segment)}return e=>[...e]})(),oi.experimentalLetterSpacing=!1,oi._fonts={},oi._newlines=[10,13],oi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let vo=oi;const FD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],eI=class Pu{constructor(t){this.styleID=0,this.reset(),sy(this,t,t)}clone(){const t={};return sy(t,this,Pu.defaultStyle),new Pu(t)}reset(){sy(this,Pu.defaultStyle,Pu.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const r=iy(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const r=iy(t);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){BD(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const r=iy(t);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!FD.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${r.join(",")}`}};eI.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ap.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let xh=eI;function iy(e){const t=ve.shared,r=n=>{const i=t.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function BD(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function sy(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const LD={texture:!0,children:!1,baseTexture:!0},rI=class pv extends Oh{constructor(t,r,n){let i=!1;n||(n=mt.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=Mt.from(n);s.orig=new Wt,s.trim=new Wt,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=pv.defaultResolution??mt.RESOLUTION,this._autoResolution=pv.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return vo.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Ot("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),vo.experimentalLetterSpacing=t}updateText(t){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,i=vo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,c=i.lineWidths,d=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,g;const v=r.dropShadow?2:1;for(let x=0;x<v;++x){const A=r.dropShadow&&x===0,b=A?Math.ceil(Math.max(1,o)+r.padding*2):0,S=b*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,M=r.dropShadowBlur*this._resolution,N=r.dropShadowDistance*this._resolution;n.shadowColor=ve.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=M,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*N,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*N+S}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let w=(u-f.fontSize)/2;u-f.fontSize<0&&(w=0);for(let T=0;T<a.length;T++)m=r.strokeThickness/2,g=r.strokeThickness/2+T*u+f.ascent+w,r.align==="right"?m+=d-c[T]:r.align==="center"&&(m+=(d-c[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],m+r.padding,g+r.padding-b,!0),r.fill&&this.drawLetterSpacing(a[T],m+r.padding,g+r.padding-b)}this.updateTexture()}drawLetterSpacing(t,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(vo.experimentalLetterSpacingSupported&&(vo.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(t,r,n):this.context.fillText(t,r,n);return}let a=r;const u=vo.graphemeSegmenter(t);let c=this.context.measureText(t).width,d=0;for(let f=0;f<u.length;++f){const m=u[f];i?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let g="";for(let v=f+1;v<u.length;++v)g+=u[v];d=this.context.measureText(g).width,a+=c-d+s,c=d}}updateTexture(){const t=this.canvas;if(this._style.trim){const o=fO(t);o.data&&(t.width=o.width,t.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,r){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,r)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,r,n){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,u=this.canvas.width/this._resolution-o-a*2,c=this.canvas.height/this._resolution-o-a*2,d=i.slice(),f=t.fillGradientStops.slice();if(!f.length){const m=d.length+1;for(let g=1;g<m;++g)f.push(g/m)}if(d.unshift(i[0]),f.unshift(0),d.push(i[i.length-1]),f.push(1),t.fillGradientType===Ap.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,c+a);const m=n.fontProperties.fontSize+t.strokeThickness;for(let g=0;g<r.length;g++){const v=n.lineHeight*(g-1)+m,x=n.lineHeight*g;let A=x;g>0&&v>x&&(A=(x+v)/2);const b=x+m,S=n.lineHeight*(g+1);let w=b;g+1<r.length&&S<b&&(w=(b+S)/2);const T=(w-A)/c;for(let M=0;M<d.length;M++){let N=0;typeof f[M]=="number"?N=f[M]:N=M/d.length;let C=Math.min(1,Math.max(0,A/c+N*T));C=Number(C.toFixed(5)),s.addColorStop(C,d[M])}}}else{s=this.context.createLinearGradient(a,c/2,u+a,c/2);const m=d.length+1;let g=1;for(let v=0;v<d.length;v++){let x;typeof f[v]=="number"?x=f[v]:x=g/m,s.addColorStop(x,d[v]),g++}}return s}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},LD,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const r=Da(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const r=Da(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof xh?this._style=t:this._style=new xh(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};rI.defaultAutoResolution=!0;let OD=rI;class zf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Yd{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const c in a){const d=a[c].split("="),f=d[0],m=d[1].replace(/"/gm,""),g=parseFloat(m),v=isNaN(g)?m:g;u[f]=v}n[o].push(u)}const i=new zf;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class mv{static test(t){const r=t;return typeof t!="string"&&"getElementsByTagName"in t&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const r=new zf,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),u=t.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const d=o[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<u.length;c++)r.distanceField.push({fieldType:u[c].getAttribute("fieldType"),distanceRange:parseInt(u[c].getAttribute("distanceRange"),10)});return r}}class gv{static test(t){return typeof t=="string"&&t.includes("<font>")?mv.test(mt.ADAPTER.parseXML(t)):!1}static parse(t){return mv.parse(mt.ADAPTER.parseXML(t))}}const oy=[Yd,mv,gv];function DD(e){for(let t=0;t<oy.length;t++)if(oy[t].test(e))return oy[t];return null}function UD(e,t,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=e.width/n-u-c*2,f=e.height/n-u-c*2,m=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const v=m.length+1;for(let x=1;x<v;++x)g.push(x/v)}if(m.unshift(o[0]),g.unshift(0),m.push(o[o.length-1]),g.push(1),r.fillGradientType===Ap.LINEAR_VERTICAL){a=t.createLinearGradient(d/2,c,d/2,f+c);let v=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let A=0;A<i.length;A++){const b=s.lineHeight*A;for(let S=0;S<m.length;S++){let w=0;typeof g[S]=="number"?w=g[S]:w=S/m.length;const T=b/f+w*x;let M=Math.max(v,T);M=Math.min(M,1),a.addColorStop(M,m[S]),v=M}}}else{a=t.createLinearGradient(c,f/2,d+c,f/2);const v=m.length+1;let x=1;for(let A=0;A<m.length;A++){let b;typeof g[A]=="number"?b=g[A]:b=x/v,a.addColorStop(b,m[A]),x++}}return a}function $D(e,t,r,n,i,s,o){const a=r.text,u=r.fontProperties;t.translate(n,i),t.scale(s,s);const c=o.strokeThickness/2,d=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=UD(e,t,o,s,[a],r),t.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,m=o.dropShadowBlur*s,g=o.dropShadowDistance*s;t.shadowColor=ve.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=m,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,c,d+r.lineHeight-u.descent),o.fill&&t.fillText(a,c,d+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function qd(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}function nI(e){return Array.from?Array.from(e):e.split("")}function zD(e){typeof e=="string"&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)t.push(String.fromCharCode(a))}else t.push(...nI(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const ps=class ai{constructor(t,r,n){var d;const[i]=t.info,[s]=t.common,[o]=t.page,[a]=t.distanceField,u=pl(o.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=c;for(let f=0;f<t.page.length;f++){const{id:m,file:g}=t.page[f];c[m]=r instanceof Array?r[f]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(c[m].baseTexture.alphaMode=cn.NO_PREMULTIPLIED_ALPHA,c[m].baseTexture.mipmap=$s.OFF)}for(let f=0;f<t.char.length;f++){const{id:m,page:g}=t.char[f];let{x:v,y:x,width:A,height:b,xoffset:S,yoffset:w,xadvance:T}=t.char[f];v/=u,x/=u,A/=u,b/=u,S/=u,w/=u,T/=u;const M=new Wt(v+c[g].frame.x/u,x+c[g].frame.y/u,A,b);this.chars[m]={xOffset:S,yOffset:w,xAdvance:T,kerning:{},texture:new Mt(c[g].baseTexture,M),page:g}}for(let f=0;f<t.kerning.length;f++){let{first:m,second:g,amount:v}=t.kerning[f];m/=u,g/=u,v/=u,this.chars[g]&&(this.chars[g].kerning[m]=v)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,r,n){let i;if(t instanceof zf)i=t;else{const o=DD(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Mt&&(r=[r]);const s=new ai(i,r,n);return ai.available[s.font]=s,s}static uninstall(t){const r=ai.available[t];if(!r)throw new Error(`No font found named '${t}'`);r.destroy(),delete ai.available[t]}static from(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...c}=Object.assign({},ai.defaultOptions,n),d=zD(i),f=r instanceof xh?r:new xh(r),m=a,g=new zf;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};let v=0,x=0,A,b,S,w=0;const T=[];for(let N=0;N<d.length;N++){A||(A=mt.ADAPTER.createCanvas(),A.width=a,A.height=u,b=A.getContext("2d"),S=new Lt(A,{resolution:o,...c}),T.push(new Mt(S)),g.page.push({id:T.length-1,file:""}));const C=d[N],I=vo.measureText(C,f,!1,A),B=I.width,F=Math.ceil(I.height),Y=Math.ceil((f.fontStyle==="italic"?2:1)*B);if(x>=u-F*o){if(x===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${C}')`);--N,A=null,b=null,S=null,x=0,v=0,w=0;continue}if(w=Math.max(F+I.fontProperties.descent,w),Y*o+v>=m){if(v===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${C}')`);--N,x+=w*o,x=Math.ceil(x),v=0,w=0;continue}$D(A,b,I,v,x,o,f);const J=qd(I.text);g.char.push({id:J,page:T.length-1,x:v/o,y:x/o,width:Y,height:F,xoffset:0,yoffset:0,xadvance:B-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(Y+2*s)*o,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(let N=0,C=d.length;N<C;N++){const I=d[N];for(let B=0;B<C;B++){const F=d[B],Y=b.measureText(I).width,J=b.measureText(F).width,U=b.measureText(I+F).width-(Y+J);U&&g.kerning.push({first:qd(I),second:qd(F),amount:U})}}const M=new ai(g,T,!0);return ai.available[t]!==void 0&&ai.uninstall(t),ai.available[t]=M,M}};ps.ALPHA=[["a","z"],["A","Z"]," "],ps.NUMERIC=[["0","9"]],ps.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ps.ASCII=[[" ","~"]],ps.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ps.ALPHANUMERIC},ps.available={};let ms=ps;class GD{constructor(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const ay=new jt,DS=new Xu,iI=class sI extends qr{constructor(t,r,n,i=Un.TRIANGLES){super(),this.geometry=t,this.shader=r,this.state=n||Ai.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=mt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Un.TRIANGLES&&r.length<sI.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),t.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(r),t.state.set(this.state),t.geometry.bind(this.geometry,r),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const t=this.geometry.buffers[0],r=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,c=i.tx,d=i.ty,f=this.vertexData;for(let m=0;m<f.length/2;m++){const g=r[m*2],v=r[m*2+1];f[m*2]=s*g+a*v+c,f[m*2+1]=o*g+u*v+d}if(this._roundPixels){const m=mt.RESOLUTION;for(let g=0;g<f.length;++g)f[g]=Math.round(f[g]*m)/m}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new GD(t,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ay);const r=this.geometry.getBuffer("aVertexPosition").data,n=DS.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,c=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[d],n[5]=r[d+1],DS.contains(ay.x,ay.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};iI.BATCHABLE_SIZE=100;let wh=iI;class Ep extends Lh{constructor(t,r,n){super();const i=new Ne(t),s=new Ne(r,!0),o=new Ne(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,At.FLOAT).addAttribute("aTextureCoord",s,2,!1,At.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var jD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,HD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class bh extends _i{constructor(t,r){const n={uSampler:t,alpha:1,uTextureMatrix:Be.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ui.from(HD,jD),n),this._colorDirty=!1,this.uvMatrix=new Z1(t),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ve(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;ve.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var WD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,VD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const US=[],$S=[],zS=[],oI=class aI extends qr{constructor(t,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},aI.styleDefaults,r);if(!ms.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new ve(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=t,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Ts(()=>{this.dirty=!0},this,0,0),this._roundPixels=mt.ROUND_PIXELS,this.dirty=!0,this._resolution=mt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Y;const t=ms.available[this._fontName],r=this.fontSize,n=r/t.size,i=new jt,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=nI(u),d=this._maxWidth*t.size/r,f=t.distanceFieldType==="none"?US:$S;let m=null,g=0,v=0,x=0,A=-1,b=0,S=0,w=0,T=0;for(let J=0;J<c.length;J++){const U=c[J],D=qd(U);if(/(?:\s)/.test(U)&&(A=J,b=g,T++),U==="\r"||U===`
`){o.push(g),a.push(-1),v=Math.max(v,g),++x,++S,i.x=0,i.y+=t.lineHeight,m=null,T=0;continue}const z=t.chars[D];if(!z)continue;m&&z.kerning[m]&&(i.x+=z.kerning[m]);const H=zS.pop()||{texture:Mt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new jt};H.texture=z.texture,H.line=x,H.charCode=D,H.position.x=Math.round(i.x+z.xOffset+this._letterSpacing/2),H.position.y=Math.round(i.y+z.yOffset),H.prevSpaces=T,s.push(H),g=H.position.x+Math.max(z.xAdvance-z.xOffset,z.texture.orig.width),i.x+=z.xAdvance+this._letterSpacing,w=Math.max(w,z.yOffset+z.texture.height),m=D,A!==-1&&d>0&&i.x>d&&(++S,Vu(s,1+A-S,1+J-A),J=A,A=-1,o.push(b),a.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,b),x++,i.x=0,i.y+=t.lineHeight,m=null,T=0)}const M=c[c.length-1];M!=="\r"&&M!==`
`&&(/(?:\s)/.test(M)&&(g=b),o.push(g),v=Math.max(v,g),a.push(-1));const N=[];for(let J=0;J<=x;J++){let U=0;this._align==="right"?U=v-o[J]:this._align==="center"?U=(v-o[J])/2:this._align==="justify"&&(U=a[J]<0?0:(v-o[J])/a[J]),N.push(U)}const C=s.length,I={},B=[],F=this._activePagesMeshData;f.push(...F);for(let J=0;J<C;J++){const U=s[J].texture,D=U.baseTexture.uid;if(!I[D]){let z=f.pop();if(!z){const W=new Ep;let R,L;t.distanceFieldType==="none"?(R=new bh(Mt.EMPTY),L=wt.NORMAL):(R=new bh(Mt.EMPTY,{program:Ui.from(VD,WD),uniforms:{uFWidth:0}}),L=wt.NORMAL_NPM);const k=new wh(W,R);k.blendMode=L,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;const{_textureCache:H}=this;H[D]=H[D]||new Mt(U.baseTexture),z.mesh.texture=H[D],z.mesh.tint=this._tintColor.value,B.push(z),I[D]=z}I[D].total++}for(let J=0;J<F.length;J++)B.includes(F[J])||this.removeChild(F[J].mesh);for(let J=0;J<B.length;J++)B[J].mesh.parent!==this&&this.addChild(B[J].mesh);this._activePagesMeshData=B;for(const J in I){const U=I[J],D=U.total;if(!(((Y=U.indices)==null?void 0:Y.length)>6*D)||U.vertices.length<wh.BATCHABLE_SIZE*2)U.vertices=new Float32Array(4*2*D),U.uvs=new Float32Array(4*2*D),U.indices=new Uint16Array(6*D);else{const z=U.total,H=U.vertices;for(let W=z*4*2;W<H.length;W++)H[W]=0}U.mesh.size=6*D}for(let J=0;J<C;J++){const U=s[J];let D=U.position.x+N[U.line]*(this._align==="justify"?U.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const z=D*n,H=U.position.y*n,W=U.texture,R=I[W.baseTexture.uid],L=W.frame,k=W._uvs,G=R.index++;R.indices[G*6+0]=0+G*4,R.indices[G*6+1]=1+G*4,R.indices[G*6+2]=2+G*4,R.indices[G*6+3]=0+G*4,R.indices[G*6+4]=2+G*4,R.indices[G*6+5]=3+G*4,R.vertices[G*8+0]=z,R.vertices[G*8+1]=H,R.vertices[G*8+2]=z+L.width*n,R.vertices[G*8+3]=H,R.vertices[G*8+4]=z+L.width*n,R.vertices[G*8+5]=H+L.height*n,R.vertices[G*8+6]=z,R.vertices[G*8+7]=H+L.height*n,R.uvs[G*8+0]=k.x0,R.uvs[G*8+1]=k.y0,R.uvs[G*8+2]=k.x1,R.uvs[G*8+3]=k.y1,R.uvs[G*8+4]=k.x2,R.uvs[G*8+5]=k.y2,R.uvs[G*8+6]=k.x3,R.uvs[G*8+7]=k.y3}this._textWidth=v*n,this._textHeight=(i.y+t.lineHeight)*n;for(const J in I){const U=I[J];if(this.anchor.x!==0||this.anchor.y!==0){let W=0;const R=this._textWidth*this.anchor.x,L=this._textHeight*this.anchor.y;for(let k=0;k<U.total;k++)U.vertices[W++]-=R,U.vertices[W++]-=L,U.vertices[W++]-=R,U.vertices[W++]-=L,U.vertices[W++]-=R,U.vertices[W++]-=L,U.vertices[W++]-=R,U.vertices[W++]-=L}this._maxLineHeight=w*n;const D=U.mesh.geometry.getBuffer("aVertexPosition"),z=U.mesh.geometry.getBuffer("aTextureCoord"),H=U.mesh.geometry.getIndex();D.data=U.vertices,z.data=U.uvs,H.data=U.indices,D.update(),z.update(),H.update()}for(let J=0;J<s.length;J++)zS.push(s[J]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=ms.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,c=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+u*u),f=(Math.abs(c)+Math.abs(d))/2,m=this.fontSize/i,g=t._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*r*m*g}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=ms.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!ms.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??ms.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:r}=this,n=ms.available[this._fontName].distanceFieldType==="none"?US:$S;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Mt.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};oI.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let XD=oI;const GS={loader:ht.LoadParser,resolver:ht.ResolveParser,cache:ht.CacheParser,detection:ht.DetectionParser};xt.handle(ht.Asset,e=>{const t=e.ref;Object.entries(GS).filter(([r])=>!!t[r]).forEach(([r,n])=>xt.add(Object.assign(t[r],{extension:t[r].extension??n})))},e=>{const t=e.ref;Object.keys(GS).filter(r=>!!t[r]).forEach(r=>xt.remove(t[r]))});let YD=class{constructor(t,r=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(t){t.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}};function Ml(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function kl(e,t){const r=e.split("?")[0],n=gn.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const On=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(n=>typeof n=="string"||r?t(n):n):e),qD=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e};function lI(e,t,r,n,i){const s=t[r];for(let o=0;o<s.length;o++){const a=s[o];r<t.length-1?lI(e.replace(n[r],a),t,r+1,n,i):i.push(e.replace(n[r],a))}}function QD(e){const t=/\{(.*?)\}/g,r=e.match(t),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),lI(e,i,0,r,n)}else n.push(e);return n}const Gf=e=>!Array.isArray(e);let KD=class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const r=this._cache.get(t);return r||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),r}set(t,r){const n=On(t);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof Mt){const a=r;n.forEach(u=>{a.baseTexture!==Mt.EMPTY.baseTexture&&Lt.addToCache(a.baseTexture,u),Mt.addToCache(a,u)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const r=this._cacheMap.get(t);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}};const Ao=new KD;let ZD=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,r,n)=>(this._parsersValidated=!1,t[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${t}`)),!s){for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.load&&((o=c.test)!=null&&o.call(c,t,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(t,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(t,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Gf(t),o=On(t,c=>({alias:[c],src:c})),a=o.length,u=o.map(async c=>{const d=gn.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),i[c.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[d],delete i[c.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(t){const r=On(t,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=gn.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,r)=>(t[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...t,[r.name]:r}),{})}};var Vs=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(Vs||{});const JD=".json",t3="application/json",e3={extension:{type:ht.LoadParser,priority:Vs.Low},name:"loadJson",test(e){return Ml(e,t3)||kl(e,JD)},async load(e){return await(await mt.ADAPTER.fetch(e)).json()}};xt.add(e3);const r3=".txt",n3="text/plain",i3={name:"loadTxt",extension:{type:ht.LoadParser,priority:Vs.Low},test(e){return Ml(e,n3)||kl(e,r3)},async load(e){return await(await mt.ADAPTER.fetch(e)).text()}};xt.add(i3);const s3=["normal","bold","100","200","300","400","500","600","700","800","900"],o3=[".ttf",".otf",".woff",".woff2"],a3=["font/ttf","font/otf","font/woff","font/woff2"],l3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function u3(e){const t=gn.extname(e),r=gn.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(l3)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const h3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function c3(e){return h3.test(e)?e:encodeURI(e)}const d3={extension:{type:ht.LoadParser,priority:Vs.Low},name:"loadWebFont",test(e){return Ml(e,a3)||kl(e,o3)},async load(e,t){var n,i,s;const r=mt.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=t.data)==null?void 0:n.family)??u3(e),u=((s=(i=t.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>s3.includes(d)))??["normal"],c=t.data??{};for(let d=0;d<u.length;d++){const f=u[d],m=new FontFace(a,`url(${c3(e)})`,{...c,weight:f});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(t=>mt.ADAPTER.getFontFaceSet().delete(t))}};xt.add(d3);const f3=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Ja=null,yv=class{constructor(){Ja||(Ja=URL.createObjectURL(new Blob([f3],{type:"application/javascript"}))),this.worker=new Worker(Ja)}};yv.revokeObjectURL=function(){Ja&&(URL.revokeObjectURL(Ja),Ja=null)};const p3=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let tl=null,uI=class{constructor(){tl||(tl=URL.createObjectURL(new Blob([p3],{type:"application/javascript"}))),this.worker=new Worker(tl)}};uI.revokeObjectURL=function(){tl&&(URL.revokeObjectURL(tl),tl=null)};let jS=0,ly,m3=class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:r}=new yv;r.addEventListener("message",n=>{r.terminate(),yv.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){ly===void 0&&(ly=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<ly&&(this._createdWorkers++,t=new uI().worker,t.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:t,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const r=this.queue.pop(),n=r.id;this.resolveHash[jS]={resolve:r.resolve,reject:r.reject},t.postMessage({data:r.arguments,uuid:jS++,id:n})}};const HS=new m3;function t_(e,t,r){e.resource.internal=!0;const n=new Mt(e),i=()=>{delete t.promiseCache[r],Ao.has(r)&&Ao.remove(r)};return n.baseTexture.once("destroyed",()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const g3=[".jpeg",".jpg",".png",".webp",".avif"],y3=["image/jpeg","image/png","image/webp","image/avif"];async function v3(e){const t=await mt.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const Tp={name:"loadTextures",extension:{type:ht.LoadParser,priority:Vs.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return Ml(e,y3)||kl(e,g3)},async load(e,t,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await HS.isImageBitmapSupported()?i=await HS.loadImageBitmap(e):i=await v3(e):i=await new Promise((u,c)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=e,d.complete?u(d):(d.onload=()=>u(d),d.onerror=f=>c(f))});const s={...t.data};s.resolution??(s.resolution=pl(e)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Lt(i,s);return o.resource.src=e,t_(o,r,e)},unload(e){e.destroy(!0)}};xt.add(Tp);const _3=".svg",x3="image/svg+xml",w3={extension:{type:ht.LoadParser,priority:Vs.High},name:"loadSVG",test(e){return Ml(e,x3)||kl(e,_3)},async testParse(e){return hv.test(e)},async parse(e,t,r){var s;const n=new hv(e,(s=t==null?void 0:t.data)==null?void 0:s.resourceOptions);await n.load();const i=new Lt(n,{resolution:pl(e),...t==null?void 0:t.data});return i.resource.src=t.src,t_(i,r,t.src)},async load(e,t){return(await mt.ADAPTER.fetch(e)).text()},unload:Tp.unload};xt.add(w3);const b3=[".mp4",".m4v",".webm",".ogv"],S3=["video/mp4","video/webm","video/ogg"],A3={name:"loadVideo",extension:{type:ht.LoadParser,priority:Vs.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(e){return Ml(e,S3)||kl(e,b3)},async load(e,t,r){var o;let n;const i=await(await mt.ADAPTER.fetch(e)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions,autoLoad:!0},u=new ZP(s,a);await u.load();const c=new Lt(u,{alphaMode:await tO(),resolution:pl(e),...t==null?void 0:t.data});c.resource.src=e,n=t_(c,r,e),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(e){e.destroy(!0)}};xt.add(A3);let E3=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,r)=>`${t}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(t,r)=>r.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const r=t;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(t){const{alias:r,name:n,src:i,srcs:s}=t;return On(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(t,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(t,o);n.push(u),a=[o,u]}else{const u=o.map(c=>this._createBundleAssetId(t,c));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(t,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[t]=n}add(t,r,n,i,s){const o=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(Ot("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:t,src:r,data:n,format:i,loadParser:s})):Array.isArray(t)?o.push(...t):o.push(t);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},On(o).forEach(u=>{const{src:c,srcs:d}=u;let{data:f,format:m,loadParser:g}=u;const v=On(c||d).map(b=>typeof b=="string"?QD(b):Array.isArray(b)?b:[b]),x=this.getAlias(u);Array.isArray(x)?x.forEach(a):a(x);const A=[];v.forEach(b=>{b.forEach(S=>{let w={};if(typeof S!="object"){w.src=S;for(let T=0;T<this._parsers.length;T++){const M=this._parsers[T];if(M.test(S)){w=M.parse(S);break}}}else f=S.data??f,m=S.format??m,g=S.loadParser??g,w={...w,...S};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this.buildResolvedAsset(w,{aliases:x,data:f,format:m,loadParser:g}),A.push(w)})}),x.forEach(b=>{this._assetMap[b]=A})})}resolveBundle(t){const r=Gf(t);t=On(t);const n={};return t.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const c=o[u];a[this._extractAssetIdFromBundle(i,u)]=c}n[i]=a}}),r?n[t[0]]:n}resolveUrl(t){const r=this.resolve(t);if(typeof t!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(t){const r=Gf(t);t=On(t);const n={};return t.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(c=>{const d=s.filter(f=>f[u]?f[u]===c:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let r=0;r<t.length;r++){const n=t[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const r=/\?/.test(t)?"&":"?";return`${t}${r}${this._defaultSearchParams}`}buildResolvedAsset(t,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(t.src=gn.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...i||{},...t.data},t.loadParser=s??t.loadParser,t.format=o??t.format??gn.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}},T3=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new E3,this.loader=new ZD,this.cache=Ao,this._backgroundLoader=new YD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=t.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,r,n,i,s){this.resolver.add(t,r,n,i,s)}async load(t,r){this._initialized||await this.init();const n=Gf(t),i=On(t).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(t,r){this.resolver.addBundle(t,r)}async loadBundle(t,r){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const i=this.resolver.resolveBundle(t),s={},o=Object.keys(i);let a=0,u=0;const c=()=>{r==null||r(++a/u)},d=o.map(f=>{const m=i[f];return u+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(g=>{s[f]=g})});return await Promise.all(d),n?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolveBundle(t);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Ao.get(t);const r={};for(let n=0;n<t.length;n++)r[n]=Ao.get(t[n]);return r}async _mapLoadToResolve(t,r){const n=Object.values(t),i=Object.keys(t);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const c=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[u]]=c,Ao.set(d,c)}),o}async unload(t){this._initialized||await this.init();const r=On(t).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=On(t);const r=this.resolver.resolveBundle(t),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(t){const r=Object.values(t);r.forEach(n=>{Ao.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(t){let r=[];t.preferredFormats&&(r=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?r=await n.add(r):t.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Tp.config.preferWorkers}set preferWorkers(t){Ot("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in t).forEach(n=>{r.config[n]=t[n]})})}};const hd=new T3;xt.handleByList(ht.LoadParser,hd.loader.parsers).handleByList(ht.ResolveParser,hd.resolver.parsers).handleByList(ht.CacheParser,hd.cache.parsers).handleByList(ht.DetectionParser,hd.detections);const C3={extension:ht.CacheParser,test:e=>Array.isArray(e)&&e.every(t=>t instanceof Mt),getCacheableAssets:(e,t)=>{const r={};return e.forEach(n=>{t.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};xt.add(C3);async function hI(e){if("Image"in globalThis)return new Promise(t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const P3={extension:{type:ht.DetectionParser,priority:1},test:async()=>hI("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(t=>t!=="avif")};xt.add(P3);const I3={extension:{type:ht.DetectionParser,priority:0},test:async()=>hI("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(t=>t!=="webp")};xt.add(I3);const WS=["png","jpg","jpeg"],R3={extension:{type:ht.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...WS],remove:async e=>e.filter(t=>!WS.includes(t))};xt.add(R3);const M3="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function e_(e){return M3?!1:document.createElement("video").canPlayType(e)!==""}const k3={extension:{type:ht.DetectionParser,priority:0},test:async()=>e_("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(t=>t!=="webm")};xt.add(k3);const N3={extension:{type:ht.DetectionParser,priority:0},test:async()=>e_("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(t=>t!=="mp4"&&t!=="m4v")};xt.add(N3);const F3={extension:{type:ht.DetectionParser,priority:0},test:async()=>e_("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(t=>t!=="ogv")};xt.add(F3);const B3={extension:ht.ResolveParser,test:Tp.test,parse:e=>{var t;return{resolution:parseFloat(((t=mt.RETINA_PREFIX.exec(e))==null?void 0:t[1])??"1"),format:gn.extname(e).slice(1),src:e}}};xt.add(B3);const L3=[".xml",".fnt"],O3={extension:{type:ht.LoadParser,priority:Vs.Normal},name:"loadBitmapFont",test(e){return L3.includes(gn.extname(e).toLowerCase())},async testParse(e){return Yd.test(e)||gv.test(e)},async parse(e,t,r){const n=Yd.test(e)?Yd.parse(e):gv.parse(e),{src:i}=t,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const d=s[c].file;let f=gn.join(gn.dirname(i),d);f=qD(f,i),o.push(f)}const a=await r.load(o),u=o.map(c=>a[c]);return ms.install(n,u,!0)},async load(e,t){return(await mt.ADAPTER.fetch(e)).text()},unload(e){e.destroy()}};xt.add(O3);const jf={build(e){const t=e.points;let r,n,i,s,o,a;if(e.type===Qe.CIRC){const v=e.shape;r=v.x,n=v.y,o=a=v.radius,i=s=0}else if(e.type===Qe.ELIP){const v=e.shape;r=v.x,n=v.y,o=v.width,a=v.height,i=s=0}else{const v=e.shape,x=v.width/2,A=v.height/2;r=v.x+x,n=v.y+A,o=a=Math.max(0,Math.min(v.radius,Math.min(x,A))),i=x-o,s=A-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){t.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),c=u*8+(i?4:0)+(s?4:0);if(t.length=c,c===0)return;if(u===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+s,t[2]=t[4]=r-i,t[5]=t[7]=n-s;return}let d=0,f=u*4+(i?2:0)+2,m=f,g=c;{const v=i+o,x=s,A=r+v,b=r-v,S=n+x;if(t[d++]=A,t[d++]=S,t[--f]=S,t[--f]=b,s){const w=n-x;t[m++]=b,t[m++]=w,t[--g]=w,t[--g]=A}}for(let v=1;v<u;v++){const x=Math.PI/2*(v/u),A=i+Math.cos(x)*o,b=s+Math.sin(x)*a,S=r+A,w=r-A,T=n+b,M=n-b;t[d++]=S,t[d++]=T,t[--f]=T,t[--f]=w,t[m++]=w,t[m++]=M,t[--g]=M,t[--g]=S}{const v=i,x=s+a,A=r+v,b=r-v,S=n+x,w=n-x;t[d++]=A,t[d++]=S,t[--g]=w,t[--g]=A,i&&(t[d++]=b,t[d++]=S,t[--g]=w,t[--g]=b)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(e.type!==Qe.RREC){const d=e.shape;a=d.x,u=d.y}else{const d=e.shape;a=d.x+d.width/2,u=d.y+d.height/2}const c=e.matrix;n.push(e.matrix?c.a*a+c.c*u+c.tx:a,e.matrix?c.b*a+c.d*u+c.ty:u),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function VS(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,s=e[r-2],o=e[r-1];i<r;i+=2){const a=e[i],u=e[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!t&&n>0||t&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,c=s+1;[e[o],e[u]]=[e[u],e[o]],[e[a],e[c]]=[e[c],e[a]]}}}const cI={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,s=t.indices;if(r.length>=6){VS(r,!1);const o=[];for(let c=0;c<n.length;c++){const d=n[c];VS(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=RC(r,o,2);if(!a)return;const u=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+u),s.push(a[c+1]+u),s.push(a[c+2]+u);for(let c=0;c<r.length;c++)i.push(r[c])}}},D3={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,s=t.height,o=e.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(e,t){const r=e.points,n=t.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},U3={build(e){jf.build(e)},triangulate(e,t){jf.triangulate(e,t)}};var an=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(an||{}),Cs=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(Cs||{});const gl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class XS{static curveTo(t,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,c=a-t,d=i-r,f=n-t,m=Math.abs(u*f-c*d);if(m<1e-8||s===0)return(o[o.length-2]!==t||o[o.length-1]!==r)&&o.push(t,r),null;const g=u*u+c*c,v=d*d+f*f,x=u*d+c*f,A=s*Math.sqrt(g)/m,b=s*Math.sqrt(v)/m,S=A*x/g,w=b*x/v,T=A*f+b*c,M=A*d+b*u,N=c*(b+S),C=u*(b+S),I=f*(A+w),B=d*(A+w),F=Math.atan2(C-M,N-T),Y=Math.atan2(B-M,I-T);return{cx:T+t,cy:M+r,radius:s,startAngle:F,endAngle:Y,anticlockwise:c*d>f*u}}static arc(t,r,n,i,s,o,a,u,c){const d=a-o,f=gl._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Bf)*40),m=d/(f*2),g=m*2,v=Math.cos(m),x=Math.sin(m),A=f-1,b=A%1/A;for(let S=0;S<=A;++S){const w=S+b*S,T=m+o+g*w,M=Math.cos(T),N=-Math.sin(T);c.push((v*M+x*N)*s+n,(v*-N+x*M)*s+i)}}}class $3{constructor(){this.reset()}begin(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n}end(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class r_{static curveLength(t,r,n,i,s,o,a,u){let c=0,d=0,f=0,m=0,g=0,v=0,x=0,A=0,b=0,S=0,w=0,T=t,M=r;for(let N=1;N<=10;++N)d=N/10,f=d*d,m=f*d,g=1-d,v=g*g,x=v*g,A=x*t+3*v*d*n+3*g*f*s+m*a,b=x*r+3*v*d*i+3*g*f*o+m*u,S=T-A,w=M-b,T=A,M=b,c+=Math.sqrt(S*S+w*w);return c}static curveTo(t,r,n,i,s,o,a){const u=a[a.length-2],c=a[a.length-1];a.length-=2;const d=gl._segmentsCount(r_.curveLength(u,c,t,r,n,i,s,o));let f=0,m=0,g=0,v=0,x=0;a.push(u,c);for(let A=1,b=0;A<=d;++A)b=A/d,f=1-b,m=f*f,g=m*f,v=b*b,x=v*b,a.push(g*u+3*m*b*t+3*f*v*n+x*s,g*c+3*m*b*r+3*f*v*i+x*o)}}function YS(e,t,r,n,i,s,o,a){const u=e-r*i,c=t-n*i,d=e+r*s,f=t+n*s;let m,g;o?(m=n,g=-r):(m=-n,g=r);const v=u+m,x=c+g,A=d+m,b=f+g;return a.push(v,x,A,b),2}function so(e,t,r,n,i,s,o,a){const u=r-e,c=n-t;let d=Math.atan2(u,c),f=Math.atan2(i-e,s-t);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let m=d;const g=f-d,v=Math.abs(g),x=Math.sqrt(u*u+c*c),A=(15*v*Math.sqrt(x)/Math.PI>>0)+1,b=g/A;if(m+=b,a){o.push(e,t,r,n);for(let S=1,w=m;S<A;S++,w+=b)o.push(e,t,e+Math.sin(w)*x,t+Math.cos(w)*x);o.push(e,t,i,s)}else{o.push(r,n,e,t);for(let S=1,w=m;S<A;S++,w+=b)o.push(e+Math.sin(w)*x,t+Math.cos(w)*x,e,t);o.push(i,s,e,t)}return A*2}function z3(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(n.length===0)return;const s=e.lineStyle,o=new jt(n[0],n[1]),a=new jt(n[n.length-2],n[n.length-1]),u=r.type!==Qe.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),c&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const W=(o.x+a.x)*.5,R=(a.y+o.y)*.5;n.unshift(W,R),n.push(W,R)}const d=t.points,f=n.length/2;let m=n.length;const g=d.length/2,v=s.width/2,x=v*v,A=s.miterLimit*s.miterLimit;let b=n[0],S=n[1],w=n[2],T=n[3],M=0,N=0,C=-(S-T),I=b-w,B=0,F=0,Y=Math.sqrt(C*C+I*I);C/=Y,I/=Y,C*=v,I*=v;const J=s.alignment,U=(1-J)*2,D=J*2;u||(s.cap===Cs.ROUND?m+=so(b-C*(U-D)*.5,S-I*(U-D)*.5,b-C*U,S-I*U,b+C*D,S+I*D,d,!0)+2:s.cap===Cs.SQUARE&&(m+=YS(b,S,C,I,U,D,!0,d))),d.push(b-C*U,S-I*U,b+C*D,S+I*D);for(let W=1;W<f-1;++W){b=n[(W-1)*2],S=n[(W-1)*2+1],w=n[W*2],T=n[W*2+1],M=n[(W+1)*2],N=n[(W+1)*2+1],C=-(S-T),I=b-w,Y=Math.sqrt(C*C+I*I),C/=Y,I/=Y,C*=v,I*=v,B=-(T-N),F=w-M,Y=Math.sqrt(B*B+F*F),B/=Y,F/=Y,B*=v,F*=v;const R=w-b,L=S-T,k=w-M,G=N-T,V=R*k+L*G,ot=L*k-G*R,st=ot<0;if(Math.abs(ot)<.001*Math.abs(V)){d.push(w-C*U,T-I*U,w+C*D,T+I*D),V>=0&&(s.join===an.ROUND?m+=so(w,T,w-C*U,T-I*U,w-B*U,T-F*U,d,!1)+4:m+=2,d.push(w-B*D,T-F*D,w+B*U,T+F*U));continue}const yt=(-C+b)*(-I+T)-(-C+w)*(-I+S),pt=(-B+M)*(-F+T)-(-B+w)*(-F+N),bt=(R*pt-k*yt)/ot,Ft=(G*yt-L*pt)/ot,Rt=(bt-w)*(bt-w)+(Ft-T)*(Ft-T),Et=w+(bt-w)*U,gt=T+(Ft-T)*U,St=w-(bt-w)*D,Tt=T-(Ft-T)*D,rr=Math.min(R*R+L*L,k*k+G*G),Ae=st?U:D,pr=rr+Ae*Ae*x,bn=Rt<=pr;let Sr=s.join;if(Sr===an.MITER&&Rt/x>A&&(Sr=an.BEVEL),bn)switch(Sr){case an.MITER:{d.push(Et,gt,St,Tt);break}case an.BEVEL:{st?d.push(Et,gt,w+C*D,T+I*D,Et,gt,w+B*D,T+F*D):d.push(w-C*U,T-I*U,St,Tt,w-B*U,T-F*U,St,Tt),m+=2;break}case an.ROUND:{st?(d.push(Et,gt,w+C*D,T+I*D),m+=so(w,T,w+C*D,T+I*D,w+B*D,T+F*D,d,!0)+4,d.push(Et,gt,w+B*D,T+F*D)):(d.push(w-C*U,T-I*U,St,Tt),m+=so(w,T,w-C*U,T-I*U,w-B*U,T-F*U,d,!1)+4,d.push(w-B*U,T-F*U,St,Tt));break}}else{switch(d.push(w-C*U,T-I*U,w+C*D,T+I*D),Sr){case an.MITER:{st?d.push(St,Tt,St,Tt):d.push(Et,gt,Et,gt),m+=2;break}case an.ROUND:{st?m+=so(w,T,w+C*D,T+I*D,w+B*D,T+F*D,d,!0)+2:m+=so(w,T,w-C*U,T-I*U,w-B*U,T-F*U,d,!1)+2;break}}d.push(w-B*U,T-F*U,w+B*D,T+F*D),m+=2}}b=n[(f-2)*2],S=n[(f-2)*2+1],w=n[(f-1)*2],T=n[(f-1)*2+1],C=-(S-T),I=b-w,Y=Math.sqrt(C*C+I*I),C/=Y,I/=Y,C*=v,I*=v,d.push(w-C*U,T-I*U,w+C*D,T+I*D),u||(s.cap===Cs.ROUND?m+=so(w-C*(U-D)*.5,T-I*(U-D)*.5,w-C*U,T-I*U,w+C*D,T+I*D,d,!1)+2:s.cap===Cs.SQUARE&&(m+=YS(w,T,C,I,U,D,!1,d)));const z=t.indices,H=gl.epsilon*gl.epsilon;for(let W=g;W<m+g-2;++W)b=d[W*2],S=d[W*2+1],w=d[(W+1)*2],T=d[(W+1)*2+1],M=d[(W+2)*2],N=d[(W+2)*2+1],!(Math.abs(b*(T-N)+w*(N-S)+M*(S-T))<H)&&z.push(W,W+1,W+2)}function G3(e,t){let r=0;const n=e.shape,i=e.points||n.points,s=n.type!==Qe.POLY||n.closeStroke;if(i.length===0)return;const o=t.points,a=t.indices,u=i.length/2,c=o.length/2;let d=c;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,c)}function qS(e,t){e.lineStyle.native?G3(e,t):z3(e,t)}class n_{static curveLength(t,r,n,i,s,o){const a=t-2*n+s,u=r-2*i+o,c=2*n-2*t,d=2*i-2*r,f=4*(a*a+u*u),m=4*(a*c+u*d),g=c*c+d*d,v=2*Math.sqrt(f+m+g),x=Math.sqrt(f),A=2*f*x,b=2*Math.sqrt(g),S=m/x;return(A*v+x*m*(v-b)+(4*g*f-m*m)*Math.log((2*x+S+v)/(S+b)))/(4*A)}static curveTo(t,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=gl._segmentsCount(n_.curveLength(o,a,t,r,n,i));let c=0,d=0;for(let f=1;f<=u;++f){const m=f/u;c=o+(t-o)*m,d=a+(r-a)*m,s.push(c+(t+(n-t)*m-c)*m,d+(r+(i-r)*m-d)*m)}}}const uy={[Qe.POLY]:cI,[Qe.CIRC]:jf,[Qe.ELIP]:jf,[Qe.RECT]:D3,[Qe.RREC]:U3},QS=[],cd=[];class Hf{constructor(t,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}clone(){return new Hf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ma=new jt,dI=class fI extends lP{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new $f,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),cd.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const r=this.batches[t];r.reset(),QS.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,r=null,n=null,i=null){const s=new Hf(t,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(t,r=null){if(!this.graphicsData.length)return null;const n=new Hf(t,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,ma):ma.copyFrom(t),i.shape.contains(ma.x,ma.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(ma.x,ma.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<r.length;u++){this.shapeIndex++;const c=r[u],d=c.fillStyle,f=c.lineStyle;uy[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(d.visible||f.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const g=m===0?d:f;if(!g.visible)continue;const v=g.texture.baseTexture,x=this.indices.length,A=this.points.length/2;v.wrapMode=zi.REPEAT,m===0?this.processFill(c):this.processLine(c);const b=this.points.length/2-A;b!==0&&(n&&!this._compareStyles(i,g)&&(n.end(x,A),n=null),n||(n=QS.pop()||new $3,n.begin(g,x,A),this.batches.push(n),i=g),this.addUvs(this.points,t,g.texture,A,b,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,r){return!(!t||!r||t.texture.baseTexture!==r.texture.baseTexture||t.color+t.alpha!==r.color+r.alpha||!!t.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,r=this.graphicsData.length;t<r;t++){const n=this.graphicsData[t],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let r=0,n=t.length;r<n;r++){const i=t[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<fI.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Lt._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),cd.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=cd.pop();i||(i=new Z0,i.texArray=new iv),i.texArray.count=0,i.start=0,i.size=0,i.type=Un.TRIANGLES;let s=0,o=null,a=0,u=!1,c=Un.TRIANGLES,d=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const m=this.batches[f],g=8,v=m.style,x=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,c=u?Un.LINES:Un.TRIANGLES,o=null,s=g,t++),o!==x&&(o=x,x._batchEnabled!==t&&(s===g&&(t++,s=0,i.size>0&&(i=cd.pop(),i||(i=new Z0,i.texArray=new iv),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=c),x.touched=1,x._batchEnabled=t,x._batchLocation=s,x.wrapMode=zi.REPEAT,i.texArray.elements[i.texArray.count++]=x,s++)),i.size+=m.size,d+=m.size,a=x._batchLocation,this.addColors(r,v.color,v.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}Lt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(t.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let c=0;c<t.length/2;c++)o[u++]=t[c*2],o[u++]=t[c*2+1],o[u++]=r[c*2],o[u++]=r[c*2+1],a[u++]=n[c],o[u++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?cI.triangulate(t,this):uy[t.type].triangulate(t,this)}processLine(t){qS(t,this);for(let r=0;r<t.holes.length;r++)qS(t.holes[r],this)}processHoles(t){for(let r=0;r<t.length;r++){const n=t[r];uy[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,r){for(let n=0;n<t.length/2;n++){const i=t[n*2],s=t[n*2+1];t[n*2]=r.a*i+r.c*s+r.tx,t[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(t,r,n,i,s=0){const o=ve.shared.setValue(r).toLittleEndianNumber(),a=ve.shared.setValue(o).toPremultiplied(n);t.length=Math.max(t.length,s+i);for(let u=0;u<i;u++)t[s+u]=a}addTextureIds(t,r,n,i=0){t.length=Math.max(t.length,i+n);for(let s=0;s<n;s++)t[i+s]=r}addUvs(t,r,n,i,s,o=null){let a=0;const u=r.length,c=n.frame;for(;a<s;){let f=t[(i+a)*2],m=t[(i+a)*2+1];if(o){const g=o.a*f+o.c*m+o.tx;m=o.b*f+o.d*m+o.ty,f=g}a++,r.push(f/c.width,m/c.height)}const d=n.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(r,n,u,s)}adjustUvs(t,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,u=r.frame,c=u.width/s.width,d=u.height/s.height;let f=u.x/u.width,m=u.y/u.height,g=Math.floor(t[n]+o),v=Math.floor(t[n+1]+o);for(let x=n+2;x<a;x+=2)g=Math.min(g,Math.floor(t[x]+o)),v=Math.min(v,Math.floor(t[x+1]+o));f-=g,m-=v;for(let x=n;x<a;x+=2)t[x]=(t[x]+f)*c,t[x+1]=(t[x+1]+m)*d}};dI.BATCHABLE_SIZE=100;let j3=dI;class Cp{constructor(){this.color=16777215,this.alpha=1,this.texture=Mt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Cp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=Mt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class i_ extends Cp{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Cs.BUTT,this.join=an.MITER,this.miterLimit=10}clone(){const t=new i_;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Cs.BUTT,this.join=an.MITER,this.miterLimit=10}}const hy={},vv=class Qd extends qr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cp,this._lineStyle=new i_,this._matrix=null,this._holeMode=!1,this.state=Ai.for2d(),this._geometry=t||new j3,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ve(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Qd(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,r=0,n,i=.5,s=!1){return typeof t=="number"&&(t={width:t,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(t)}lineTextureStyle(t){const r={width:0,texture:Mt.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Cs.BUTT,join:an.MITER,miterLimit:10};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Xu,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[r-2],t[r-1]))}else this.currentPath=new Xu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,r){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=r,this}lineTo(t,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==t||s!==r)&&n.push(t,r),this}_initCurve(t=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,r]):this.moveTo(t,r)}quadraticCurveTo(t,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),n_.curveTo(t,r,n,i,s),this}bezierCurveTo(t,r,n,i,s,o){return this._initCurve(),r_.curveTo(t,r,n,i,s,o,this.currentPath.points),this}arcTo(t,r,n,i,s){this._initCurve(t,r);const o=this.currentPath.points,a=XS.curveTo(t,r,n,i,s,o);if(a){const{cx:u,cy:c,radius:d,startAngle:f,endAngle:m,anticlockwise:g}=a;this.arc(u,c,d,f,m,g)}return this}arc(t,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Bf:o&&i<=s&&(i+=Bf),s-i===0)return this;const a=t+Math.cos(i)*n,u=r+Math.sin(i)*n,c=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-a),m=Math.abs(d[d.length-1]-u);f<c&&m<c||d.push(a,u)}else this.moveTo(a,u),d=this.currentPath.points;return XS.arc(a,u,t,r,n,i,s,o,d),this}beginFill(t=0,r){return this.beginTextureFill({texture:Mt.WHITE,color:t,alpha:r})}normalizeColor(t){const r=ve.shared.setValue(t.color??0);t.color=r.toNumber(),t.alpha??(t.alpha=r.alpha)}beginTextureFill(t){const r={texture:Mt.WHITE,color:16777215,matrix:null};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,r,n,i){return this.drawShape(new Wt(t,r,n,i))}drawRoundedRect(t,r,n,i,s){return this.drawShape(new mP(t,r,n,i,s))}drawCircle(t,r,n){return this.drawShape(new hP(t,r,n))}drawEllipse(t,r,n,i){return this.drawShape(new dP(t,r,n,i))}drawPolygon(...t){let r,n=!0;const i=t[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(t[0])?r=t[0]:r=t;const s=new Xu(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Qe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,r=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let i=0;i<n;i++){const s=t.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:c,uvs:u,_batchRGB:ve.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const r=this._resolveDirectShader(t),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,ve.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),t.shader.bind(r),t.geometry.bind(n,r),t.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let u=0;u<a;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(i,s,o)}_resolveDirectShader(t){let r=this.shader;const n=this.pluginName;if(!r){if(!hy[n]){const{maxTextures:i}=t.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Be,default:Hn.from({uSamplers:s},!0)},a=t.plugins[n]._shader.program;hy[n]=new _i(a,o)}r=hy[n]}return r}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=t.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(t){return this.worldTransform.applyInverse(t,Qd._TEMP_POINT),this._geometry.containsPoint(Qd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const r=this.batches[t];r._tintRGB=ve.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,c=this._geometry.points,d=this.vertexData;let f=0;for(let m=0;m<c.length;m+=2){const g=c[m],v=c[m+1];d[f++]=n*g+s*v+a,d[f++]=o*v+i*g+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};vv.curves=gl,vv._TEMP_POINT=new jt;let cy=vv;class H3 extends Ep{constructor(t=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=t,this.height=r,this.build()}build(){const t=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let d=0;d<t;d++){const f=d%this.segWidth,m=d/this.segWidth|0;r.push(f*a,m*u),n.push(f/s,m/o)}const c=s*o;for(let d=0;d<c;d++){const f=d%s,m=d/s|0,g=m*this.segWidth+f,v=m*this.segWidth+f+1,x=(m+1)*this.segWidth+f,A=(m+1)*this.segWidth+f+1;i.push(g,v,x,v,A,x)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class W3 extends Ep{constructor(t=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=t,this.textureScale=n,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(t.length<1)return;r.data.length/4!==t.length&&(r.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),i.data=new Uint16Array((t.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=t[0];const c=this._width*this.textureScale,d=t.length;for(let m=0;m<d;m++){const g=m*4;if(this.textureScale>0){const v=u.x-t[m].x,x=u.y-t[m].y,A=Math.sqrt(v*v+x*x);u=t[m],a+=A/c}else a=m/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let f=0;for(let m=0;m<d-1;m++){const g=m*2;o[f++]=g,o[f++]=g+1,o[f++]=g+2,o[f++]=g+2,o[f++]=g+1,o[f++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let r=t[0],n,i=0,s=0;const o=this.buffers[0].data,a=t.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const d=t[c],f=c*4;c<t.length-1?n=t[c+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=u,s*=u),o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class V3 extends wh{constructor(t,r,n){const i=new H3(t.width,t.height,r,n),s=new bh(Mt.WHITE);super(i,s),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(t.width!==r||t.height!==n)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}const dd=10;class X3 extends V3{constructor(t,r,n,i,s){var o,a,u,c;super(Mt.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=t.defaultBorders)==null?void 0:o.left)??dd,this._rightWidth=i??((a=t.defaultBorders)==null?void 0:a.right)??dd,this._topHeight=n??((u=t.defaultBorders)==null?void 0:u.top)??dd,this._bottomHeight=s??((c=t.defaultBorders)==null?void 0:c.bottom)??dd,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,r=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,r=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,r=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Y3 extends wh{constructor(t=Mt.EMPTY,r,n,i,s){const o=new Ep(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new bh(t);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}class q3 extends wh{constructor(t,r,n=0){const i=new W3(t.height,r,n),s=new bh(t);n>0&&(t.baseTexture.wrapMode=zi.REPEAT),super(i,s),this.autoUpdate=!0}_render(t){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(t)}}class Q3 extends qr{constructor(t=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new ve(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const r=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class KS{constructor(t,r,n){this.geometry=new Lh,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<t.length;++i){let s=t[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||At.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let r=0;this.indexBuffer=new Ne(hO(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ne(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ne(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===At.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===At.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(t,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(t,r,n,s.type===At.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(t,r,n,s.type===At.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var K3=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Z3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class pI extends bp{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new Be,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:At.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=_i.from(Z3,K3,{}),this.state=Ai.for2d()}render(t){const r=t.children,n=t._maxSize,i=t._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!t.autoResize&&(o=n);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const u=r[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=nP(t.blendMode,c),s.state.set(this.state);const d=s.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=ve.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let m=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let x=o-g;x>i&&(x=i),v>=a.length&&a.push(this._generateOneMoreBuffer(t));const A=a[v];A.uploadDynamic(r,g,x);const b=t._bufferUpdateIDs[v]||0;m=m||A._updateID<b,m&&(A._updateID=t._updateID,A.uploadStatic(r,g,x)),s.geometry.bind(A.geometry),d.drawElements(d.TRIANGLES,x*6,d.UNSIGNED_SHORT,0)}}generateBuffers(t){const r=[],n=t._maxSize,i=t._batchSize,s=t._properties;for(let o=0;o<n;o+=i)r.push(new KS(this.properties,s,i));return r}_generateOneMoreBuffer(t){const r=t._batchSize,n=t._properties;return new KS(this.properties,n,r)}uploadVertices(t,r,n,i,s,o){let a=0,u=0,c=0,d=0;for(let f=0;f<n;++f){const m=t[r+f],g=m._texture,v=m.scale.x,x=m.scale.y,A=g.trim,b=g.orig;A?(u=A.x-m.anchor.x*b.width,a=u+A.width,d=A.y-m.anchor.y*b.height,c=d+A.height):(a=b.width*(1-m.anchor.x),u=b.width*-m.anchor.x,c=b.height*(1-m.anchor.y),d=b.height*-m.anchor.y),i[o]=u*v,i[o+1]=d*x,i[o+s]=a*v,i[o+s+1]=d*x,i[o+s*2]=a*v,i[o+s*2+1]=c*x,i[o+s*3]=u*v,i[o+s*3+1]=c*x,o+=s*4}}uploadPosition(t,r,n,i,s,o){for(let a=0;a<n;a++){const u=t[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(t,r,n,i,s,o){for(let a=0;a<n;a++){const u=t[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(t,r,n,i,s,o){for(let a=0;a<n;++a){const u=t[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(t,r,n,i,s,o){for(let a=0;a<n;++a){const u=t[r+a],c=ve.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}pI.extension={name:"particle",type:ht.RendererPlugin};xt.add(pI);class Sh extends Oh{constructor(t,r=!0){super(t[0]instanceof Mt?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_r.shared.add(this.update,this,ml.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const r=this.animationSpeed*t,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const r=[];for(let n=0;n<t.length;++n)r.push(Mt.from(t[n]));return new Sh(r)}static fromImages(t){const r=[];for(let n=0;n<t.length;++n)r.push(Mt.from(t[n]));return new Sh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof Mt)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<t.length;r++)this._textures.push(t[r].texture),this._durations.push(t[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=t,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_r.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const gu=new jt;class s_ extends Oh{constructor(t,r=100,n=100){super(t),this.tileTransform=new wp,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Z1(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,r,n,i)}getLocalBounds(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Wt),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,gu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(gu.x>=i&&gu.x<i+r){const s=-n*this.anchor._y;if(gu.y>=s&&gu.y<s+n)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,r){const n=t instanceof Mt?t:Mt.from(t,r);return new s_(n,r.width,r.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var J3=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,eU=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ZS=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,rU=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const fd=new Be;class mI extends bp{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new CP,this.state=Ai.for2d()}contextChange(){const t=this.renderer,r={globals:t.globalUniforms};this.simpleShader=_i.from(ZS,rU,r),this.shader=t.context.webGLVersion>1?_i.from(tU,J3,r):_i.from(ZS,eU,r)}render(t){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);const s=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=t._texture,u=a.baseTexture,c=u.alphaMode>0,d=t.tileTransform.localTransform,f=t.uvMatrix;let m=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;m&&(u._glTextures[r.CONTEXT_UID]?m=u.wrapMode!==zi.CLAMP:u.wrapMode===zi.CLAMP&&(u.wrapMode=zi.REPEAT));const g=m?this.simpleShader:this.shader,v=a.width,x=a.height,A=t._width,b=t._height;fd.set(d.a*v/A,d.b*v/b,d.c*x/A,d.d*x/b,d.tx/A,d.ty/b),fd.invert(),m?fd.prepend(f.mapCoord):(g.uniforms.uMapCoord=f.mapCoord.toArray(!0),g.uniforms.uClampFrame=f.uClampFrame,g.uniforms.uClampOffset=f.uClampOffset),g.uniforms.uTransform=fd.toArray(!0),g.uniforms.uColor=ve.shared.setValue(t.tint).premultiply(t.worldAlpha,c).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=nP(t.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}mI.extension={name:"tilingSprite",type:ht.RendererPlugin};xt.add(mI);const gI=class _v{constructor(t){this.stage=new qr,t=Object.assign({forceCanvas:!1},t),this.renderer=AD(t),_v._plugins.forEach(r=>{r.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,r){const n=_v._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};gI._plugins=[];let Pp=gI;xt.handleByList(ht.Application,Pp._plugins);class yI{static init(t){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}yI.extension=ht.Application;xt.add(yI);var vI={exports:{}},nU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iU=nU,sU=iU;function _I(){}function xI(){}xI.resetWarningCache=_I;var oU=function(){function e(n,i,s,o,a,u){if(u!==sU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xI,resetWarningCache:_I};return r.PropTypes=r,r};vI.exports=oU();var aU=vI.exports;const ne=Ki(aU);function Xr(e){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function wI(e){var t=function(r,n){if(Xr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Xr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return Xr(t)==="symbol"?t:String(t)}function be(e,t,r){return(t=wI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qi(e){return function(t){if(Array.isArray(t))return dy(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,r){if(t){if(typeof t=="string")return dy(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dy(t,r):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _e(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var lU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uU(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hU=function(e){return e==null};function Iu(e){var t=[];if(e===void 0)return t;if(typeof e=="string")t=e.split(",");else if(typeof e=="number")t=[e];else if(Array.isArray(e))t=qi(e);else{if(e===null||Xr(e)!=="object")return t;t=[e&&(e==null?void 0:e.x)||0,e&&(e==null?void 0:e.y)||0]}return t.filter(function(r){return!hU(r)&&!isNaN(r)}).map(Number)}function JS(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function fy(e){return e instanceof jt||e instanceof Ts}var Wf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function py(e,t,r){if(fy(e[t])&&fy(r))e[t].copyFrom(r);else if(fy(e[t])){var n=Iu(r);_e(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",t,JSON.stringify(r),Xr(r)),e[t].set(n.shift(),n.shift())}else e[t]=r}var ga,bI=function(e){var t,r=e;if(!Array.isArray(r)){if(t=e,Object.prototype.toString.call(t)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(e)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},SI=function(e){return function(){return!e.apply(void 0,arguments)}},xv="children",cU=(be(ga={},xv,!0),be(ga,"parent",!0),be(ga,"worldAlpha",!0),be(ga,"worldTransform",!0),be(ga,"worldVisible",!0),ga),wv={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},wi=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,c;a==null||(u=a.__reactpixi)===null||u===void 0||(c=u.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return _e(u.typeofs.some(function(c){return Xr(r[a])===c})||u.instanceofs.some(function(c){return r[a]instanceof c}),"".concat(e," ").concat(a," prop is invalid")),r[a]};if(r.texture)return _e(r.texture instanceof Mt,"".concat(e," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Mt]});_e(!!s,"".concat(e," could not get texture from props"));var o=Mt.from(s);return o.__reactpixi={root:t},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},dU=SI(bI([].concat(qi(Object.keys(cU)),qi(Wf))));function bi(e,t,r){var n=!1;if(_e(zs.prototype.isPrototypeOf(e),"instance needs to be typeof `DisplayObject`, got `%s`",Xr(e)),!r.ignoreEvents)for(var i=typeof e.removeListener=="function",s=typeof e.on=="function",o=0;o<Wf.length;o++){var a=Wf[o];t[a]!==r[a]&&(n=!0,typeof t[a]=="function"&&i&&e.removeListener(a,t[a]),typeof r[a]=="function"&&s&&e.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<u.length;c++){var d=u[c];t[d]!==r[d]&&(n=!0,py(e,d,r[d]))}return n}for(var f=u.filter(dU),m=0;m<f.length;m++){var g=f[m],v=r[g];r[g]!==t[g]&&(n=!0),v!==void 0?py(e,g,v):g in wv?(console.warn("setting default value: ".concat(g,", from: ").concat(e[g]," to: ").concat(v," for"),e),n=!0,py(e,g,wv[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(e[g]," to ").concat(v," for"),e)}return n}var fU=function(e,t){var r=t.text,n=t.style;return new XD(r,n)},pU=function(){return new qr};function Xs(e,t){if(e==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,c,d={},f=Object.keys(o);for(c=0;c<f.length;c++)u=f[c],a.indexOf(u)>=0||(d[u]=o[u]);return d}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mU=["draw","geometry"],gU=function(e,t){var r=t.geometry;_e(!r||r instanceof cy,"Graphics geometry needs to be a `Graphics`");var n=r?new cy(r.geometry):new cy;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=bi(i,s,Xs(o,mU));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},yU=["image","texture"],vU=function(e,t){var r=t.leftWidth,n=r===void 0?10:r,i=t.topHeight,s=i===void 0?10:i,o=t.rightWidth,a=o===void 0?10:o,u=t.bottomHeight,c=u===void 0?10:u,d=wi("NineSlicePlane",e,t),f=new X3(d,n,s,a,c);return f.applyProps=function(m,g,v){var x=v.image,A=v.texture,b=bi(m,g,Xs(v,yU));return(x||A)&&(A!==g.texture&&(b=!0),m.texture=wi("NineSlicePlane",e,v)),b},f};function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _U=function(e,t){var r=t.maxSize,n=r===void 0?1500:r,i=t.batchSize,s=i===void 0?16384:i,o=t.autoResize,a=o!==void 0&&o,u=pd(pd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),t.properties||{}),c=pd(pd({},{children:!1,texture:!1,baseTexture:!1}),t.destroyOptions||{}),d=new Q3(n,u,s,a);return d.willUnmount=function(f,m,g){f.destroy(c)},d},xU=["image","texture"],wU=function(e,t){var r=new Oh(wi("Sprite",e,t));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=bi(n,i,Xs(s,xU));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=wi("Sprite",e,s)),u},r},bU=["textures","isPlaying","initialFrame","images"],SU=function(e,t){var r=t.textures,n=t.images,i=t.isPlaying,s=i===void 0||i,o=t.initialFrame,a=function(c){return c.map(function(d){return _e(d instanceof Mt||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),d})},u=n?Sh.fromImages(n):new Sh(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(c,d,f){var m=f.textures,g=f.isPlaying,v=f.initialFrame,x=f.images,A=bi(c,d,Xs(f,bU));if(x&&d.images!==x){for(var b=[],S=0;S<x.length;++S)b.push(Mt.from(x[S]));c.textures=b,A=!0}if(m&&d.textures!==m&&(c.textures=a(m),A=!0),g!==d.isPlaying||v!==d.initialFrame){var w=typeof v=="number"?v:u.currentFrame||0;u[g?"gotoAndPlay":"gotoAndStop"](w),A=!0}return A},u},AU=function(e,t){var r=t.text,n=r===void 0?"":r,i=t.style,s=i===void 0?{}:i,o=t.isSprite,a=new OD(n,s);return o?(a.updateText(),new Oh(a.texture)):a},EU=["tileScale","tilePosition","image","texture"],TU=function(e,t){var r=t.width,n=r===void 0?100:r,i=t.height,s=i===void 0?100:i,o=wi("TilingSprite",e,t),a=new s_(o,n,s);return a.applyProps=function(u,c,d){var f=d.tileScale,m=d.tilePosition,g=d.image,v=d.texture,x=bi(u,c,Xs(d,EU));if(m){var A,b=Iu(m);(A=u.tilePosition).set.apply(A,qi(b)),x=!JS(Iu(c.tilePosition),b)||x}if(f){var S,w=Iu(f);(S=u.tileScale).set.apply(S,qi(w)),x=!JS(Iu(c.tileScale),w)||x}return(g||v)&&(v!==c.texture&&(x=!0),u.texture=wi("Sprite",e,d)),x},a},CU=["image","texture"],PU=function(e,t){var r=wi("Mesh",e,t),n=t.vertices,i=t.uvs,s=t.indices,o=t.drawMode,a=o===void 0?Un.TRIANGLES:o,u=new Y3(r,n,i,s,a);return u.applyProps=function(c,d,f){var m=f.image,g=f.texture,v=bi(c,d,Xs(f,CU));return(m||g)&&(g!==d.texture&&(v=!0),c.texture=wi("Mesh",e,f)),v},u},IU=["image","texture"],RU=function(e,t){var r=wi("SimpleRope",e,t),n=t.points,i=new q3(r,n);return i.applyProps=function(s,o,a){var u=a.image,c=a.texture,d=Xs(a,IU);_e(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var f=bi(s,o,d);return(u||c)&&(c!==o.texture&&(f=!0),s.texture=wi("SimpleRope",e,a)),f},i},MU=Object.freeze({__proto__:null,BitmapText:fU,Container:pU,Graphics:gU,NineSlicePlane:vU,ParticleContainer:_U,Sprite:wU,Text:AU,TilingSprite:TU,SimpleMesh:PU,SimpleRope:RU,AnimatedSprite:SU});function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Br={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},kU=Object.keys(Br).reduce(function(e,t){return rA(rA({},e),{},be({},t,MU[t]))},{}),AI={};function NU(e,t){return _e(!!e,"Expect type to be defined, got `%s`",e),_e(!Br[e],"Component `%s` could not be created, already exists in default components.",e),AI[e]=t,e}var nA,iA,sA,oA,bv={},Sv={},FU={get exports(){return Sv},set exports(e){Sv=e}},aA={};function BU(){return iA||(iA=1,FU.exports=(nA||(nA=1,function(e){function t(R,L){var k=R.length;R.push(L);t:for(;0<k;){var G=k-1>>>1,V=R[G];if(!(0<i(V,L)))break t;R[G]=L,R[k]=V,k=G}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],k=R.pop();if(k!==L){R[0]=k;t:for(var G=0,V=R.length,ot=V>>>1;G<ot;){var st=2*(G+1)-1,yt=R[st],pt=st+1,bt=R[pt];if(0>i(yt,k))pt<V&&0>i(bt,yt)?(R[G]=bt,R[pt]=k,G=pt):(R[G]=yt,R[st]=k,G=st);else{if(!(pt<V&&0>i(bt,k)))break t;R[G]=bt,R[pt]=k,G=pt}}}return L}function i(R,L){var k=R.sortIndex-L.sortIndex;return k!==0?k:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,g=!1,v=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(R){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else{if(!(L.startTime<=R))break;n(c),L.sortIndex=L.expirationTime,t(u,L)}L=r(c)}}function T(R){if(x=!1,w(R),!v)if(r(u)!==null)v=!0,H(M);else{var L=r(c);L!==null&&W(T,L.startTime-R)}}function M(R,L){v=!1,x&&(x=!1,b(B),B=-1),g=!0;var k=m;try{for(w(L),f=r(u);f!==null&&(!(f.expirationTime>L)||R&&!J());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var V=G(f.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(u)&&n(u),w(L)}else n(u);f=r(u)}if(f!==null)var ot=!0;else{var st=r(c);st!==null&&W(T,st.startTime-L),ot=!1}return ot}finally{f=null,m=k,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,C=!1,I=null,B=-1,F=5,Y=-1;function J(){return!(e.unstable_now()-Y<F)}function U(){if(I!==null){var R=e.unstable_now();Y=R;var L=!0;try{L=I(!0,R)}finally{L?N():(C=!1,I=null)}}else C=!1}if(typeof S=="function")N=function(){S(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=U,N=function(){z.postMessage(null)}}else N=function(){A(U,0)};function H(R){I=R,C||(C=!0,N())}function W(R,L){B=A(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,H(M))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var k=m;m=L;try{return R()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var k=m;m=R;try{return L()}finally{m=k}},e.unstable_scheduleCallback=function(R,L,k){var G=e.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?G+k:G,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return R={id:d++,callback:L,priorityLevel:R,startTime:k,expirationTime:V=k+V,sortIndex:-1},k>G?(R.sortIndex=k,t(c,R),r(u)===null&&R===r(c)&&(x?(b(B),B=-1):x=!0,W(T,k-G))):(R.sortIndex=V,t(u,R),v||g||(v=!0,H(M))),R},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(R){var L=m;return function(){var k=m;m=L;try{return R.apply(this,arguments)}finally{m=k}}}}(aA)),aA)),Sv}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function LU(){return oA||(oA=1,sA=function(e){var t={},r=cr,n=BU(),i=Object.assign;function s(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),T=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:typeof(l=T&&l[T]||l["@@iterator"])=="function"?l:null}function N(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case v:var h=l.render;return(l=l.displayName)||(l=(l=h.displayName||h.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case b:return(h=l.displayName||null)!==null?h:N(l.type)||"Memo";case S:h=l._payload,l=l._init;try{return N(l(h))}catch{}}return null}function C(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=h.render).displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function I(l){var h=l,p=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do 4098&(h=l).flags&&(p=h.return),l=h.return;while(l)}return h.tag===3?p:null}function B(l){if(I(l)!==l)throw Error(s(188))}function F(l){var h=l.alternate;if(!h){if((h=I(l))===null)throw Error(s(188));return h!==l?null:l}for(var p=l,y=h;;){var _=p.return;if(_===null)break;var E=_.alternate;if(E===null){if((y=_.return)!==null){p=y;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===p)return B(_),l;if(E===y)return B(_),h;E=E.sibling}throw Error(s(188))}if(p.return!==y.return)p=_,y=E;else{for(var P=!1,O=_.child;O;){if(O===p){P=!0,p=_,y=E;break}if(O===y){P=!0,y=_,p=E;break}O=O.sibling}if(!P){for(O=E.child;O;){if(O===p){P=!0,p=E,y=_;break}if(O===y){P=!0,y=E,p=_;break}O=O.sibling}if(!P)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?l:h}function Y(l){return(l=F(l))!==null?J(l):null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=J(l);if(h!==null)return h;l=l.sibling}return null}function U(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var h=U(l);if(h!==null)return h}l=l.sibling}return null}var D,z=Array.isArray,H=e.getPublicInstance,W=e.getRootHostContext,R=e.getChildHostContext,L=e.prepareForCommit,k=e.resetAfterCommit,G=e.createInstance,V=e.appendInitialChild,ot=e.finalizeInitialChildren,st=e.prepareUpdate,yt=e.shouldSetTextContent,pt=e.createTextInstance,bt=e.scheduleTimeout,Ft=e.cancelTimeout,Rt=e.noTimeout,Et=e.isPrimaryRenderer,gt=e.supportsMutation,St=e.supportsPersistence,Tt=e.supportsHydration,rr=e.getInstanceFromNode,Ae=e.preparePortalMount,pr=e.getCurrentEventPriority,bn=e.detachDeletedInstance,Sr=e.supportsMicrotasks,$p=e.scheduleMicrotask,ts=e.supportsTestSelectors,zp=e.findFiberRoot,C_=e.getBoundingRect,cM=e.getTextContent,Ol=e.isHiddenSubtree,dM=e.matchAccessibilityRole,fM=e.setFocusIfFocusable,pM=e.setupIntersectionObserver,mM=e.appendChild,gM=e.appendChildToContainer,yM=e.commitTextUpdate,vM=e.commitMount,_M=e.commitUpdate,xM=e.insertBefore,wM=e.insertInContainerBefore,bM=e.removeChild,SM=e.removeChildFromContainer,P_=e.resetTextContent,AM=e.hideInstance,EM=e.hideTextInstance,TM=e.unhideInstance,CM=e.unhideTextInstance,PM=e.clearContainer,IM=e.cloneInstance,I_=e.createContainerChildSet,R_=e.appendChildToContainerChildSet,RM=e.finalizeContainerChildren,Gp=e.replaceContainerChildren,M_=e.cloneHiddenInstance,k_=e.cloneHiddenTextInstance,MM=e.canHydrateInstance,kM=e.canHydrateTextInstance,NM=e.canHydrateSuspenseInstance,N_=e.isSuspenseInstancePending,jp=e.isSuspenseInstanceFallback,FM=e.getSuspenseInstanceFallbackErrorDetails,BM=e.registerSuspenseInstanceRetry,Gh=e.getNextHydratableSibling,LM=e.getFirstHydratableChild,OM=e.getFirstHydratableChildWithinContainer,DM=e.getFirstHydratableChildWithinSuspenseInstance,UM=e.hydrateInstance,$M=e.hydrateTextInstance,zM=e.hydrateSuspenseInstance,GM=e.getNextHydratableInstanceAfterSuspenseInstance,jM=e.commitHydratedContainer,HM=e.commitHydratedSuspenseInstance,WM=e.clearSuspenseBoundary,VM=e.clearSuspenseBoundaryFromContainer,XM=e.shouldDeleteUnhydratedTailInstances,YM=e.didNotMatchHydratedContainerTextInstance,qM=e.didNotMatchHydratedTextInstance;function Dl(l){if(D===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);D=h&&h[1]||""}return`
`+D+l}var Hp=!1;function Wp(l,h){if(!l||Hp)return"";Hp=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(q){var y=q}Reflect.construct(l,[],h)}else{try{h.call()}catch(q){y=q}l.call(h.prototype)}else{try{throw Error()}catch(q){y=q}l()}}catch(q){if(q&&y&&typeof q.stack=="string"){for(var _=q.stack.split(`
`),E=y.stack.split(`
`),P=_.length-1,O=E.length-1;1<=P&&0<=O&&_[P]!==E[O];)O--;for(;1<=P&&0<=O;P--,O--)if(_[P]!==E[O]){if(P!==1||O!==1)do if(P--,0>--O||_[P]!==E[O]){var j=`
`+_[P].replace(" at new "," at ");return l.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",l.displayName)),j}while(1<=P&&0<=O);break}}}finally{Hp=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Dl(l):""}var QM=Object.prototype.hasOwnProperty,Vp=[],qo=-1;function es(l){return{current:l}}function se(l){0>qo||(l.current=Vp[qo],Vp[qo]=null,qo--)}function Zt(l,h){qo++,Vp[qo]=l.current,l.current=h}var rs={},nr=es(rs),Ar=es(!1),qs=rs;function Qo(l,h){var p=l.type.contextTypes;if(!p)return rs;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var _,E={};for(_ in p)E[_]=h[_];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=E),E}function Lr(l){return(l=l.childContextTypes)!=null}function Xp(){se(Ar),se(nr)}function F_(l,h,p){if(nr.current!==rs)throw Error(s(168));Zt(nr,h),Zt(Ar,p)}function B_(l,h,p){var y=l.stateNode;if(h=h.childContextTypes,typeof y.getChildContext!="function")return p;for(var _ in y=y.getChildContext())if(!(_ in h))throw Error(s(108,C(l)||"Unknown",_));return i({},p,y)}function jh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||rs,qs=nr.current,Zt(nr,l),Zt(Ar,Ar.current),!0}function L_(l,h,p){var y=l.stateNode;if(!y)throw Error(s(169));p?(l=B_(l,h,qs),y.__reactInternalMemoizedMergedChildContext=l,se(Ar),se(nr),Zt(nr,l)):se(Ar),Zt(Ar,p)}var Sn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(KM(l)/ZM|0)|0},KM=Math.log,ZM=Math.LN2,Yp=64,qp=4194304;function Ul(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Hh(l,h){var p=l.pendingLanes;if(p===0)return 0;var y=0,_=l.suspendedLanes,E=l.pingedLanes,P=268435455&p;if(P!==0){var O=P&~_;O!==0?y=Ul(O):(E&=P)!==0&&(y=Ul(E))}else(P=p&~_)!==0?y=Ul(P):E!==0&&(y=Ul(E));if(y===0)return 0;if(h!==0&&h!==y&&!(h&_)&&((_=y&-y)>=(E=h&-h)||_===16&&4194240&E))return h;if(4&y&&(y|=16&p),(h=l.entangledLanes)!==0)for(l=l.entanglements,h&=y;0<h;)_=1<<(p=31-Sn(h)),y|=l[p],h&=~_;return y}function JM(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;default:return-1}}function Qp(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function O_(){var l=Yp;return!(4194240&(Yp<<=1))&&(Yp=64),l}function Kp(l){for(var h=[],p=0;31>p;p++)h.push(l);return h}function $l(l,h,p){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[h=31-Sn(h)]=p}function Zp(l,h){var p=l.entangledLanes|=h;for(l=l.entanglements;p;){var y=31-Sn(p),_=1<<y;_&h|l[y]&h&&(l[y]|=h),p&=~_}}var Ut=0;function D_(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var Jp=n.unstable_scheduleCallback,U_=n.unstable_cancelCallback,tk=n.unstable_shouldYield,ek=n.unstable_requestPaint,Le=n.unstable_now,tm=n.unstable_ImmediatePriority,rk=n.unstable_UserBlockingPriority,$_=n.unstable_NormalPriority,nk=n.unstable_IdlePriority,Wh=null,Xn=null,An=typeof Object.is=="function"?Object.is:function(l,h){return l===h&&(l!==0||1/l==1/h)||l!=l&&h!=h},Ei=null,Vh=!1,em=!1;function z_(l){Ei===null?Ei=[l]:Ei.push(l)}function Yn(){if(!em&&Ei!==null){em=!0;var l=0,h=Ut;try{var p=Ei;for(Ut=1;l<p.length;l++){var y=p[l];do y=y(!0);while(y!==null)}Ei=null,Vh=!1}catch(_){throw Ei!==null&&(Ei=Ei.slice(l+1)),Jp(tm,Yn),_}finally{Ut=h,em=!1}}return null}var Ko=[],Zo=0,Xh=null,Yh=0,Zr=[],Jr=0,Qs=null,qn=1,Ti="";function Ks(l,h){Ko[Zo++]=Yh,Ko[Zo++]=Xh,Xh=l,Yh=h}function G_(l,h,p){Zr[Jr++]=qn,Zr[Jr++]=Ti,Zr[Jr++]=Qs,Qs=l;var y=qn;l=Ti;var _=32-Sn(y)-1;y&=~(1<<_),p+=1;var E=32-Sn(h)+_;if(30<E){var P=_-_%5;E=(y&(1<<P)-1).toString(32),y>>=P,_-=P,qn=1<<32-Sn(h)+_|p<<_|y,Ti=E+l}else qn=1<<E|p<<_|y,Ti=l}function rm(l){l.return!==null&&(Ks(l,1),G_(l,1,0))}function nm(l){for(;l===Xh;)Xh=Ko[--Zo],Ko[Zo]=null,Yh=Ko[--Zo],Ko[Zo]=null;for(;l===Qs;)Qs=Zr[--Jr],Zr[Jr]=null,Ti=Zr[--Jr],Zr[Jr]=null,qn=Zr[--Jr],Zr[Jr]=null}var Or=null,tn=null,oe=!1,zl=!1,En=null;function j_(l,h){var p=on(5,null,null,0);p.elementType="DELETED",p.stateNode=h,p.return=l,(h=l.deletions)===null?(l.deletions=[p],l.flags|=16):h.push(p)}function H_(l,h){switch(l.tag){case 5:return(h=MM(h,l.type,l.pendingProps))!==null&&(l.stateNode=h,Or=l,tn=LM(h),!0);case 6:return(h=kM(h,l.pendingProps))!==null&&(l.stateNode=h,Or=l,tn=null,!0);case 13:if((h=NM(h))!==null){var p=Qs!==null?{id:qn,overflow:Ti}:null;return l.memoizedState={dehydrated:h,treeContext:p,retryLane:1073741824},(p=on(18,null,null,0)).stateNode=h,p.return=l,l.child=p,Or=l,tn=null,!0}return!1;default:return!1}}function im(l){return(1&l.mode)!=0&&(128&l.flags)==0}function sm(l){if(oe){var h=tn;if(h){var p=h;if(!H_(l,h)){if(im(l))throw Error(s(418));h=Gh(p);var y=Or;h&&H_(l,h)?j_(y,p):(l.flags=-4097&l.flags|2,oe=!1,Or=l)}}else{if(im(l))throw Error(s(418));l.flags=-4097&l.flags|2,oe=!1,Or=l}}}function W_(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Or=l}function qh(l){if(!Tt||l!==Or)return!1;if(!oe)return W_(l),oe=!0,!1;if(l.tag!==3&&(l.tag!==5||XM(l.type)&&!yt(l.type,l.memoizedProps))){var h=tn;if(h){if(im(l))throw V_(),Error(s(418));for(;h;)j_(l,h),h=Gh(h)}}if(W_(l),l.tag===13){if(!Tt)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));tn=GM(l)}else tn=Or?Gh(l.stateNode):null;return!0}function V_(){for(var l=tn;l;)l=Gh(l)}function Jo(){Tt&&(tn=Or=null,zl=oe=!1)}function om(l){En===null?En=[l]:En.push(l)}var ik=o.ReactCurrentBatchConfig;function Qh(l,h){if(An(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var p=Object.keys(l),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!QM.call(h,_)||!An(l[_],h[_]))return!1}return!0}function sk(l){switch(l.tag){case 5:return Dl(l.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return l=Wp(l.type,!1);case 11:return l=Wp(l.type.render,!1);case 1:return l=Wp(l.type,!0);default:return""}}function Tn(l,h){if(l&&l.defaultProps){for(var p in h=i({},h),l=l.defaultProps)h[p]===void 0&&(h[p]=l[p]);return h}return h}var Kh=es(null),Zh=null,ta=null,am=null;function lm(){am=ta=Zh=null}function X_(l,h,p){Et?(Zt(Kh,h._currentValue),h._currentValue=p):(Zt(Kh,h._currentValue2),h._currentValue2=p)}function um(l){var h=Kh.current;se(Kh),Et?l._currentValue=h:l._currentValue2=h}function hm(l,h,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),l===p)break;l=l.return}}function ea(l,h){Zh=l,am=ta=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&h&&(Er=!0),l.firstContext=null)}function en(l){var h=Et?l._currentValue:l._currentValue2;if(am!==l)if(l={context:l,memoizedValue:h,next:null},ta===null){if(Zh===null)throw Error(s(308));ta=l,Zh.dependencies={lanes:0,firstContext:l}}else ta=ta.next=l;return h}var Zs=null;function cm(l){Zs===null?Zs=[l]:Zs.push(l)}function Y_(l,h,p,y){var _=h.interleaved;return _===null?(p.next=p,cm(h)):(p.next=_.next,_.next=p),h.interleaved=p,Qn(l,y)}function Qn(l,h){l.lanes|=h;var p=l.alternate;for(p!==null&&(p.lanes|=h),p=l,l=l.return;l!==null;)l.childLanes|=h,(p=l.alternate)!==null&&(p.childLanes|=h),p=l,l=l.return;return p.tag===3?p.stateNode:null}var ns=!1;function dm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q_(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ci(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function is(l,h,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(2&Bt)!=0){var _=y.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),y.pending=h,Qn(l,p)}return(_=y.interleaved)===null?(h.next=h,cm(y)):(h.next=_.next,_.next=h),y.interleaved=h,Qn(l,p)}function Jh(l,h,p){if((h=h.updateQueue)!==null&&(h=h.shared,(4194240&p)!=0)){var y=h.lanes;p|=y&=l.pendingLanes,h.lanes=p,Zp(l,p)}}function Q_(l,h){var p=l.updateQueue,y=l.alternate;if(y!==null&&p===(y=y.updateQueue)){var _=null,E=null;if((p=p.firstBaseUpdate)!==null){do{var P={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?_=E=P:E=E.next=P,p=p.next}while(p!==null);E===null?_=E=h:E=E.next=h}else _=E=h;return p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:y.shared,effects:y.effects},void(l.updateQueue=p)}(l=p.lastBaseUpdate)===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=h}function tc(l,h,p,y){var _=l.updateQueue;ns=!1;var E=_.firstBaseUpdate,P=_.lastBaseUpdate,O=_.shared.pending;if(O!==null){_.shared.pending=null;var j=O,q=j.next;j.next=null,P===null?E=q:P.next=q,P=j;var K=l.alternate;K!==null&&(O=(K=K.updateQueue).lastBaseUpdate)!==P&&(O===null?K.firstBaseUpdate=q:O.next=q,K.lastBaseUpdate=j)}if(E!==null){var nt=_.baseState;for(P=0,K=q=j=null,O=E;;){var Q=O.lane,rt=O.eventTime;if((y&Q)===Q){K!==null&&(K=K.next={eventTime:rt,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});t:{var ct=l,Pt=O;switch(Q=h,rt=p,Pt.tag){case 1:if(typeof(ct=Pt.payload)=="function"){nt=ct.call(rt,nt,Q);break t}nt=ct;break t;case 3:ct.flags=-65537&ct.flags|128;case 0:if((Q=typeof(ct=Pt.payload)=="function"?ct.call(rt,nt,Q):ct)==null)break t;nt=i({},nt,Q);break t;case 2:ns=!0}}O.callback!==null&&O.lane!==0&&(l.flags|=64,(Q=_.effects)===null?_.effects=[O]:Q.push(O))}else rt={eventTime:rt,lane:Q,tag:O.tag,payload:O.payload,callback:O.callback,next:null},K===null?(q=K=rt,j=nt):K=K.next=rt,P|=Q;if((O=O.next)===null){if((O=_.shared.pending)===null)break;O=(Q=O).next,Q.next=null,_.lastBaseUpdate=Q,_.shared.pending=null}}if(K===null&&(j=nt),_.baseState=j,_.firstBaseUpdate=q,_.lastBaseUpdate=K,(h=_.shared.interleaved)!==null){_=h;do P|=_.lane,_=_.next;while(_!==h)}else E===null&&(_.shared.lanes=0);to|=P,l.lanes=P,l.memoizedState=nt}}function K_(l,h,p){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var y=l[h],_=y.callback;if(_!==null){if(y.callback=null,y=p,typeof _!="function")throw Error(s(191,_));_.call(y)}}}var Z_=new r.Component().refs;function fm(l,h,p,y){p=(p=p(y,h=l.memoizedState))==null?h:i({},h,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var ec={isMounted:function(l){return!!(l=l._reactInternals)&&I(l)===l},enqueueSetState:function(l,h,p){l=l._reactInternals;var y=or(),_=ls(l),E=Ci(y,_);E.payload=h,p!=null&&(E.callback=p),(h=is(l,E,_))!==null&&(sn(h,l,_,y),Jh(h,l,_))},enqueueReplaceState:function(l,h,p){l=l._reactInternals;var y=or(),_=ls(l),E=Ci(y,_);E.tag=1,E.payload=h,p!=null&&(E.callback=p),(h=is(l,E,_))!==null&&(sn(h,l,_,y),Jh(h,l,_))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var p=or(),y=ls(l),_=Ci(p,y);_.tag=2,h!=null&&(_.callback=h),(h=is(l,_,y))!==null&&(sn(h,l,y,p),Jh(h,l,y))}};function J_(l,h,p,y,_,E,P){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,E,P):!h.prototype||!h.prototype.isPureReactComponent||!Qh(p,y)||!Qh(_,E)}function tx(l,h,p){var y=!1,_=rs,E=h.contextType;return typeof E=="object"&&E!==null?E=en(E):(_=Lr(h)?qs:nr.current,E=(y=(y=h.contextTypes)!=null)?Qo(l,_):rs),h=new h(p,E),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ec,l.stateNode=h,h._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=E),h}function ex(l,h,p,y){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==l&&ec.enqueueReplaceState(h,h.state,null)}function pm(l,h,p,y){var _=l.stateNode;_.props=p,_.state=l.memoizedState,_.refs=Z_,dm(l);var E=h.contextType;typeof E=="object"&&E!==null?_.context=en(E):(E=Lr(h)?qs:nr.current,_.context=Qo(l,E)),_.state=l.memoizedState,typeof(E=h.getDerivedStateFromProps)=="function"&&(fm(l,h,E,p),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(h=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),h!==_.state&&ec.enqueueReplaceState(_,_.state,null),tc(l,p,_,y),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function Gl(l,h,p){if((l=p.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var y=p.stateNode}if(!y)throw Error(s(147,l));var _=y,E=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===E?h.ref:(h=function(P){var O=_.refs;O===Z_&&(O=_.refs={}),P===null?delete O[E]:O[E]=P},h._stringRef=E,h)}if(typeof l!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,l))}return l}function rc(l,h){throw l=Object.prototype.toString.call(h),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function rx(l){return(0,l._init)(l._payload)}function nx(l){function h(Z,$){if(l){var X=Z.deletions;X===null?(Z.deletions=[$],Z.flags|=16):X.push($)}}function p(Z,$){if(!l)return null;for(;$!==null;)h(Z,$),$=$.sibling;return null}function y(Z,$){for(Z=new Map;$!==null;)$.key!==null?Z.set($.key,$):Z.set($.index,$),$=$.sibling;return Z}function _(Z,$){return(Z=hs(Z,$)).index=0,Z.sibling=null,Z}function E(Z,$,X){return Z.index=X,l?(X=Z.alternate)!==null?(X=X.index)<$?(Z.flags|=2,$):X:(Z.flags|=2,$):(Z.flags|=1048576,$)}function P(Z){return l&&Z.alternate===null&&(Z.flags|=2),Z}function O(Z,$,X,tt){return $===null||$.tag!==6?(($=tg(X,Z.mode,tt)).return=Z,$):(($=_($,X)).return=Z,$)}function j(Z,$,X,tt){var vt=X.type;return vt===c?K(Z,$,X.props.children,tt,X.key):$!==null&&($.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===S&&rx(vt)===$.type)?((tt=_($,X.props)).ref=Gl(Z,$,X),tt.return=Z,tt):((tt=Pc(X.type,X.key,X.props,null,Z.mode,tt)).ref=Gl(Z,$,X),tt.return=Z,tt)}function q(Z,$,X,tt){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?(($=eg(X,Z.mode,tt)).return=Z,$):(($=_($,X.children||[])).return=Z,$)}function K(Z,$,X,tt,vt){return $===null||$.tag!==7?(($=no(X,Z.mode,tt,vt)).return=Z,$):(($=_($,X)).return=Z,$)}function nt(Z,$,X){if(typeof $=="string"&&$!==""||typeof $=="number")return($=tg(""+$,Z.mode,X)).return=Z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case a:return(X=Pc($.type,$.key,$.props,null,Z.mode,X)).ref=Gl(Z,null,$),X.return=Z,X;case u:return($=eg($,Z.mode,X)).return=Z,$;case S:return nt(Z,(0,$._init)($._payload),X)}if(z($)||M($))return($=no($,Z.mode,X,null)).return=Z,$;rc(Z,$)}return null}function Q(Z,$,X,tt){var vt=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return vt!==null?null:O(Z,$,""+X,tt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case a:return X.key===vt?j(Z,$,X,tt):null;case u:return X.key===vt?q(Z,$,X,tt):null;case S:return Q(Z,$,(vt=X._init)(X._payload),tt)}if(z(X)||M(X))return vt!==null?null:K(Z,$,X,tt,null);rc(Z,X)}return null}function rt(Z,$,X,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return O($,Z=Z.get(X)||null,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case a:return j($,Z=Z.get(tt.key===null?X:tt.key)||null,tt,vt);case u:return q($,Z=Z.get(tt.key===null?X:tt.key)||null,tt,vt);case S:return rt(Z,$,X,(0,tt._init)(tt._payload),vt)}if(z(tt)||M(tt))return K($,Z=Z.get(X)||null,tt,vt,null);rc($,tt)}return null}function ct(Z,$,X,tt){for(var vt=null,Vt=null,dt=$,$t=$=0,Xe=null;dt!==null&&$t<X.length;$t++){dt.index>$t?(Xe=dt,dt=null):Xe=dt.sibling;var Xt=Q(Z,dt,X[$t],tt);if(Xt===null){dt===null&&(dt=Xe);break}l&&dt&&Xt.alternate===null&&h(Z,dt),$=E(Xt,$,$t),Vt===null?vt=Xt:Vt.sibling=Xt,Vt=Xt,dt=Xe}if($t===X.length)return p(Z,dt),oe&&Ks(Z,$t),vt;if(dt===null){for(;$t<X.length;$t++)(dt=nt(Z,X[$t],tt))!==null&&($=E(dt,$,$t),Vt===null?vt=dt:Vt.sibling=dt,Vt=dt);return oe&&Ks(Z,$t),vt}for(dt=y(Z,dt);$t<X.length;$t++)(Xe=rt(dt,Z,$t,X[$t],tt))!==null&&(l&&Xe.alternate!==null&&dt.delete(Xe.key===null?$t:Xe.key),$=E(Xe,$,$t),Vt===null?vt=Xe:Vt.sibling=Xe,Vt=Xe);return l&&dt.forEach(function(cs){return h(Z,cs)}),oe&&Ks(Z,$t),vt}function Pt(Z,$,X,tt){var vt=M(X);if(typeof vt!="function")throw Error(s(150));if((X=vt.call(X))==null)throw Error(s(151));for(var Vt=vt=null,dt=$,$t=$=0,Xe=null,Xt=X.next();dt!==null&&!Xt.done;$t++,Xt=X.next()){dt.index>$t?(Xe=dt,dt=null):Xe=dt.sibling;var cs=Q(Z,dt,Xt.value,tt);if(cs===null){dt===null&&(dt=Xe);break}l&&dt&&cs.alternate===null&&h(Z,dt),$=E(cs,$,$t),Vt===null?vt=cs:Vt.sibling=cs,Vt=cs,dt=Xe}if(Xt.done)return p(Z,dt),oe&&Ks(Z,$t),vt;if(dt===null){for(;!Xt.done;$t++,Xt=X.next())(Xt=nt(Z,Xt.value,tt))!==null&&($=E(Xt,$,$t),Vt===null?vt=Xt:Vt.sibling=Xt,Vt=Xt);return oe&&Ks(Z,$t),vt}for(dt=y(Z,dt);!Xt.done;$t++,Xt=X.next())(Xt=rt(dt,Z,$t,Xt.value,tt))!==null&&(l&&Xt.alternate!==null&&dt.delete(Xt.key===null?$t:Xt.key),$=E(Xt,$,$t),Vt===null?vt=Xt:Vt.sibling=Xt,Vt=Xt);return l&&dt.forEach(function(Ik){return h(Z,Ik)}),oe&&Ks(Z,$t),vt}return function Z($,X,tt,vt){if(typeof tt=="object"&&tt!==null&&tt.type===c&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case a:t:{for(var Vt=tt.key,dt=X;dt!==null;){if(dt.key===Vt){if((Vt=tt.type)===c){if(dt.tag===7){p($,dt.sibling),(X=_(dt,tt.props.children)).return=$,$=X;break t}}else if(dt.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&rx(Vt)===dt.type){p($,dt.sibling),(X=_(dt,tt.props)).ref=Gl($,dt,tt),X.return=$,$=X;break t}p($,dt);break}h($,dt),dt=dt.sibling}tt.type===c?((X=no(tt.props.children,$.mode,vt,tt.key)).return=$,$=X):((vt=Pc(tt.type,tt.key,tt.props,null,$.mode,vt)).ref=Gl($,X,tt),vt.return=$,$=vt)}return P($);case u:t:{for(dt=tt.key;X!==null;){if(X.key===dt){if(X.tag===4&&X.stateNode.containerInfo===tt.containerInfo&&X.stateNode.implementation===tt.implementation){p($,X.sibling),(X=_(X,tt.children||[])).return=$,$=X;break t}p($,X);break}h($,X),X=X.sibling}(X=eg(tt,$.mode,vt)).return=$,$=X}return P($);case S:return Z($,X,(dt=tt._init)(tt._payload),vt)}if(z(tt))return ct($,X,tt,vt);if(M(tt))return Pt($,X,tt,vt);rc($,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,X!==null&&X.tag===6?(p($,X.sibling),(X=_(X,tt)).return=$,$=X):(p($,X),(X=tg(tt,$.mode,vt)).return=$,$=X),P($)):p($,X)}}var ra=nx(!0),ix=nx(!1),jl={},rn=es(jl),Hl=es(jl),na=es(jl);function Kn(l){if(l===jl)throw Error(s(174));return l}function mm(l,h){Zt(na,h),Zt(Hl,l),Zt(rn,jl),l=W(h),se(rn),Zt(rn,l)}function ia(){se(rn),se(Hl),se(na)}function sx(l){var h=Kn(na.current),p=Kn(rn.current);p!==(h=R(p,l.type,h))&&(Zt(Hl,l),Zt(rn,h))}function gm(l){Hl.current===l&&(se(rn),se(Hl))}var ge=es(0);function nc(l){for(var h=l;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&((p=p.dehydrated)===null||N_(p)||jp(p)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(128&h.flags)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ym=[];function vm(){for(var l=0;l<ym.length;l++){var h=ym[l];Et?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}ym.length=0}var ic=o.ReactCurrentDispatcher,_m=o.ReactCurrentBatchConfig,Js=0,ue=null,Oe=null,De=null,sc=!1,Wl=!1,Vl=0,ok=0;function ir(){throw Error(s(321))}function xm(l,h){if(h===null)return!1;for(var p=0;p<h.length&&p<l.length;p++)if(!An(l[p],h[p]))return!1;return!0}function wm(l,h,p,y,_,E){if(Js=E,ue=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ic.current=l===null||l.memoizedState===null?hk:ck,l=p(y,_),Wl){E=0;do{if(Wl=!1,Vl=0,25<=E)throw Error(s(301));E+=1,De=Oe=null,h.updateQueue=null,ic.current=dk,l=p(y,_)}while(Wl)}if(ic.current=lc,h=Oe!==null&&Oe.next!==null,Js=0,De=Oe=ue=null,sc=!1,h)throw Error(s(300));return l}function bm(){var l=Vl!==0;return Vl=0,l}function Zn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ue.memoizedState=De=l:De=De.next=l,De}function nn(){if(Oe===null){var l=ue.alternate;l=l!==null?l.memoizedState:null}else l=Oe.next;var h=De===null?ue.memoizedState:De.next;if(h!==null)De=h,Oe=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Oe=l).memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?ue.memoizedState=De=l:De=De.next=l}return De}function Xl(l,h){return typeof h=="function"?h(l):h}function Sm(l){var h=nn(),p=h.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=l;var y=Oe,_=y.baseQueue,E=p.pending;if(E!==null){if(_!==null){var P=_.next;_.next=E.next,E.next=P}y.baseQueue=_=E,p.pending=null}if(_!==null){E=_.next,y=y.baseState;var O=P=null,j=null,q=E;do{var K=q.lane;if((Js&K)===K)j!==null&&(j=j.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),y=q.hasEagerState?q.eagerState:l(y,q.action);else{var nt={lane:K,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};j===null?(O=j=nt,P=y):j=j.next=nt,ue.lanes|=K,to|=K}q=q.next}while(q!==null&&q!==E);j===null?P=y:j.next=O,An(y,h.memoizedState)||(Er=!0),h.memoizedState=y,h.baseState=P,h.baseQueue=j,p.lastRenderedState=y}if((l=p.interleaved)!==null){_=l;do E=_.lane,ue.lanes|=E,to|=E,_=_.next;while(_!==l)}else _===null&&(p.lanes=0);return[h.memoizedState,p.dispatch]}function Am(l){var h=nn(),p=h.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=l;var y=p.dispatch,_=p.pending,E=h.memoizedState;if(_!==null){p.pending=null;var P=_=_.next;do E=l(E,P.action),P=P.next;while(P!==_);An(E,h.memoizedState)||(Er=!0),h.memoizedState=E,h.baseQueue===null&&(h.baseState=E),p.lastRenderedState=E}return[E,y]}function ox(){}function ax(l,h){var p=ue,y=nn(),_=h(),E=!An(y.memoizedState,_);if(E&&(y.memoizedState=_,Er=!0),y=y.queue,Em(hx.bind(null,p,y,l),[l]),y.getSnapshot!==h||E||De!==null&&1&De.memoizedState.tag){if(p.flags|=2048,Yl(9,ux.bind(null,p,y,_,h),void 0,null),Ue===null)throw Error(s(349));30&Js||lx(p,h,_)}return _}function lx(l,h,p){l.flags|=16384,l={getSnapshot:h,value:p},(h=ue.updateQueue)===null?(h={lastEffect:null,stores:null},ue.updateQueue=h,h.stores=[l]):(p=h.stores)===null?h.stores=[l]:p.push(l)}function ux(l,h,p,y){h.value=p,h.getSnapshot=y,cx(h)&&dx(l)}function hx(l,h,p){return p(function(){cx(h)&&dx(l)})}function cx(l){var h=l.getSnapshot;l=l.value;try{var p=h();return!An(l,p)}catch{return!0}}function dx(l){var h=Qn(l,1);h!==null&&sn(h,l,1,-1)}function fx(l){var h=Zn();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:l},h.queue=l,l=l.dispatch=uk.bind(null,ue,l),[h.memoizedState,l]}function Yl(l,h,p,y){return l={tag:l,create:h,destroy:p,deps:y,next:null},(h=ue.updateQueue)===null?(h={lastEffect:null,stores:null},ue.updateQueue=h,h.lastEffect=l.next=l):(p=h.lastEffect)===null?h.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,h.lastEffect=l),l}function px(){return nn().memoizedState}function oc(l,h,p,y){var _=Zn();ue.flags|=l,_.memoizedState=Yl(1|h,p,void 0,y===void 0?null:y)}function ac(l,h,p,y){var _=nn();y=y===void 0?null:y;var E=void 0;if(Oe!==null){var P=Oe.memoizedState;if(E=P.destroy,y!==null&&xm(y,P.deps))return void(_.memoizedState=Yl(h,p,E,y))}ue.flags|=l,_.memoizedState=Yl(1|h,p,E,y)}function mx(l,h){return oc(8390656,8,l,h)}function Em(l,h){return ac(2048,8,l,h)}function gx(l,h){return ac(4,2,l,h)}function yx(l,h){return ac(4,4,l,h)}function vx(l,h){return typeof h=="function"?(l=l(),h(l),function(){h(null)}):h!=null?(l=l(),h.current=l,function(){h.current=null}):void 0}function _x(l,h,p){return p=p!=null?p.concat([l]):null,ac(4,4,vx.bind(null,h,l),p)}function Tm(){}function xx(l,h){var p=nn();h=h===void 0?null:h;var y=p.memoizedState;return y!==null&&h!==null&&xm(h,y[1])?y[0]:(p.memoizedState=[l,h],l)}function wx(l,h){var p=nn();h=h===void 0?null:h;var y=p.memoizedState;return y!==null&&h!==null&&xm(h,y[1])?y[0]:(l=l(),p.memoizedState=[l,h],l)}function bx(l,h,p){return 21&Js?(An(p,h)||(p=O_(),ue.lanes|=p,to|=p,l.baseState=!0),h):(l.baseState&&(l.baseState=!1,Er=!0),l.memoizedState=p)}function ak(l,h){var p=Ut;Ut=p!==0&&4>p?p:4,l(!0);var y=_m.transition;_m.transition={};try{l(!1),h()}finally{Ut=p,_m.transition=y}}function Sx(){return nn().memoizedState}function lk(l,h,p){var y=ls(l);p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},Ax(l)?Ex(h,p):(p=Y_(l,h,p,y))!==null&&(sn(p,l,y,or()),Tx(p,h,y))}function uk(l,h,p){var y=ls(l),_={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ax(l))Ex(h,_);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=h.lastRenderedReducer)!==null)try{var P=h.lastRenderedState,O=E(P,p);if(_.hasEagerState=!0,_.eagerState=O,An(O,P)){var j=h.interleaved;return j===null?(_.next=_,cm(h)):(_.next=j.next,j.next=_),void(h.interleaved=_)}}catch{}(p=Y_(l,h,_,y))!==null&&(sn(p,l,y,_=or()),Tx(p,h,y))}}function Ax(l){var h=l.alternate;return l===ue||h!==null&&h===ue}function Ex(l,h){Wl=sc=!0;var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}function Tx(l,h,p){if(4194240&p){var y=h.lanes;p|=y&=l.pendingLanes,h.lanes=p,Zp(l,p)}}var lc={readContext:en,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},hk={readContext:en,useCallback:function(l,h){return Zn().memoizedState=[l,h===void 0?null:h],l},useContext:en,useEffect:mx,useImperativeHandle:function(l,h,p){return p=p!=null?p.concat([l]):null,oc(4194308,4,vx.bind(null,h,l),p)},useLayoutEffect:function(l,h){return oc(4194308,4,l,h)},useInsertionEffect:function(l,h){return oc(4,2,l,h)},useMemo:function(l,h){var p=Zn();return h=h===void 0?null:h,l=l(),p.memoizedState=[l,h],l},useReducer:function(l,h,p){var y=Zn();return h=p!==void 0?p(h):h,y.memoizedState=y.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},y.queue=l,l=l.dispatch=lk.bind(null,ue,l),[y.memoizedState,l]},useRef:function(l){return l={current:l},Zn().memoizedState=l},useState:fx,useDebugValue:Tm,useDeferredValue:function(l){return Zn().memoizedState=l},useTransition:function(){var l=fx(!1),h=l[0];return l=ak.bind(null,l[1]),Zn().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,p){var y=ue,_=Zn();if(oe){if(p===void 0)throw Error(s(407));p=p()}else{if(p=h(),Ue===null)throw Error(s(349));30&Js||lx(y,h,p)}_.memoizedState=p;var E={value:p,getSnapshot:h};return _.queue=E,mx(hx.bind(null,y,E,l),[l]),y.flags|=2048,Yl(9,ux.bind(null,y,E,p,h),void 0,null),p},useId:function(){var l=Zn(),h=Ue.identifierPrefix;if(oe){var p=Ti;h=":"+h+"R"+(p=(qn&~(1<<32-Sn(qn)-1)).toString(32)+p),0<(p=Vl++)&&(h+="H"+p.toString(32)),h+=":"}else h=":"+h+"r"+(p=ok++).toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},ck={readContext:en,useCallback:xx,useContext:en,useEffect:Em,useImperativeHandle:_x,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:wx,useReducer:Sm,useRef:px,useState:function(){return Sm(Xl)},useDebugValue:Tm,useDeferredValue:function(l){return bx(nn(),Oe.memoizedState,l)},useTransition:function(){return[Sm(Xl)[0],nn().memoizedState]},useMutableSource:ox,useSyncExternalStore:ax,useId:Sx,unstable_isNewReconciler:!1},dk={readContext:en,useCallback:xx,useContext:en,useEffect:Em,useImperativeHandle:_x,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:wx,useReducer:Am,useRef:px,useState:function(){return Am(Xl)},useDebugValue:Tm,useDeferredValue:function(l){var h=nn();return Oe===null?h.memoizedState=l:bx(h,Oe.memoizedState,l)},useTransition:function(){return[Am(Xl)[0],nn().memoizedState]},useMutableSource:ox,useSyncExternalStore:ax,useId:Sx,unstable_isNewReconciler:!1};function sa(l,h){try{var p="",y=h;do p+=sk(y),y=y.return;while(y);var _=p}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:h,stack:_,digest:null}}function Cm(l,h,p){return{value:l,source:null,stack:p??null,digest:h??null}}function Pm(l,h){try{console.error(h.value)}catch(p){setTimeout(function(){throw p})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function Cx(l,h,p){(p=Ci(-1,p)).tag=3,p.payload={element:null};var y=h.value;return p.callback=function(){bc||(bc=!0,Xm=y),Pm(0,h)},p}function Px(l,h,p){(p=Ci(-1,p)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;p.payload=function(){return y(_)},p.callback=function(){Pm(0,h)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Pm(0,h),typeof y!="function"&&(os===null?os=new Set([this]):os.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})}),p}function Ix(l,h,p){var y=l.pingCache;if(y===null){y=l.pingCache=new fk;var _=new Set;y.set(h,_)}else(_=y.get(h))===void 0&&(_=new Set,y.set(h,_));_.has(p)||(_.add(p),l=bk.bind(null,l,h,p),h.then(l,l))}function Rx(l){do{var h;if((h=l.tag===13)&&(h=(h=l.memoizedState)===null||h.dehydrated!==null),h)return l;l=l.return}while(l!==null);return null}function Mx(l,h,p,y,_){return 1&l.mode?(l.flags|=65536,l.lanes=_,l):(l===h?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((h=Ci(-1,1)).tag=2,is(p,h,1))),p.lanes|=1),l)}var pk=o.ReactCurrentOwner,Er=!1;function Tr(l,h,p,y){h.child=l===null?ix(h,null,p,y):ra(h,l.child,p,y)}function kx(l,h,p,y,_){p=p.render;var E=h.ref;return ea(h,_),y=wm(l,h,p,y,E,_),p=bm(),l===null||Er?(oe&&p&&rm(h),h.flags|=1,Tr(l,h,y,_),h.child):(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~_,Pi(l,h,_))}function Nx(l,h,p,y,_){if(l===null){var E=p.type;return typeof E!="function"||Jm(E)||E.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((l=Pc(p.type,null,y,h,h.mode,_)).ref=h.ref,l.return=h,h.child=l):(h.tag=15,h.type=E,Fx(l,h,E,y,_))}if(E=l.child,(l.lanes&_)==0){var P=E.memoizedProps;if((p=(p=p.compare)!==null?p:Qh)(P,y)&&l.ref===h.ref)return Pi(l,h,_)}return h.flags|=1,(l=hs(E,y)).ref=h.ref,l.return=h,h.child=l}function Fx(l,h,p,y,_){if(l!==null){var E=l.memoizedProps;if(Qh(E,y)&&l.ref===h.ref){if(Er=!1,h.pendingProps=y=E,(l.lanes&_)==0)return h.lanes=l.lanes,Pi(l,h,_);131072&l.flags&&(Er=!0)}}return Im(l,h,p,y,_)}function Bx(l,h,p){var y=h.pendingProps,_=y.children,E=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(1&h.mode))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(aa,Dr),Dr|=p;else{if(!(1073741824&p))return l=E!==null?E.baseLanes|p:p,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,Zt(aa,Dr),Dr|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:p,Zt(aa,Dr),Dr|=y}else E!==null?(y=E.baseLanes|p,h.memoizedState=null):y=p,Zt(aa,Dr),Dr|=y;return Tr(l,h,_,p),h.child}function Lx(l,h){var p=h.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(h.flags|=512,h.flags|=2097152)}function Im(l,h,p,y,_){var E=Lr(p)?qs:nr.current;return E=Qo(h,E),ea(h,_),p=wm(l,h,p,y,E,_),y=bm(),l===null||Er?(oe&&y&&rm(h),h.flags|=1,Tr(l,h,p,_),h.child):(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~_,Pi(l,h,_))}function Ox(l,h,p,y,_){if(Lr(p)){var E=!0;jh(h)}else E=!1;if(ea(h,_),h.stateNode===null)dc(l,h),tx(h,p,y),pm(h,p,y,_),y=!0;else if(l===null){var P=h.stateNode,O=h.memoizedProps;P.props=O;var j=P.context,q=p.contextType;typeof q=="object"&&q!==null?q=en(q):q=Qo(h,q=Lr(p)?qs:nr.current);var K=p.getDerivedStateFromProps,nt=typeof K=="function"||typeof P.getSnapshotBeforeUpdate=="function";nt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(O!==y||j!==q)&&ex(h,P,y,q),ns=!1;var Q=h.memoizedState;P.state=Q,tc(h,y,P,_),j=h.memoizedState,O!==y||Q!==j||Ar.current||ns?(typeof K=="function"&&(fm(h,p,K,y),j=h.memoizedState),(O=ns||J_(h,p,O,y,Q,j,q))?(nt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(h.flags|=4194308)):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=j),P.props=y,P.state=j,P.context=q,y=O):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{P=h.stateNode,q_(l,h),O=h.memoizedProps,q=h.type===h.elementType?O:Tn(h.type,O),P.props=q,nt=h.pendingProps,Q=P.context,typeof(j=p.contextType)=="object"&&j!==null?j=en(j):j=Qo(h,j=Lr(p)?qs:nr.current);var rt=p.getDerivedStateFromProps;(K=typeof rt=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(O!==nt||Q!==j)&&ex(h,P,y,j),ns=!1,Q=h.memoizedState,P.state=Q,tc(h,y,P,_);var ct=h.memoizedState;O!==nt||Q!==ct||Ar.current||ns?(typeof rt=="function"&&(fm(h,p,rt,y),ct=h.memoizedState),(q=ns||J_(h,p,q,y,Q,ct,j)||!1)?(K||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,ct,j),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,ct,j)),typeof P.componentDidUpdate=="function"&&(h.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof P.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=ct),P.props=y,P.state=ct,P.context=j,y=q):(typeof P.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(h.flags|=1024),y=!1)}return Rm(l,h,p,y,E,_)}function Rm(l,h,p,y,_,E){Lx(l,h);var P=(128&h.flags)!=0;if(!y&&!P)return _&&L_(h,p,!1),Pi(l,h,E);y=h.stateNode,pk.current=h;var O=P&&typeof p.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,l!==null&&P?(h.child=ra(h,l.child,null,E),h.child=ra(h,null,O,E)):Tr(l,h,O,E),h.memoizedState=y.state,_&&L_(h,p,!0),h.child}function Dx(l){var h=l.stateNode;h.pendingContext?F_(0,h.pendingContext,h.pendingContext!==h.context):h.context&&F_(0,h.context,!1),mm(l,h.containerInfo)}function Ux(l,h,p,y,_){return Jo(),om(_),h.flags|=256,Tr(l,h,p,y),h.child}var ql,Ql,uc,hc,Mm={dehydrated:null,treeContext:null,retryLane:0};function km(l){return{baseLanes:l,cachePool:null,transitions:null}}function $x(l,h,p){var y,_=h.pendingProps,E=ge.current,P=!1,O=(128&h.flags)!=0;if((y=O)||(y=(l===null||l.memoizedState!==null)&&(2&E)!=0),y?(P=!0,h.flags&=-129):l!==null&&l.memoizedState===null||(E|=1),Zt(ge,1&E),l===null)return sm(h),(l=h.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&h.mode?jp(l)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(O=_.children,l=_.fallback,P?(_=h.mode,P=h.child,O={mode:"hidden",children:O},!(1&_)&&P!==null?(P.childLanes=0,P.pendingProps=O):P=Ic(O,_,0,null),l=no(l,_,p,null),P.return=h,l.return=h,P.sibling=l,h.child=P,h.child.memoizedState=km(p),h.memoizedState=Mm,l):Nm(h,O));if((E=l.memoizedState)!==null&&(y=E.dehydrated)!==null)return function(q,K,nt,Q,rt,ct,Pt){if(nt)return 256&K.flags?(K.flags&=-257,cc(q,K,Pt,Q=Cm(Error(s(422))))):K.memoizedState!==null?(K.child=q.child,K.flags|=128,null):(ct=Q.fallback,rt=K.mode,Q=Ic({mode:"visible",children:Q.children},rt,0,null),(ct=no(ct,rt,Pt,null)).flags|=2,Q.return=K,ct.return=K,Q.sibling=ct,K.child=Q,1&K.mode&&ra(K,q.child,null,Pt),K.child.memoizedState=km(Pt),K.memoizedState=Mm,ct);if(!(1&K.mode))return cc(q,K,Pt,null);if(jp(rt))return Q=FM(rt).digest,ct=Error(s(419)),Q=Cm(ct,Q,void 0),cc(q,K,Pt,Q);if(nt=(Pt&q.childLanes)!=0,Er||nt){if((Q=Ue)!==null){switch(Pt&-Pt){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}(rt=rt&(Q.suspendedLanes|Pt)?0:rt)!==0&&rt!==ct.retryLane&&(ct.retryLane=rt,Qn(q,rt),sn(Q,q,rt,-1))}return Zm(),cc(q,K,Pt,Q=Cm(Error(s(421))))}return N_(rt)?(K.flags|=128,K.child=q.child,K=Sk.bind(null,q),BM(rt,K),null):(q=ct.treeContext,Tt&&(tn=DM(rt),Or=K,oe=!0,En=null,zl=!1,q!==null&&(Zr[Jr++]=qn,Zr[Jr++]=Ti,Zr[Jr++]=Qs,qn=q.id,Ti=q.overflow,Qs=K)),K=Nm(K,Q.children),K.flags|=4096,K)}(l,h,O,_,y,E,p);if(P){P=_.fallback,O=h.mode,y=(E=l.child).sibling;var j={mode:"hidden",children:_.children};return!(1&O)&&h.child!==E?((_=h.child).childLanes=0,_.pendingProps=j,h.deletions=null):(_=hs(E,j)).subtreeFlags=14680064&E.subtreeFlags,y!==null?P=hs(y,P):(P=no(P,O,p,null)).flags|=2,P.return=h,_.return=h,_.sibling=P,h.child=_,_=P,P=h.child,O=(O=l.child.memoizedState)===null?km(p):{baseLanes:O.baseLanes|p,cachePool:null,transitions:O.transitions},P.memoizedState=O,P.childLanes=l.childLanes&~p,h.memoizedState=Mm,_}return l=(P=l.child).sibling,_=hs(P,{mode:"visible",children:_.children}),!(1&h.mode)&&(_.lanes=p),_.return=h,_.sibling=null,l!==null&&((p=h.deletions)===null?(h.deletions=[l],h.flags|=16):p.push(l)),h.child=_,h.memoizedState=null,_}function Nm(l,h){return(h=Ic({mode:"visible",children:h},l.mode,0,null)).return=l,l.child=h}function cc(l,h,p,y){return y!==null&&om(y),ra(h,l.child,null,p),(l=Nm(h,h.pendingProps.children)).flags|=2,h.memoizedState=null,l}function zx(l,h,p){l.lanes|=h;var y=l.alternate;y!==null&&(y.lanes|=h),hm(l.return,h,p)}function Fm(l,h,p,y,_){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_}:(E.isBackwards=h,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=p,E.tailMode=_)}function Gx(l,h,p){var y=h.pendingProps,_=y.revealOrder,E=y.tail;if(Tr(l,h,y.children,p),(2&(y=ge.current))!=0)y=1&y|2,h.flags|=128;else{if(l!==null&&128&l.flags)t:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&zx(l,p,h);else if(l.tag===19)zx(l,p,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break t;for(;l.sibling===null;){if(l.return===null||l.return===h)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(Zt(ge,y),(1&h.mode)==0)h.memoizedState=null;else switch(_){case"forwards":for(p=h.child,_=null;p!==null;)(l=p.alternate)!==null&&nc(l)===null&&(_=p),p=p.sibling;(p=_)===null?(_=h.child,h.child=null):(_=p.sibling,p.sibling=null),Fm(h,!1,_,p,E);break;case"backwards":for(p=null,_=h.child,h.child=null;_!==null;){if((l=_.alternate)!==null&&nc(l)===null){h.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}Fm(h,!0,p,null,E);break;case"together":Fm(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function dc(l,h){!(1&h.mode)&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function Pi(l,h,p){if(l!==null&&(h.dependencies=l.dependencies),to|=h.lanes,(p&h.childLanes)==0)return null;if(l!==null&&h.child!==l.child)throw Error(s(153));if(h.child!==null){for(p=hs(l=h.child,l.pendingProps),h.child=p,p.return=h;l.sibling!==null;)l=l.sibling,(p=p.sibling=hs(l,l.pendingProps)).return=h;p.sibling=null}return h.child}function Jn(l){l.flags|=4}function jx(l,h){if(l!==null&&l.child===h.child)return!0;if(16&h.flags)return!1;for(l=h.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(gt)ql=function(l,h){for(var p=h.child;p!==null;){if(p.tag===5||p.tag===6)V(l,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ql=function(){},uc=function(l,h,p,y,_){if((l=l.memoizedProps)!==y){var E=h.stateNode,P=Kn(rn.current);p=st(E,p,l,y,_,P),(h.updateQueue=p)&&Jn(h)}},hc=function(l,h,p,y){p!==y&&Jn(h)};else if(St){ql=function(l,h,p,y){for(var _=h.child;_!==null;){if(_.tag===5){var E=_.stateNode;p&&y&&(E=M_(E,_.type,_.memoizedProps,_)),V(l,E)}else if(_.tag===6)E=_.stateNode,p&&y&&(E=k_(E,_.memoizedProps,_)),V(l,E);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(E=_.child)!==null&&(E.return=_),ql(l,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var Hx=function(l,h,p,y){for(var _=h.child;_!==null;){if(_.tag===5){var E=_.stateNode;p&&y&&(E=M_(E,_.type,_.memoizedProps,_)),R_(l,E)}else if(_.tag===6)E=_.stateNode,p&&y&&(E=k_(E,_.memoizedProps,_)),R_(l,E);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(E=_.child)!==null&&(E.return=_),Hx(l,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Ql=function(l,h){var p=h.stateNode;if(!jx(l,h)){l=p.containerInfo;var y=I_(l);Hx(y,h,!1,!1),p.pendingChildren=y,Jn(h),RM(l,y)}},uc=function(l,h,p,y,_){var E=l.stateNode,P=l.memoizedProps;if((l=jx(l,h))&&P===y)h.stateNode=E;else{var O=h.stateNode,j=Kn(rn.current),q=null;P!==y&&(q=st(O,p,P,y,_,j)),l&&q===null?h.stateNode=E:(E=IM(E,q,p,P,y,h,l,O),ot(E,p,y,_,j)&&Jn(h),h.stateNode=E,l?Jn(h):ql(E,h,!1,!1))}},hc=function(l,h,p,y){p!==y?(l=Kn(na.current),p=Kn(rn.current),h.stateNode=pt(y,l,p,h),Jn(h)):h.stateNode=l.stateNode}}else Ql=function(){},uc=function(){},hc=function(){};function Kl(l,h){if(!oe)switch(l.tailMode){case"hidden":h=l.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function mr(l){var h=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(h)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=14680064&_.subtreeFlags,y|=14680064&_.flags,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=y,l.childLanes=p,h}function mk(l,h,p){var y=h.pendingProps;switch(nm(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(h),null;case 1:case 17:return Lr(h.type)&&Xp(),mr(h),null;case 3:return p=h.stateNode,ia(),se(Ar),se(nr),vm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),l!==null&&l.child!==null||(qh(h)?Jn(h):l===null||l.memoizedState.isDehydrated&&!(256&h.flags)||(h.flags|=1024,En!==null&&(Qm(En),En=null))),Ql(l,h),mr(h),null;case 5:gm(h),p=Kn(na.current);var _=h.type;if(l!==null&&h.stateNode!=null)uc(l,h,_,y,p),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!y){if(h.stateNode===null)throw Error(s(166));return mr(h),null}if(l=Kn(rn.current),qh(h)){if(!Tt)throw Error(s(175));l=UM(h.stateNode,h.type,h.memoizedProps,p,l,h,!zl),h.updateQueue=l,l!==null&&Jn(h)}else{var E=G(_,y,p,l,h);ql(E,h,!1,!1),h.stateNode=E,ot(E,_,y,p,l)&&Jn(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return mr(h),null;case 6:if(l&&h.stateNode!=null)hc(l,h,l.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(s(166));if(l=Kn(na.current),p=Kn(rn.current),qh(h)){if(!Tt)throw Error(s(176));if(l=h.stateNode,p=h.memoizedProps,(y=$M(l,p,h,!zl))&&(_=Or)!==null)switch(_.tag){case 3:YM(_.stateNode.containerInfo,l,p,(1&_.mode)!=0);break;case 5:qM(_.type,_.memoizedProps,_.stateNode,l,p,(1&_.mode)!=0)}y&&Jn(h)}else h.stateNode=pt(y,l,p,h)}return mr(h),null;case 13:if(se(ge),y=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(oe&&tn!==null&&1&h.mode&&!(128&h.flags))V_(),Jo(),h.flags|=98560,_=!1;else if(_=qh(h),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(s(318));if(!Tt)throw Error(s(344));if(!(_=(_=h.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));zM(_,h)}else Jo(),!(128&h.flags)&&(h.memoizedState=null),h.flags|=4;mr(h),_=!1}else En!==null&&(Qm(En),En=null),_=!0;if(!_)return 65536&h.flags?h:null}return 128&h.flags?(h.lanes=p,h):((p=y!==null)!=(l!==null&&l.memoizedState!==null)&&p&&(h.child.flags|=8192,1&h.mode&&(l===null||1&ge.current?Ie===0&&(Ie=3):Zm())),h.updateQueue!==null&&(h.flags|=4),mr(h),null);case 4:return ia(),Ql(l,h),l===null&&Ae(h.stateNode.containerInfo),mr(h),null;case 10:return um(h.type._context),mr(h),null;case 19:if(se(ge),(_=h.memoizedState)===null)return mr(h),null;if(y=(128&h.flags)!=0,(E=_.rendering)===null)if(y)Kl(_,!1);else{if(Ie!==0||l!==null&&128&l.flags)for(l=h.child;l!==null;){if((E=nc(l))!==null){for(h.flags|=128,Kl(_,!1),(l=E.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),h.subtreeFlags=0,l=p,p=h.child;p!==null;)_=l,(y=p).flags&=14680066,(E=y.alternate)===null?(y.childLanes=0,y.lanes=_,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,_=E.dependencies,y.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return Zt(ge,1&ge.current|2),h.child}l=l.sibling}_.tail!==null&&Le()>Vm&&(h.flags|=128,y=!0,Kl(_,!1),h.lanes=4194304)}else{if(!y)if((l=nc(E))!==null){if(h.flags|=128,y=!0,(l=l.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),Kl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!oe)return mr(h),null}else 2*Le()-_.renderingStartTime>Vm&&p!==1073741824&&(h.flags|=128,y=!0,Kl(_,!1),h.lanes=4194304);_.isBackwards?(E.sibling=h.child,h.child=E):((l=_.last)!==null?l.sibling=E:h.child=E,_.last=E)}return _.tail!==null?(h=_.tail,_.rendering=h,_.tail=h.sibling,_.renderingStartTime=Le(),h.sibling=null,l=ge.current,Zt(ge,y?1&l|2:1&l),h):(mr(h),null);case 22:case 23:return Km(),p=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==p&&(h.flags|=8192),p&&1&h.mode?1073741824&Dr&&(mr(h),gt&&6&h.subtreeFlags&&(h.flags|=8192)):mr(h),null;case 24:case 25:return null}throw Error(s(156,h.tag))}function gk(l,h){switch(nm(h),h.tag){case 1:return Lr(h.type)&&Xp(),65536&(l=h.flags)?(h.flags=-65537&l|128,h):null;case 3:return ia(),se(Ar),se(nr),vm(),65536&(l=h.flags)&&!(128&l)?(h.flags=-65537&l|128,h):null;case 5:return gm(h),null;case 13:if(se(ge),(l=h.memoizedState)!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Jo()}return 65536&(l=h.flags)?(h.flags=-65537&l|128,h):null;case 19:return se(ge),null;case 4:return ia(),null;case 10:return um(h.type._context),null;case 22:case 23:return Km(),null;default:return null}}var fc=!1,sr=!1,yk=typeof WeakSet=="function"?WeakSet:Set,lt=null;function oa(l,h){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){ae(l,h,y)}else p.current=null}function Wx(l,h,p){try{p()}catch(y){ae(l,h,y)}}var Vx=!1;function Zl(l,h,p){var y=h.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var _=y=y.next;do{if((_.tag&l)===l){var E=_.destroy;_.destroy=void 0,E!==void 0&&Wx(h,p,E)}_=_.next}while(_!==y)}}function pc(l,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var p=h=h.next;do{if((p.tag&l)===l){var y=p.create;p.destroy=y()}p=p.next}while(p!==h)}}function Bm(l){var h=l.ref;if(h!==null){var p=l.stateNode;l.tag===5?l=H(p):l=p,typeof h=="function"?h(l):h.current=l}}function Xx(l){var h=l.alternate;h!==null&&(l.alternate=null,Xx(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode)!==null&&bn(h),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Yx(l){return l.tag===5||l.tag===3||l.tag===4}function qx(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||Yx(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Lm(l,h,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?wM(p,l,h):gM(p,l);else if(y!==4&&(l=l.child)!==null)for(Lm(l,h,p),l=l.sibling;l!==null;)Lm(l,h,p),l=l.sibling}function Om(l,h,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?xM(p,l,h):mM(p,l);else if(y!==4&&(l=l.child)!==null)for(Om(l,h,p),l=l.sibling;l!==null;)Om(l,h,p),l=l.sibling}var gr=null,ti=!1;function ei(l,h,p){for(p=p.child;p!==null;)Dm(l,h,p),p=p.sibling}function Dm(l,h,p){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Wh,p)}catch{}switch(p.tag){case 5:sr||oa(p,h);case 6:if(gt){var y=gr,_=ti;gr=null,ei(l,h,p),ti=_,(gr=y)!==null&&(ti?SM(gr,p.stateNode):bM(gr,p.stateNode))}else ei(l,h,p);break;case 18:gt&&gr!==null&&(ti?VM(gr,p.stateNode):WM(gr,p.stateNode));break;case 4:gt?(y=gr,_=ti,gr=p.stateNode.containerInfo,ti=!0,ei(l,h,p),gr=y,ti=_):(St&&(y=p.stateNode.containerInfo,_=I_(y),Gp(y,_)),ei(l,h,p));break;case 0:case 11:case 14:case 15:if(!sr&&(y=p.updateQueue)!==null&&(y=y.lastEffect)!==null){_=y=y.next;do{var E=_,P=E.destroy;E=E.tag,P!==void 0&&(2&E||4&E)&&Wx(p,h,P),_=_.next}while(_!==y)}ei(l,h,p);break;case 1:if(!sr&&(oa(p,h),typeof(y=p.stateNode).componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(O){ae(p,h,O)}ei(l,h,p);break;case 21:ei(l,h,p);break;case 22:1&p.mode?(sr=(y=sr)||p.memoizedState!==null,ei(l,h,p),sr=y):ei(l,h,p);break;default:ei(l,h,p)}}function Qx(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new yk),h.forEach(function(y){var _=Ak.bind(null,l,y);p.has(y)||(p.add(y),y.then(_,_))})}}function Cn(l,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y];try{var E=l,P=h;if(gt){var O=P;t:for(;O!==null;){switch(O.tag){case 5:gr=O.stateNode,ti=!1;break t;case 3:case 4:gr=O.stateNode.containerInfo,ti=!0;break t}O=O.return}if(gr===null)throw Error(s(160));Dm(E,P,_),gr=null,ti=!1}else Dm(E,P,_);var j=_.alternate;j!==null&&(j.return=null),_.return=null}catch(q){ae(_,h,q)}}if(12854&h.subtreeFlags)for(h=h.child;h!==null;)Kx(h,l),h=h.sibling}function Kx(l,h){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Cn(h,l),ri(l),4&y){try{Zl(3,l,l.return),pc(3,l)}catch(Q){ae(l,l.return,Q)}try{Zl(5,l,l.return)}catch(Q){ae(l,l.return,Q)}}break;case 1:Cn(h,l),ri(l),512&y&&p!==null&&oa(p,p.return);break;case 5:if(Cn(h,l),ri(l),512&y&&p!==null&&oa(p,p.return),gt){if(32&l.flags){var _=l.stateNode;try{P_(_)}catch(Q){ae(l,l.return,Q)}}if(4&y&&(_=l.stateNode)!=null){var E=l.memoizedProps;if(p=p!==null?p.memoizedProps:E,y=l.type,h=l.updateQueue,l.updateQueue=null,h!==null)try{_M(_,h,y,p,E,l)}catch(Q){ae(l,l.return,Q)}}}break;case 6:if(Cn(h,l),ri(l),4&y&&gt){if(l.stateNode===null)throw Error(s(162));_=l.stateNode,E=l.memoizedProps,p=p!==null?p.memoizedProps:E;try{yM(_,p,E)}catch(Q){ae(l,l.return,Q)}}break;case 3:if(Cn(h,l),ri(l),4&y){if(gt&&Tt&&p!==null&&p.memoizedState.isDehydrated)try{jM(h.containerInfo)}catch(Q){ae(l,l.return,Q)}if(St){_=h.containerInfo,E=h.pendingChildren;try{Gp(_,E)}catch(Q){ae(l,l.return,Q)}}}break;case 4:if(Cn(h,l),ri(l),4&y&&St){_=(E=l.stateNode).containerInfo,E=E.pendingChildren;try{Gp(_,E)}catch(Q){ae(l,l.return,Q)}}break;case 13:Cn(h,l),ri(l),8192&(_=l.child).flags&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(Wm=Le())),4&y&&Qx(l);break;case 22:var P=p!==null&&p.memoizedState!==null;if(1&l.mode?(sr=(p=sr)||P,Cn(h,l),sr=p):Cn(h,l),ri(l),8192&y){if(p=l.memoizedState!==null,(l.stateNode.isHidden=p)&&!P&&(1&l.mode)!=0)for(lt=l,y=l.child;y!==null;){for(h=lt=y;lt!==null;){var O=(P=lt).child;switch(P.tag){case 0:case 11:case 14:case 15:Zl(4,P,P.return);break;case 1:oa(P,P.return);var j=P.stateNode;if(typeof j.componentWillUnmount=="function"){var q=P,K=P.return;try{var nt=q;j.props=nt.memoizedProps,j.state=nt.memoizedState,j.componentWillUnmount()}catch(Q){ae(q,K,Q)}}break;case 5:oa(P,P.return);break;case 22:if(P.memoizedState!==null){tw(h);continue}}O!==null?(O.return=P,lt=O):tw(h)}y=y.sibling}if(gt){t:if(y=null,gt)for(h=l;;){if(h.tag===5){if(y===null){y=h;try{_=h.stateNode,p?AM(_):TM(h.stateNode,h.memoizedProps)}catch(Q){ae(l,l.return,Q)}}}else if(h.tag===6){if(y===null)try{E=h.stateNode,p?EM(E):CM(E,h.memoizedProps)}catch(Q){ae(l,l.return,Q)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===l)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break t;for(;h.sibling===null;){if(h.return===null||h.return===l)break t;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:Cn(h,l),ri(l),4&y&&Qx(l);break;case 21:break;default:Cn(h,l),ri(l)}}function ri(l){var h=l.flags;if(2&h){try{if(gt){t:{for(var p=l.return;p!==null;){if(Yx(p)){var y=p;break t}p=p.return}throw Error(s(160))}switch(y.tag){case 5:var _=y.stateNode;32&y.flags&&(P_(_),y.flags&=-33),Om(l,qx(l),_);break;case 3:case 4:var E=y.stateNode.containerInfo;Lm(l,qx(l),E);break;default:throw Error(s(161))}}}catch(P){ae(l,l.return,P)}l.flags&=-3}4096&h&&(l.flags&=-4097)}function vk(l,h,p){lt=l,Zx(l)}function Zx(l,h,p){for(var y=(1&l.mode)!=0;lt!==null;){var _=lt,E=_.child;if(_.tag===22&&y){var P=_.memoizedState!==null||fc;if(!P){var O=_.alternate,j=O!==null&&O.memoizedState!==null||sr;O=fc;var q=sr;if(fc=P,(sr=j)&&!q)for(lt=_;lt!==null;)j=(P=lt).child,P.tag===22&&P.memoizedState!==null?ew(_):j!==null?(j.return=P,lt=j):ew(_);for(;E!==null;)lt=E,Zx(E),E=E.sibling;lt=_,fc=O,sr=q}Jx(l)}else 8772&_.subtreeFlags&&E!==null?(E.return=_,lt=E):Jx(l)}}function Jx(l){for(;lt!==null;){var h=lt;if(8772&h.flags){var p=h.alternate;try{if(8772&h.flags)switch(h.tag){case 0:case 11:case 15:sr||pc(5,h);break;case 1:var y=h.stateNode;if(4&h.flags&&!sr)if(p===null)y.componentDidMount();else{var _=h.elementType===h.type?p.memoizedProps:Tn(h.type,p.memoizedProps);y.componentDidUpdate(_,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=h.updateQueue;E!==null&&K_(h,E,y);break;case 3:var P=h.updateQueue;if(P!==null){if(p=null,h.child!==null)switch(h.child.tag){case 5:p=H(h.child.stateNode);break;case 1:p=h.child.stateNode}K_(h,P,p)}break;case 5:var O=h.stateNode;p===null&&4&h.flags&&vM(O,h.type,h.memoizedProps,h);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Tt&&h.memoizedState===null){var j=h.alternate;if(j!==null){var q=j.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&HM(K)}}}break;default:throw Error(s(163))}sr||512&h.flags&&Bm(h)}catch(nt){ae(h,h.return,nt)}}if(h===l){lt=null;break}if((p=h.sibling)!==null){p.return=h.return,lt=p;break}lt=h.return}}function tw(l){for(;lt!==null;){var h=lt;if(h===l){lt=null;break}var p=h.sibling;if(p!==null){p.return=h.return,lt=p;break}lt=h.return}}function ew(l){for(;lt!==null;){var h=lt;try{switch(h.tag){case 0:case 11:case 15:var p=h.return;try{pc(4,h)}catch(j){ae(h,p,j)}break;case 1:var y=h.stateNode;if(typeof y.componentDidMount=="function"){var _=h.return;try{y.componentDidMount()}catch(j){ae(h,_,j)}}var E=h.return;try{Bm(h)}catch(j){ae(h,E,j)}break;case 5:var P=h.return;try{Bm(h)}catch(j){ae(h,P,j)}}}catch(j){ae(h,h.return,j)}if(h===l){lt=null;break}var O=h.sibling;if(O!==null){O.return=h.return,lt=O;break}lt=h.return}}var mc=0,gc=1,yc=2,vc=3,_c=4;if(typeof Symbol=="function"&&Symbol.for){var Jl=Symbol.for;mc=Jl("selector.component"),gc=Jl("selector.has_pseudo_class"),yc=Jl("selector.role"),vc=Jl("selector.test_id"),_c=Jl("selector.text")}function Um(l){var h=rr(l);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if((l=zp(l))===null)throw Error(s(362));return l.stateNode.current}function $m(l,h){switch(h.$$typeof){case mc:if(l.type===h.value)return!0;break;case gc:t:{h=h.value,l=[l,0];for(var p=0;p<l.length;){var y=l[p++],_=l[p++],E=h[_];if(y.tag!==5||!Ol(y)){for(;E!=null&&$m(y,E);)E=h[++_];if(_===h.length){h=!0;break t}for(y=y.child;y!==null;)l.push(y,_),y=y.sibling}}h=!1}return h;case yc:if(l.tag===5&&dM(l.stateNode,h.value))return!0;break;case _c:if((l.tag===5||l.tag===6)&&(l=cM(l))!==null&&0<=l.indexOf(h.value))return!0;break;case vc:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function zm(l){switch(l.$$typeof){case mc:return"<"+(N(l.value)||"Unknown")+">";case gc:return":has("+(zm(l)||"")+")";case yc:return'[role="'+l.value+'"]';case _c:return'"'+l.value+'"';case vc:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function rw(l,h){var p=[];l=[l,0];for(var y=0;y<l.length;){var _=l[y++],E=l[y++],P=h[E];if(_.tag!==5||!Ol(_)){for(;P!=null&&$m(_,P);)P=h[++E];if(E===h.length)p.push(_);else for(_=_.child;_!==null;)l.push(_,E),_=_.sibling}}return p}function Gm(l,h){if(!ts)throw Error(s(363));l=rw(l=Um(l),h),h=[],l=Array.from(l);for(var p=0;p<l.length;){var y=l[p++];if(y.tag===5)Ol(y)||h.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return h}var _k=Math.ceil,xc=o.ReactCurrentDispatcher,jm=o.ReactCurrentOwner,xe=o.ReactCurrentBatchConfig,Bt=0,Ue=null,Ee=null,Ve=0,Dr=0,aa=es(0),Ie=0,tu=null,to=0,wc=0,Hm=0,eu=null,Ur=null,Wm=0,Vm=1/0,ss=null;function la(){Vm=Le()+500}var nw,bc=!1,Xm=null,os=null,Sc=!1,as=null,Ac=0,ru=0,Ym=null,Ec=-1,Tc=0;function or(){return 6&Bt?Le():Ec!==-1?Ec:Ec=Le()}function ls(l){return 1&l.mode?2&Bt&&Ve!==0?Ve&-Ve:ik.transition!==null?(Tc===0&&(Tc=O_()),Tc):(l=Ut)!==0?l:pr():1}function sn(l,h,p,y){if(50<ru)throw ru=0,Ym=null,Error(s(185));$l(l,p,y),2&Bt&&l===Ue||(l===Ue&&(!(2&Bt)&&(wc|=p),Ie===4&&us(l,Ve)),Cr(l,y),p===1&&Bt===0&&!(1&h.mode)&&(la(),Vh&&Yn()))}function Cr(l,h){var p=l.callbackNode;(function(_,E){for(var P=_.suspendedLanes,O=_.pingedLanes,j=_.expirationTimes,q=_.pendingLanes;0<q;){var K=31-Sn(q),nt=1<<K,Q=j[K];Q===-1?nt&P&&!(nt&O)||(j[K]=JM(nt,E)):Q<=E&&(_.expiredLanes|=nt),q&=~nt}})(l,h);var y=Hh(l,l===Ue?Ve:0);if(y===0)p!==null&&U_(p),l.callbackNode=null,l.callbackPriority=0;else if(h=y&-y,l.callbackPriority!==h){if(p!=null&&U_(p),h===1)l.tag===0?function(_){Vh=!0,z_(_)}(sw.bind(null,l)):z_(sw.bind(null,l)),Sr?$p(function(){!(6&Bt)&&Yn()}):Jp(tm,Yn),p=null;else{switch(D_(y)){case 1:p=tm;break;case 4:p=rk;break;case 16:default:p=$_;break;case 536870912:p=nk}p=fw(p,iw.bind(null,l))}l.callbackPriority=h,l.callbackNode=p}}function iw(l,h){if(Ec=-1,Tc=0,(6&Bt)!=0)throw Error(s(327));var p=l.callbackNode;if(ro()&&l.callbackNode!==p)return null;var y=Hh(l,l===Ue?Ve:0);if(y===0)return null;if(30&y||y&l.expiredLanes||h)h=Cc(l,y);else{h=y;var _=Bt;Bt|=2;var E=lw();for(Ue===l&&Ve===h||(ss=null,la(),eo(l,h));;)try{wk();break}catch(O){aw(l,O)}lm(),xc.current=E,Bt=_,Ee!==null?h=0:(Ue=null,Ve=0,h=Ie)}if(h!==0){if(h===2&&(_=Qp(l))!==0&&(y=_,h=qm(l,_)),h===1)throw p=tu,eo(l,0),us(l,y),Cr(l,Le()),p;if(h===6)us(l,y);else{if(_=l.current.alternate,(30&y)==0&&!function(O){for(var j=O;;){if(16384&j.flags){var q=j.updateQueue;if(q!==null&&(q=q.stores)!==null)for(var K=0;K<q.length;K++){var nt=q[K],Q=nt.getSnapshot;nt=nt.value;try{if(!An(Q(),nt))return!1}catch{return!1}}}if(q=j.child,16384&j.subtreeFlags&&q!==null)q.return=j,j=q;else{if(j===O)break;for(;j.sibling===null;){if(j.return===null||j.return===O)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}(_)&&((h=Cc(l,y))===2&&(E=Qp(l))!==0&&(y=E,h=qm(l,E)),h===1))throw p=tu,eo(l,0),us(l,y),Cr(l,Le()),p;switch(l.finishedWork=_,l.finishedLanes=y,h){case 0:case 1:throw Error(s(345));case 2:case 5:ua(l,Ur,ss);break;case 3:if(us(l,y),(130023424&y)===y&&10<(h=Wm+500-Le())){if(Hh(l,0)!==0)break;if(((_=l.suspendedLanes)&y)!==y){or(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=bt(ua.bind(null,l,Ur,ss),h);break}ua(l,Ur,ss);break;case 4:if(us(l,y),(4194240&y)===y)break;for(h=l.eventTimes,_=-1;0<y;){var P=31-Sn(y);E=1<<P,(P=h[P])>_&&(_=P),y&=~E}if(y=_,10<(y=(120>(y=Le()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*_k(y/1960))-y)){l.timeoutHandle=bt(ua.bind(null,l,Ur,ss),y);break}ua(l,Ur,ss);break;default:throw Error(s(329))}}}return Cr(l,Le()),l.callbackNode===p?iw.bind(null,l):null}function qm(l,h){var p=eu;return l.current.memoizedState.isDehydrated&&(eo(l,h).flags|=256),(l=Cc(l,h))!==2&&(h=Ur,Ur=p,h!==null&&Qm(h)),l}function Qm(l){Ur===null?Ur=l:Ur.push.apply(Ur,l)}function us(l,h){for(h&=~Hm,h&=~wc,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var p=31-Sn(h),y=1<<p;l[p]=-1,h&=~y}}function sw(l){if(6&Bt)throw Error(s(327));ro();var h=Hh(l,0);if(!(1&h))return Cr(l,Le()),null;var p=Cc(l,h);if(l.tag!==0&&p===2){var y=Qp(l);y!==0&&(h=y,p=qm(l,y))}if(p===1)throw p=tu,eo(l,0),us(l,h),Cr(l,Le()),p;if(p===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,ua(l,Ur,ss),Cr(l,Le()),null}function ow(l){as!==null&&as.tag===0&&!(6&Bt)&&ro();var h=Bt;Bt|=1;var p=xe.transition,y=Ut;try{if(xe.transition=null,Ut=1,l)return l()}finally{Ut=y,xe.transition=p,!(6&(Bt=h))&&Yn()}}function Km(){Dr=aa.current,se(aa)}function eo(l,h){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==Rt&&(l.timeoutHandle=Rt,Ft(p)),Ee!==null)for(p=Ee.return;p!==null;){var y=p;switch(nm(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&Xp();break;case 3:ia(),se(Ar),se(nr),vm();break;case 5:gm(y);break;case 4:ia();break;case 13:case 19:se(ge);break;case 10:um(y.type._context);break;case 22:case 23:Km()}p=p.return}if(Ue=l,Ee=l=hs(l.current,null),Ve=Dr=h,Ie=0,tu=null,Hm=wc=to=0,Ur=eu=null,Zs!==null){for(h=0;h<Zs.length;h++)if((y=(p=Zs[h]).interleaved)!==null){p.interleaved=null;var _=y.next,E=p.pending;if(E!==null){var P=E.next;E.next=_,y.next=P}p.pending=y}Zs=null}return l}function aw(l,h){for(;;){var p=Ee;try{if(lm(),ic.current=lc,sc){for(var y=ue.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}sc=!1}if(Js=0,De=Oe=ue=null,Wl=!1,Vl=0,jm.current=null,p===null||p.return===null){Ie=1,tu=h,Ee=null;break}t:{var E=l,P=p.return,O=p,j=h;if(h=Ve,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var q=j,K=O,nt=K.tag;if(!(1&K.mode)&&(nt===0||nt===11||nt===15)){var Q=K.alternate;Q?(K.updateQueue=Q.updateQueue,K.memoizedState=Q.memoizedState,K.lanes=Q.lanes):(K.updateQueue=null,K.memoizedState=null)}var rt=Rx(P);if(rt!==null){rt.flags&=-257,Mx(rt,P,O,0,h),1&rt.mode&&Ix(E,q,h),j=q;var ct=(h=rt).updateQueue;if(ct===null){var Pt=new Set;Pt.add(j),h.updateQueue=Pt}else ct.add(j);break t}if(!(1&h)){Ix(E,q,h),Zm();break t}j=Error(s(426))}else if(oe&&1&O.mode){var Z=Rx(P);if(Z!==null){!(65536&Z.flags)&&(Z.flags|=256),Mx(Z,P,O,0,h),om(sa(j,O));break t}}E=j=sa(j,O),Ie!==4&&(Ie=2),eu===null?eu=[E]:eu.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,h&=-h,E.lanes|=h,Q_(E,Cx(0,j,h));break t;case 1:O=j;var $=E.type,X=E.stateNode;if(!(128&E.flags)&&(typeof $.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(os===null||!os.has(X)))){E.flags|=65536,h&=-h,E.lanes|=h,Q_(E,Px(E,O,h));break t}}E=E.return}while(E!==null)}hw(p)}catch(tt){h=tt,Ee===p&&p!==null&&(Ee=p=p.return);continue}break}}function lw(){var l=xc.current;return xc.current=lc,l===null?lc:l}function Zm(){Ie!==0&&Ie!==3&&Ie!==2||(Ie=4),Ue===null||!(268435455&to)&&!(268435455&wc)||us(Ue,Ve)}function Cc(l,h){var p=Bt;Bt|=2;var y=lw();for(Ue===l&&Ve===h||(ss=null,eo(l,h));;)try{xk();break}catch(_){aw(l,_)}if(lm(),Bt=p,xc.current=y,Ee!==null)throw Error(s(261));return Ue=null,Ve=0,Ie}function xk(){for(;Ee!==null;)uw(Ee)}function wk(){for(;Ee!==null&&!tk();)uw(Ee)}function uw(l){var h=nw(l.alternate,l,Dr);l.memoizedProps=l.pendingProps,h===null?hw(l):Ee=h,jm.current=null}function hw(l){var h=l;do{var p=h.alternate;if(l=h.return,(32768&h.flags)==0){if((p=mk(p,h,Dr))!==null)return void(Ee=p)}else{if((p=gk(p,h))!==null)return p.flags&=32767,void(Ee=p);if(l===null)return Ie=6,void(Ee=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((h=h.sibling)!==null)return void(Ee=h);Ee=h=l}while(h!==null);Ie===0&&(Ie=5)}function ua(l,h,p){var y=Ut,_=xe.transition;try{xe.transition=null,Ut=1,function(E,P,O,j){do ro();while(as!==null);if(6&Bt)throw Error(s(327));O=E.finishedWork;var q=E.finishedLanes;if(O===null)return null;if(E.finishedWork=null,E.finishedLanes=0,O===E.current)throw Error(s(177));E.callbackNode=null,E.callbackPriority=0;var K=O.lanes|O.childLanes;if(function(rt,ct){var Pt=rt.pendingLanes&~ct;rt.pendingLanes=ct,rt.suspendedLanes=0,rt.pingedLanes=0,rt.expiredLanes&=ct,rt.mutableReadLanes&=ct,rt.entangledLanes&=ct,ct=rt.entanglements;var Z=rt.eventTimes;for(rt=rt.expirationTimes;0<Pt;){var $=31-Sn(Pt),X=1<<$;ct[$]=0,Z[$]=-1,rt[$]=-1,Pt&=~X}}(E,K),E===Ue&&(Ee=Ue=null,Ve=0),!(2064&O.subtreeFlags)&&!(2064&O.flags)||Sc||(Sc=!0,fw($_,function(){return ro(),null})),K=(15990&O.flags)!=0,(15990&O.subtreeFlags)!=0||K){K=xe.transition,xe.transition=null;var nt=Ut;Ut=1;var Q=Bt;Bt|=4,jm.current=null,function(rt,ct){for(L(rt.containerInfo),lt=ct;lt!==null;)if(ct=(rt=lt).child,(1028&rt.subtreeFlags)!=0&&ct!==null)ct.return=rt,lt=ct;else for(;lt!==null;){rt=lt;try{var Pt=rt.alternate;if(1024&rt.flags)switch(rt.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Pt!==null){var Z=Pt.memoizedProps,$=Pt.memoizedState,X=rt.stateNode,tt=X.getSnapshotBeforeUpdate(rt.elementType===rt.type?Z:Tn(rt.type,Z),$);X.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:gt&&PM(rt.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(vt){ae(rt,rt.return,vt)}if((ct=rt.sibling)!==null){ct.return=rt.return,lt=ct;break}lt=rt.return}Pt=Vx,Vx=!1}(E,O),Kx(O,E),k(E.containerInfo),E.current=O,vk(O),ek(),Bt=Q,Ut=nt,xe.transition=K}else E.current=O;if(Sc&&(Sc=!1,as=E,Ac=q),K=E.pendingLanes,K===0&&(os=null),function(rt){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Wh,rt,void 0,(128&rt.current.flags)==128)}catch{}}(O.stateNode),Cr(E,Le()),P!==null)for(j=E.onRecoverableError,O=0;O<P.length;O++)q=P[O],j(q.value,{componentStack:q.stack,digest:q.digest});if(bc)throw bc=!1,E=Xm,Xm=null,E;1&Ac&&E.tag!==0&&ro(),K=E.pendingLanes,1&K?E===Ym?ru++:(ru=0,Ym=E):ru=0,Yn()}(l,h,p,y)}finally{xe.transition=_,Ut=y}return null}function ro(){if(as!==null){var l=D_(Ac),h=xe.transition,p=Ut;try{if(xe.transition=null,Ut=16>l?16:l,as===null)var y=!1;else{if(l=as,as=null,Ac=0,(6&Bt)!=0)throw Error(s(331));var _=Bt;for(Bt|=4,lt=l.current;lt!==null;){var E=lt,P=E.child;if(16&lt.flags){var O=E.deletions;if(O!==null){for(var j=0;j<O.length;j++){var q=O[j];for(lt=q;lt!==null;){var K=lt;switch(K.tag){case 0:case 11:case 15:Zl(8,K,E)}var nt=K.child;if(nt!==null)nt.return=K,lt=nt;else for(;lt!==null;){var Q=(K=lt).sibling,rt=K.return;if(Xx(K),K===q){lt=null;break}if(Q!==null){Q.return=rt,lt=Q;break}lt=rt}}}var ct=E.alternate;if(ct!==null){var Pt=ct.child;if(Pt!==null){ct.child=null;do{var Z=Pt.sibling;Pt.sibling=null,Pt=Z}while(Pt!==null)}}lt=E}}if(2064&E.subtreeFlags&&P!==null)P.return=E,lt=P;else t:for(;lt!==null;){if(2048&(E=lt).flags)switch(E.tag){case 0:case 11:case 15:Zl(9,E,E.return)}var $=E.sibling;if($!==null){$.return=E.return,lt=$;break t}lt=E.return}}var X=l.current;for(lt=X;lt!==null;){var tt=(P=lt).child;if(2064&P.subtreeFlags&&tt!==null)tt.return=P,lt=tt;else t:for(P=X;lt!==null;){if(2048&(O=lt).flags)try{switch(O.tag){case 0:case 11:case 15:pc(9,O)}}catch(Vt){ae(O,O.return,Vt)}if(O===P){lt=null;break t}var vt=O.sibling;if(vt!==null){vt.return=O.return,lt=vt;break t}lt=O.return}}if(Bt=_,Yn(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Wh,l)}catch{}y=!0}return y}finally{Ut=p,xe.transition=h}}return!1}function cw(l,h,p){l=is(l,h=Cx(0,h=sa(p,h),1),1),h=or(),l!==null&&($l(l,1,h),Cr(l,h))}function ae(l,h,p){if(l.tag===3)cw(l,l,p);else for(;h!==null;){if(h.tag===3){cw(h,l,p);break}if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(os===null||!os.has(y))){h=is(h,l=Px(h,l=sa(p,l),1),1),l=or(),h!==null&&($l(h,1,l),Cr(h,l));break}}h=h.return}}function bk(l,h,p){var y=l.pingCache;y!==null&&y.delete(h),h=or(),l.pingedLanes|=l.suspendedLanes&p,Ue===l&&(Ve&p)===p&&(Ie===4||Ie===3&&(130023424&Ve)===Ve&&500>Le()-Wm?eo(l,0):Hm|=p),Cr(l,h)}function dw(l,h){h===0&&(1&l.mode?(h=qp,!(130023424&(qp<<=1))&&(qp=4194304)):h=1);var p=or();(l=Qn(l,h))!==null&&($l(l,h,p),Cr(l,p))}function Sk(l){var h=l.memoizedState,p=0;h!==null&&(p=h.retryLane),dw(l,p)}function Ak(l,h){var p=0;switch(l.tag){case 13:var y=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(h),dw(l,p)}function fw(l,h){return Jp(l,h)}function Ek(l,h,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(l,h,p,y){return new Ek(l,h,p,y)}function Jm(l){return!(!(l=l.prototype)||!l.isReactComponent)}function hs(l,h){var p=l.alternate;return p===null?((p=on(l.tag,h,l.key,l.mode)).elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=h,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&l.flags,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,h=l.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Pc(l,h,p,y,_,E){var P=2;if(y=l,typeof l=="function")Jm(l)&&(P=1);else if(typeof l=="string")P=5;else t:switch(l){case c:return no(p.children,_,E,h);case d:P=8,_|=8;break;case f:return(l=on(12,p,h,2|_)).elementType=f,l.lanes=E,l;case x:return(l=on(13,p,h,_)).elementType=x,l.lanes=E,l;case A:return(l=on(19,p,h,_)).elementType=A,l.lanes=E,l;case w:return Ic(p,_,E,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:P=10;break t;case g:P=9;break t;case v:P=11;break t;case b:P=14;break t;case S:P=16,y=null;break t}throw Error(s(130,l==null?l:typeof l,""))}return(h=on(P,p,h,_)).elementType=l,h.type=y,h.lanes=E,h}function no(l,h,p,y){return(l=on(7,l,y,h)).lanes=p,l}function Ic(l,h,p,y){return(l=on(22,l,y,h)).elementType=w,l.lanes=p,l.stateNode={isHidden:!1},l}function tg(l,h,p){return(l=on(6,l,null,h)).lanes=p,l}function eg(l,h,p){return(h=on(4,l.children!==null?l.children:[],l.key,h)).lanes=p,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function Tk(l,h,p,y,_){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=y,this.onRecoverableError=_,Tt&&(this.mutableSourceEagerHydrationData=null)}function pw(l,h,p,y,_,E,P,O,j){return l=new Tk(l,h,p,O,j),h===1?(h=1,E===!0&&(h|=8)):h=0,E=on(3,null,null,h),l.current=E,E.stateNode=l,E.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},dm(E),l}function mw(l){if(!l)return rs;t:{if(I(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break t;case 1:if(Lr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break t}}h=h.return}while(h!==null);throw Error(s(171))}if(l.tag===1){var p=l.type;if(Lr(p))return B_(l,p,h)}return h}function gw(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=Y(h))===null?null:l.stateNode}function yw(l,h){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<h?p:h}}function Rc(l,h){yw(l,h),(l=l.alternate)&&yw(l,h)}function Ck(l){return(l=Y(l))===null?null:l.stateNode}function Pk(){return null}return nw=function(l,h,p){if(l!==null)if(l.memoizedProps!==h.pendingProps||Ar.current)Er=!0;else{if(!(l.lanes&p)&&!(128&h.flags))return Er=!1,function(nt,Q,rt){switch(Q.tag){case 3:Dx(Q),Jo();break;case 5:sx(Q);break;case 1:Lr(Q.type)&&jh(Q);break;case 4:mm(Q,Q.stateNode.containerInfo);break;case 10:X_(0,Q.type._context,Q.memoizedProps.value);break;case 13:var ct=Q.memoizedState;if(ct!==null)return ct.dehydrated!==null?(Zt(ge,1&ge.current),Q.flags|=128,null):rt&Q.child.childLanes?$x(nt,Q,rt):(Zt(ge,1&ge.current),(nt=Pi(nt,Q,rt))!==null?nt.sibling:null);Zt(ge,1&ge.current);break;case 19:if(ct=(rt&Q.childLanes)!=0,(128&nt.flags)!=0){if(ct)return Gx(nt,Q,rt);Q.flags|=128}var Pt=Q.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),Zt(ge,ge.current),ct)break;return null;case 22:case 23:return Q.lanes=0,Bx(nt,Q,rt)}return Pi(nt,Q,rt)}(l,h,p);Er=(131072&l.flags)!=0}else Er=!1,oe&&1048576&h.flags&&G_(h,Yh,h.index);switch(h.lanes=0,h.tag){case 2:var y=h.type;dc(l,h),l=h.pendingProps;var _=Qo(h,nr.current);ea(h,p),_=wm(null,h,y,l,_,p);var E=bm();return h.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Lr(y)?(E=!0,jh(h)):E=!1,h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,dm(h),_.updater=ec,h.stateNode=_,_._reactInternals=h,pm(h,y,l,p),h=Rm(null,h,y,!0,E,p)):(h.tag=0,oe&&E&&rm(h),Tr(null,h,_,p),h=h.child),h;case 16:y=h.elementType;t:{switch(dc(l,h),l=h.pendingProps,y=(_=y._init)(y._payload),h.type=y,_=h.tag=function(nt){if(typeof nt=="function")return Jm(nt)?1:0;if(nt!=null){if((nt=nt.$$typeof)===v)return 11;if(nt===b)return 14}return 2}(y),l=Tn(y,l),_){case 0:h=Im(null,h,y,l,p);break t;case 1:h=Ox(null,h,y,l,p);break t;case 11:h=kx(null,h,y,l,p);break t;case 14:h=Nx(null,h,y,Tn(y.type,l),p);break t}throw Error(s(306,y,""))}return h;case 0:return y=h.type,_=h.pendingProps,Im(l,h,y,_=h.elementType===y?_:Tn(y,_),p);case 1:return y=h.type,_=h.pendingProps,Ox(l,h,y,_=h.elementType===y?_:Tn(y,_),p);case 3:t:{if(Dx(h),l===null)throw Error(s(387));y=h.pendingProps,_=(E=h.memoizedState).element,q_(l,h),tc(h,y,null,p);var P=h.memoizedState;if(y=P.element,Tt&&E.isDehydrated){if(E={element:y,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},h.updateQueue.baseState=E,h.memoizedState=E,256&h.flags){h=Ux(l,h,y,p,_=sa(Error(s(423)),h));break t}if(y!==_){h=Ux(l,h,y,p,_=sa(Error(s(424)),h));break t}for(Tt&&(tn=OM(h.stateNode.containerInfo),Or=h,oe=!0,En=null,zl=!1),p=ix(h,null,y,p),h.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(Jo(),y===_){h=Pi(l,h,p);break t}Tr(l,h,y,p)}h=h.child}return h;case 5:return sx(h),l===null&&sm(h),y=h.type,_=h.pendingProps,E=l!==null?l.memoizedProps:null,P=_.children,yt(y,_)?P=null:E!==null&&yt(y,E)&&(h.flags|=32),Lx(l,h),Tr(l,h,P,p),h.child;case 6:return l===null&&sm(h),null;case 13:return $x(l,h,p);case 4:return mm(h,h.stateNode.containerInfo),y=h.pendingProps,l===null?h.child=ra(h,null,y,p):Tr(l,h,y,p),h.child;case 11:return y=h.type,_=h.pendingProps,kx(l,h,y,_=h.elementType===y?_:Tn(y,_),p);case 7:return Tr(l,h,h.pendingProps,p),h.child;case 8:case 12:return Tr(l,h,h.pendingProps.children,p),h.child;case 10:t:{if(y=h.type._context,_=h.pendingProps,E=h.memoizedProps,X_(0,y,P=_.value),E!==null)if(An(E.value,P)){if(E.children===_.children&&!Ar.current){h=Pi(l,h,p);break t}}else for((E=h.child)!==null&&(E.return=h);E!==null;){var O=E.dependencies;if(O!==null){P=E.child;for(var j=O.firstContext;j!==null;){if(j.context===y){if(E.tag===1){(j=Ci(-1,p&-p)).tag=2;var q=E.updateQueue;if(q!==null){var K=(q=q.shared).pending;K===null?j.next=j:(j.next=K.next,K.next=j),q.pending=j}}E.lanes|=p,(j=E.alternate)!==null&&(j.lanes|=p),hm(E.return,p,h),O.lanes|=p;break}j=j.next}}else if(E.tag===10)P=E.type===h.type?null:E.child;else if(E.tag===18){if((P=E.return)===null)throw Error(s(341));P.lanes|=p,(O=P.alternate)!==null&&(O.lanes|=p),hm(P,p,h),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===h){P=null;break}if((E=P.sibling)!==null){E.return=P.return,P=E;break}P=P.return}E=P}Tr(l,h,_.children,p),h=h.child}return h;case 9:return _=h.type,y=h.pendingProps.children,ea(h,p),y=y(_=en(_)),h.flags|=1,Tr(l,h,y,p),h.child;case 14:return _=Tn(y=h.type,h.pendingProps),Nx(l,h,y,_=Tn(y.type,_),p);case 15:return Fx(l,h,h.type,h.pendingProps,p);case 17:return y=h.type,_=h.pendingProps,_=h.elementType===y?_:Tn(y,_),dc(l,h),h.tag=1,Lr(y)?(l=!0,jh(h)):l=!1,ea(h,p),tx(h,y,_),pm(h,y,_,p),Rm(null,h,y,!0,l,p);case 19:return Gx(l,h,p);case 22:return Bx(l,h,p)}throw Error(s(156,h.tag))},t.attemptContinuousHydration=function(l){if(l.tag===13){var h=Qn(l,134217728);h!==null&&sn(h,l,134217728,or()),Rc(l,134217728)}},t.attemptDiscreteHydration=function(l){if(l.tag===13){var h=Qn(l,1);h!==null&&sn(h,l,1,or()),Rc(l,1)}},t.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var h=ls(l),p=Qn(l,h);p!==null&&sn(p,l,h,or()),Rc(l,h)}},t.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var p=Ul(h.pendingLanes);p!==0&&(Zp(h,1|p),Cr(h,Le()),!(6&Bt)&&(la(),Yn()))}break;case 13:ow(function(){var y=Qn(l,1);if(y!==null){var _=or();sn(y,l,1,_)}}),Rc(l,1)}},t.batchedUpdates=function(l,h){var p=Bt;Bt|=1;try{return l(h)}finally{(Bt=p)===0&&(la(),Vh&&Yn())}},t.createComponentSelector=function(l){return{$$typeof:mc,value:l}},t.createContainer=function(l,h,p,y,_,E,P){return pw(l,h,!1,null,0,y,0,E,P)},t.createHasPseudoClassSelector=function(l){return{$$typeof:gc,value:l}},t.createHydrationContainer=function(l,h,p,y,_,E,P,O,j){return(l=pw(p,y,!0,l,0,E,0,O,j)).context=mw(null),p=l.current,(E=Ci(y=or(),_=ls(p))).callback=h??null,is(p,E,_),l.current.lanes=_,$l(l,_,y),Cr(l,y),l},t.createPortal=function(l,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:l,containerInfo:h,implementation:p}},t.createRoleSelector=function(l){return{$$typeof:yc,value:l}},t.createTestNameSelector=function(l){return{$$typeof:vc,value:l}},t.createTextSelector=function(l){return{$$typeof:_c,value:l}},t.deferredUpdates=function(l){var h=Ut,p=xe.transition;try{return xe.transition=null,Ut=16,l()}finally{Ut=h,xe.transition=p}},t.discreteUpdates=function(l,h,p,y,_){var E=Ut,P=xe.transition;try{return xe.transition=null,Ut=1,l(h,p,y,_)}finally{Ut=E,xe.transition=P,Bt===0&&la()}},t.findAllNodes=Gm,t.findBoundingRects=function(l,h){if(!ts)throw Error(s(363));h=Gm(l,h),l=[];for(var p=0;p<h.length;p++)l.push(C_(h[p]));for(h=l.length-1;0<h;h--)for(var y=(p=l[h]).x,_=y+p.width,E=p.y,P=E+p.height,O=h-1;0<=O;O--)if(h!==O){var j=l[O],q=j.x,K=q+j.width,nt=j.y,Q=nt+j.height;if(y>=q&&E>=nt&&_<=K&&P<=Q){l.splice(h,1);break}if(!(y!==q||p.width!==j.width||Q<E||nt>P)){nt>E&&(j.height+=nt-E,j.y=E),Q<P&&(j.height=P-nt),l.splice(h,1);break}if(!(E!==nt||p.height!==j.height||K<y||q>_)){q>y&&(j.width+=q-y,j.x=y),K<_&&(j.width=_-q),l.splice(h,1);break}}return l},t.findHostInstance=gw,t.findHostInstanceWithNoPortals=function(l){return(l=(l=F(l))!==null?U(l):null)===null?null:l.stateNode},t.findHostInstanceWithWarning=function(l){return gw(l)},t.flushControlled=function(l){var h=Bt;Bt|=1;var p=xe.transition,y=Ut;try{xe.transition=null,Ut=1,l()}finally{Ut=y,xe.transition=p,(Bt=h)===0&&(la(),Yn())}},t.flushPassiveEffects=ro,t.flushSync=ow,t.focusWithin=function(l,h){if(!ts)throw Error(s(363));for(h=rw(l=Um(l),h),h=Array.from(h),l=0;l<h.length;){var p=h[l++];if(!Ol(p)){if(p.tag===5&&fM(p.stateNode))return!0;for(p=p.child;p!==null;)h.push(p),p=p.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ut},t.getFindAllNodesFailureDescription=function(l,h){if(!ts)throw Error(s(363));var p=0,y=[];l=[Um(l),0];for(var _=0;_<l.length;){var E=l[_++],P=l[_++],O=h[P];if((E.tag!==5||!Ol(E))&&($m(E,O)&&(y.push(zm(O)),++P>p&&(p=P)),P<h.length))for(E=E.child;E!==null;)l.push(E,P),E=E.sibling}if(p<h.length){for(l=[];p<h.length;p++)l.push(zm(h[p]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},t.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?H(l.child.stateNode):l.child.stateNode:null},t.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Ck,findFiberByHostInstance:l.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)l=!0;else{try{Wh=h.inject(l),Xn=h}catch{}l=!!h.checkDCE}}return l},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(l,h,p,y){if(!ts)throw Error(s(363));l=Gm(l,h);var _=pM(l,p,y).disconnect;return{disconnect:function(){_()}}},t.registerMutableSourceForHydration=function(l,h){var p=h._getVersion;p=p(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,p]:l.mutableSourceEagerHydrationData.push(h,p)},t.runWithPriority=function(l,h){var p=Ut;try{return Ut=l,h()}finally{Ut=p}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(l,h,p,y){var _=h.current,E=or(),P=ls(_);return p=mw(p),h.context===null?h.context=p:h.pendingContext=p,(h=Ci(E,P)).payload={element:l},(y=y===void 0?null:y)!==null&&(h.callback=y),(l=is(_,h,P))!==null&&(sn(l,_,P,E),Jh(l,_,P)),P},t}),sA}({get exports(){return bv},set exports(e){bv=e}}).exports=LU();var OU=uU(bv),EI={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Av={},md={get exports(){return Av},set exports(e){Av=e}};(function(){var e,t,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?md.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(md.exports=function(){return(e()-i)/1e6},t=process.hrtime,n=(e=function(){var o;return 1e9*(o=t())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(md.exports=function(){return Date.now()-r},r=Date.now()):(md.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(lU);var lA,$a={},oo={};({get exports(){return $a},set exports(e){$a=e}}).exports=(lA||(lA=1,oo.ConcurrentRoot=1,oo.ContinuousEventPriority=4,oo.DefaultEventPriority=16,oo.DiscreteEventPriority=1,oo.IdleEventPriority=536870912,oo.LegacyRoot=0),oo);var DU={};function my(e,t){e.addChild&&(e.addChild(t),typeof t.didMount=="function"&&t.didMount(t,e))}function TI(e,t){var r,n,i;(r=e.willUnmount)===null||r===void 0||r.call(e,e,t),((n=e.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=e.children)!==null&&i!==void 0&&i.length&&qi(e.children).forEach(function(s){TI(s,e)})}function uA(e,t){var r;TI(t,e),e.removeChild(t);var n=(r=t.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,c=u!==void 0&&u,d=n.destroyBaseTexture,f=d!==void 0&&d;s&&t.destroy({children:a,texture:c,baseTexture:f})}function hA(e,t,r){var n,i;_e(t!==r,"Cannot insert node before itself"),e.children.indexOf(t)!==-1&&e.removeChild(t);var s=e.getChildIndex(r);e.addChildAt(t,s),(n=e.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var cA=null,$n=OU({getRootHostContext:function(){return DU},getChildHostContext:function(e){return e},getChildHostContextForEventComponent:function(e){return e},getPublicInstance:function(e){return e},getCurrentEventPriority:function(){return function(){var e,t;if(typeof window>"u")return $a.DefaultEventPriority;switch((e=window)===null||e===void 0||(t=e.event)===null||t===void 0?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $a.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $a.ContinuousEventPriority;default:return $a.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=kU[e];if(typeof s=="function"&&(t=s(i,n)),!t){var o=AI[e];o&&((t=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(t):void 0,t.willUnmount=o.willUnmount?o.willUnmount.bind(t):void 0,t.applyProps=o.applyProps?o.applyProps.bind(t):void 0,t.config=o.config)}return t&&(t.__reactpixi={root:i},(typeof((r=t)===null||r===void 0?void 0:r.applyProps)=="function"?t.applyProps:bi)(t,{},n)),t},hideInstance:function(e){e.visible=!1},unhideInstance:function(e,t){var r=t==null||!t.hasOwnProperty("visible")||t.visible;e.visible=r},finalizeInitialChildren:function(e,t,r){return!1},prepareUpdate:function(e,t,r,n,i,s){return cA=function(o,a,u,c){var d=null;for(var f in u)!c.hasOwnProperty(f)&&u.hasOwnProperty(f)&&u[f]!==null&&(f===xv||(d||(d=[]),d.push(f,null)));for(var m in c){var g=c[m],v=u!==null?u[m]:void 0;!c.hasOwnProperty(m)||g===v||g===null&&v===null||m===xv||(d||(d=[]),d.push(m,g))}return d}(0,0,r,n)},shouldSetTextContent:function(e,t){return!1},shouldDeprioritizeSubtree:function(e,t){var r=t.alpha===void 0||t.alpha>0,n=t.renderable===void 0||t.renderable===!0,i=t.visible===void 0||t.visible===!0;return!(r&&n&&i)},createTextInstance:function(e,t,r){_e(!1,'Error trying to add text node "'.concat(e,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(e,t){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Av,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=my.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=my.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=my.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=uA.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=uA.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:hA,insertInContainerBefore:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=hA.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(e,t,r,n,i){var s,o,a=e&&e.applyProps;typeof a!="function"&&(a=bi),(a(e,n,i)||cA)&&((s=e.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(e,t,r,n,i){},commitTextUpdate:function(e,t,r){},resetTextContent:function(e){},clearContainer:function(e){},getFundamentalComponentInstance:function(e){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(e){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},getInstanceFromNode:function(e){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(e){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(e){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(e){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(e){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(e){}}),UU=EI.dependencies["react-dom"].replace(/[^0-9.]/g,""),$U=EI.name;$n.injectIntoDevTools({bundleType:0,version:UU,rendererPackageName:$U,findHostInstanceByFiber:$n.findHostInstance});var Os=new Map;function CI(e){if(_e(qr.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `Container`."),Os.has(e)){var t=Os.get(e).pixiFiberContainer;$n.updateContainer(null,t,void 0,function(){Os.delete(e)})}}function PI(e){_e(qr.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `Container`.");var t=Os.get(e);if(_e(!t,"createRoot should only be called once"),!t){var r=$n.createContainer(e);t={pixiFiberContainer:r,reactRoot:{render:function(n){return $n.updateContainer(n,r,void 0),$n.getPublicRootInstance(r)},unmount:function(){CI(e),Os.delete(e)}}},Os.set(e,t)}return t.reactRoot}function zU(e,t,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Os.has(t)?n=Os.get(t).reactRoot:n=PI(t),n.render(e)}function GU(e){CI(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(this,arguments)}function jU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wI(n.key),n)}}function Mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vf(e,t){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vf(e,t)}function WU(e,t){if(t&&(Xr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xf(e)}var Ip=cr.createContext(null),II=Ip.Provider,RI=Ip.Consumer,VU=function(e){var t=cr.forwardRef(function(r,n){return cr.createElement(RI,null,function(i){return cr.createElement(e,Ah({},r,{ref:n,app:i}))})});return t.displayName="withPIXIApp(".concat(e.displayName||e.name,")"),t};function XU(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Xf(e);if(t){var i=Xf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return WU(this,r)}}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var fA=function(){},MI={width:ne.number,height:ne.number,onMount:ne.func,onUnmount:ne.func,raf:ne.bool,renderOnComponentChange:ne.bool,children:ne.node,options:ne.shape({autoStart:ne.bool,width:ne.number,height:ne.number,useContextAlpha:ne.bool,backgroundAlpha:ne.number,autoDensity:ne.bool,antialias:ne.bool,preserveDrawingBuffer:ne.bool,resolution:ne.number,forceCanvas:ne.bool,backgroundColor:ne.number,clearBeforeRender:ne.bool,powerPreference:ne.string,sharedTicker:ne.bool,sharedLoader:ne.bool,resizeTo:function(e,t){var r=e[t];r&&_e(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Xr(r),", expect `window` or an `HTMLElement`."))},view:function(e,t,r){var n=e[t];n&&_e(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Xr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},YU={width:800,height:600,onMount:fA,onUnmount:fA,raf:!0,renderOnComponentChange:!0},Ev=function(e){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Vf(s,o)})(i,cr.Component);var t,r,n=XU(i);function i(){var s;jU(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return be(Mi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),be(Mi(s),"_mediaQuery",null),be(Mi(s),"_ticker",null),be(Mi(s),"_needsUpdate",!0),be(Mi(s),"app",null),be(Mi(s),"updateSize",function(){var c=s.props,d=c.width,f=c.height,m=c.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,f)}),be(Mi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),be(Mi(s),"renderStage",function(){var c=s.props,d=c.renderOnComponentChange;!c.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return t=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,c=s.options,d=s.raf,f=s.renderOnComponentChange;this.app=new Pp(gd(gd({width:a,height:u,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=$n.createContainer(this.app.stage),$n.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!d&&(this._ticker=new _r,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,c=this.props,d=c.width,f=c.height,m=c.raf,g=c.renderOnComponentChange,v=c.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===f&&s.width===d&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),$n.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===f&&s.raf===m&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return cr.createElement(II,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),$n.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(_e(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):cr.createElement("canvas",Ah({},(s=this.props,o=[].concat(qi(Object.keys(MI)),qi(Object.keys(wv))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,d){return gd(gd({},c),{},be({},d,s[d]))},{})),{ref:function(c){return a._canvas=c}}))}}])&&HU(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();Ev.propTypes=MI,Ev.defaultProps=YU;var qU=Ev;function kI(){var e=Ht.useContext(Ip);return _e(e instanceof Pp,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),e}function QU(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=kI();_e(typeof e=="function","`useTick` needs a callback function."),_e(r instanceof Pp,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Ht.useRef(null);Ht.useEffect(function(){n.current=e},[e]),Ht.useEffect(function(){if(t){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[t])}function KU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tv(e,t,r){return Tv=KU()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Vf(a,s.prototype),a},Tv.apply(null,arguments)}var ZU=["children","apply"];function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var JU=function(e,t){_e(Xr(t)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(t),n=function(i){var s=i.children,o=i.apply,a=Xs(i,ZU),u=Ht.useRef(Ht.useMemo(function(){return r.map(function(f){var m,g=(a==null||(m=a[f])===null||m===void 0?void 0:m.construct)||[];return Tv(t[f],qi(g))})},[r])),c=Ht.useMemo(function(){return r.reduce(function(f,m,g){return yd(yd({},f),{},be({},m,u.current[g]))},{})},[r]),d=Ht.useMemo(function(){return Object.keys(a).filter(SI(bI(r))).reduce(function(f,m){return yd(yd({},f),{},be({},m,a[m]))},{})},[a,r]);return r.forEach(function(f,m){return Object.assign(u.current[m],a[f])}),o&&function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return m.every(function(v){return typeof v=="function"})}(o)&&o.call(e,c),cr.createElement(e,Ah({},d,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:ne.node,apply:ne.func},n},t4=Br.BitmapText,e4=Br.Container,r4=Br.Graphics,n4=Br.NineSlicePlane,i4=Br.ParticleContainer,s4=Br.Sprite,o4=Br.AnimatedSprite,a4=Br.Text,l4=Br.TilingSprite,u4=Br.SimpleMesh,h4=Br.SimpleRope;const c4=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:o4,AppConsumer:RI,AppContext:Ip,AppProvider:II,BitmapText:t4,Container:e4,Graphics:r4,NineSlicePlane:n4,ParticleContainer:i4,PixiComponent:NU,PixiFiber:$n,SimpleMesh:u4,SimpleRope:h4,Sprite:s4,Stage:qU,TYPES:Br,Text:a4,TilingSprite:l4,applyDefaultProps:bi,createRoot:PI,eventHandlers:Wf,render:zU,unmountComponentAtNode:GU,useApp:kI,useTick:QU,withFilters:JU,withPixiApp:VU},Symbol.toStringTag,{value:"Module"})),d4=cE(c4);AC.exports=d4;var Gt=AC.exports,f4={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const mA=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const g=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(v=>v(t,g))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(f4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,i,u);return u},p4=e=>e?mA(e):mA;var NI={exports:{}},FI={},BI={exports:{}},LI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Ht;function m4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g4=typeof Object.is=="function"?Object.is:m4,y4=yl.useState,v4=yl.useEffect,_4=yl.useLayoutEffect,x4=yl.useDebugValue;function w4(e,t){var r=t(),n=y4({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return _4(function(){i.value=r,i.getSnapshot=t,gy(i)&&s({inst:i})},[e,r,t]),v4(function(){return gy(i)&&s({inst:i}),e(function(){gy(i)&&s({inst:i})})},[e]),x4(r),r}function gy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!g4(e,r)}catch{return!0}}function b4(e,t){return t()}var S4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b4:w4;LI.useSyncExternalStore=yl.useSyncExternalStore!==void 0?yl.useSyncExternalStore:S4;BI.exports=LI;var A4=BI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=Ht,E4=A4;function T4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C4=typeof Object.is=="function"?Object.is:T4,P4=E4.useSyncExternalStore,I4=Rp.useRef,R4=Rp.useEffect,M4=Rp.useMemo,k4=Rp.useDebugValue;FI.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=I4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=M4(function(){function u(g){if(!c){if(c=!0,d=g,g=n(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return f=v}return f=g}if(v=f,C4(d,g))return v;var x=n(g);return i!==void 0&&i(v,x)?v:(d=g,f=x)}var c=!1,d,f,m=r===void 0?null:r;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,r,n,i]);var a=P4(e,s[0],s[1]);return R4(function(){o.hasValue=!0,o.value=a},[a]),k4(a),a};NI.exports=FI;var N4=NI.exports;const F4=Ki(N4);var OI={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:B4}=cr,{useSyncExternalStoreWithSelector:L4}=F4;let gA=!1;const O4=e=>e;function D4(e,t=O4,r){(OI?"production":void 0)!=="production"&&r&&!gA&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gA=!0);const n=L4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return B4(n),n}const U4=e=>{(OI?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?p4(e):e,r=(n,i)=>D4(t,n,i);return Object.assign(r,t),r},Ji=e=>U4,$4={moveUp:["ArrowUp","w"],moveDown:["ArrowDown","s"],moveLeft:["ArrowLeft","a"],moveRight:["ArrowRight","d"],fire1:["z"," "],fire2:["x","Shift"],pause:["Escape"]},z4=e=>{e||(e=$4);const t=o_(r=>r.keyState);return{moveUp:e.moveUp.reduce((r,n)=>r||t[n],!1),moveDown:e.moveDown.reduce((r,n)=>r||t[n],!1),moveLeft:e.moveLeft.reduce((r,n)=>r||t[n],!1),moveRight:e.moveRight.reduce((r,n)=>r||t[n],!1),fire1:e.fire1.reduce((r,n)=>r||t[n],!1),fire2:e.fire2.reduce((r,n)=>r||t[n],!1),pause:e.pause.reduce((r,n)=>r||t[n],!1)}},o_=Ji()(e=>({keyState:{},setKeyState:(t,r)=>e(n=>({keyState:{...n.keyState,[t]:r}}))}));function G4(){return j4(),null}const j4=()=>{const[e]=o_(t=>[t.setKeyState]);Ht.useEffect(()=>{function t({key:n}){e(n,!0)}function r({key:n}){e(n,!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r)}},[e])},Yu=Ji()((e,t)=>({enemyMeta:{test:{id:"test",name:"Test Mob",hp:10,speed:4,damege:5,move:"player",exp:1}},loadEnemyMeta:()=>{},hps:{},hurts:{},toggleHurt:r=>{e(n=>({hurts:{...n.hurts,[r]:!n.hurts[r]}}))},debuffs:{},types:{},velocitys:{},positions:{},elites:[],addEnemies:r=>{const n={},i={},s={},o={},a={},u={};r.forEach(c=>{n[c.id]=c.hp??0,i[c.id]=!1,s[c.id]={x:0,y:0},o[c.id]=c.position??{x:0,y:0},a[c.id]=c.type,u[c.id]=[]}),e({hps:{...t().hps,...n},hurts:{...t().hurts,...i},debuffs:{...t().debuffs,...u},velocitys:{...t().velocitys,...s},positions:{...t().positions,...o},types:{...t().types,...a}})},updateEnemy:({id:r,hp:n,velocity:i,position:s,debuffs:o})=>{const a={...n!==void 0?{hps:{...t().hps,[r]:n}}:{},...i?{velocitys:{...t().velocitys,[r]:i}}:{},...s?{positions:{...t().positions,[r]:s}}:{},...o?{debuffs:{...t().debuffs,[r]:o}}:{}};e(a)},updateEnemies:r=>{const n={},i={},s={},o={};r.forEach(a=>{n[a.id]=a.hp??t().hps[a.id],i[a.id]=a.velocity??t().velocitys[a.id],s[a.id]=a.position??t().positions[a.id],o[a.id]=a.debuffs??t().debuffs[a.id]}),e({hps:{...t().hps,...n},debuffs:{...t().debuffs,...o},velocitys:{...t().velocitys,...i},positions:{...t().positions,...s}})},killEnemy:r=>{delete t().hps[r],delete t().velocitys[r],delete t().positions[r],delete t().types[r]},removeEnemy:r=>{delete t().hps[r],delete t().velocitys[r],delete t().positions[r],delete t().types[r]}})),DI=Ji()(e=>({gameover:!1,setGameover:t=>e({gameover:t})})),Dh=Ji()(e=>({x:0,y:0,setX:t=>e({x:t}),setY:t=>e({y:t})})),Uh=Ji()((e,t)=>({players:{},updatePlayerHp:(r,n)=>{e(i=>({players:{...i.players,[r]:{...i.players[r],hp:n}}}))},positions:{},setPosition:(r,n)=>{e(i=>({positions:{...i.positions,[r]:n}}))},addPlayer:r=>{e(n=>({players:{...n.players,[r.id]:r},positions:{...n.positions,[r.id]:r.pos??{x:0,y:0}}}))},removePlayer:r=>{delete t().players[r],delete t().positions[r]}})),UI=Ji()(e=>({setHurt:(t,r)=>e(n=>({...n,[t]:r}))})),a_=Ji()(e=>({score:0,setScore:t=>{e(typeof t=="function"?r=>({score:t(r.score)}):{score:t})}}));class H4{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(_r.system.add(this.tickerUpdate,this,ml.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(_r.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const bs=new H4;class Mp{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Mp.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new jt,this.page=new jt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Yf extends Mp{constructor(){super(...arguments),this.client=new jt,this.movement=new jt,this.offset=new jt,this.global=new jt,this.screen=new jt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,r,n,i,s,o,a,u,c,d,f,m,g,v,x){throw new Error("Method not implemented.")}}class kn extends Yf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class el extends Yf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}el.DOM_DELTA_PIXEL=0,el.DOM_DELTA_LINE=1,el.DOM_DELTA_PAGE=2;const W4=2048,V4=new jt,yy=new jt;class X4{constructor(t){this.dispatch=new Nh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,r){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:r,priority:0}),this.mappingTable[t].sort((n,i)=>n.priority-i.priority)}dispatchEvent(t,r){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,r),this.dispatch.emit(r||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const r=this.mappingTable[t.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,r){bs.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,V4.set(t,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(t,r){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,r),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,r,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{t.currentTarget=n[s],this.notifyTarget(t,o)})}propagationPath(t){const r=[t];for(let n=0;n<W4&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(t.parent),t=t.parent}return r.reverse(),r}hitTestMoveRecursive(t,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(bs.pauseUpdate=!1),t.interactiveChildren&&t.children){const d=t.children;for(let f=d.length-1;f>=0;f--){const m=d[f],g=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(t,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=t.isInteractive();(g.length>0||v)&&(v&&this._allInteractiveElements.push(t),g.push(t)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const u=this._isInteractive(r),c=t.isInteractive();return u&&c&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(t,n)&&i(t,n)?c?[t]:[]:null}hitTestRecursive(t,r,n,i,s){if(this._interactivePrune(t)||s(t,n))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(bs.pauseUpdate=!1),t.interactiveChildren&&t.children){const u=t.children;for(let c=u.length-1;c>=0;c--){const d=u[c],f=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const m=t.isInteractive();return(f.length>0||m)&&f.push(t),f}}}const o=this._isInteractive(r),a=t.isInteractive();return o&&i(t,n)?a?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,r){var n;if(t.hitArea&&(t.worldTransform.applyInverse(r,yy),!t.hitArea.contains(yy.x,yy.y)))return!0;if(t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(t,r){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(r):!1}notifyTarget(t,r){var s,o;r=r??t.type;const n=`on${r}`;(o=(s=t.currentTarget)[n])==null||o.call(s,t);const i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${r}capture`:r;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,r)}mapPointerDown(t){if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(t){var u,c;if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const d=t.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(t,d,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(t,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}if(s!==r.target){const d=t.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,d);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(t){var o;if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.createPointerEvent(t),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(t){if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId);if(r.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(t,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(t,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(t){if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[t.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[t.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[t.button]||(i.clicksByButton[t.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[t.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[t.button]),i=this.createPointerEvent(t);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[t.button]}this.freeEvent(i)}mapWheel(t){if(!(t instanceof el)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(t);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(t){if(!t)return null;let r=t[0];for(let n=1;n<t.length&&t[n].parent===r;n++)r=t[n];return r}createPointerEvent(t,r,n){const i=this.allocateEvent(kn);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(t){const r=this.allocateEvent(el);return this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(t,r){const n=this.allocateEvent(kn);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=r??n.type,n}copyWheelData(t,r){r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ}copyPointerData(t,r){t instanceof kn&&r instanceof kn&&(r.pointerId=t.pointerId,r.width=t.width,r.height=t.height,r.isPrimary=t.isPrimary,r.pointerType=t.pointerType,r.pressure=t.pressure,r.tangentialPressure=t.tangentialPressure,r.tiltX=t.tiltX,r.tiltY=t.tiltY,r.twist=t.twist)}copyMouseData(t,r){t instanceof Yf&&r instanceof Yf&&(r.altKey=t.altKey,r.button=t.button,r.buttons=t.buttons,r.client.copyFrom(t.client),r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.movement.copyFrom(t.movement),r.screen.copyFrom(t.screen),r.shiftKey=t.shiftKey,r.global.copyFrom(t.global))}copyData(t,r){r.isTrusted=t.isTrusted,r.srcElement=t.srcElement,r.timeStamp=performance.now(),r.type=t.type,r.detail=t.detail,r.view=t.view,r.which=t.which,r.layer.copyFrom(t.layer),r.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const r=this.eventPool.get(t).pop()||new t(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=t.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(t)}notifyListeners(t,r){const n=t.currentTarget._events[r];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let i=0,s=n.length;i<s&&!t.propagationImmediatelyStopped;i++)n[i].once&&t.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,t)}}const Y4=1,q4={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Cv=class Pv{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new X4(null),bs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new kn(null),this.rootWheelEvent=new el(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Pv.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Pv._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(t);this.autoPreventDefault&&r[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,bs.pointerMoved();const r=this.normalizeToPointerData(t);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=t.target;t.composedPath&&t.composedPath().length>0&&(r=t.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(t);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(t);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(t){this.removeEvents(),this.domElement=t,bs.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;bs.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;bs.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;t.x=(r-i.left)*(this.domElement.width/i.width)*s,t.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(t){const r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,i=t.changedTouches.length;n<i;n++){const s=t.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,r.push(s)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Y4),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(t);return r}normalizeWheelEvent(t){const r=this.rootWheelEvent;return this.transferMouseData(r,t),r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ,r.deltaMode=t.deltaMode,this.mapPositionToPoint(r.screen,t.clientX,t.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=t,r.type=t.type,r}bootstrapEvent(t,r){return t.originalEvent=null,t.nativeEvent=r,t.pointerId=r.pointerId,t.width=r.width,t.height=r.height,t.isPrimary=r.isPrimary,t.pointerType=r.pointerType,t.pressure=r.pressure,t.tangentialPressure=r.tangentialPressure,t.tiltX=r.tiltX,t.tiltY=r.tiltY,t.twist=r.twist,this.transferMouseData(t,r),this.mapPositionToPoint(t.screen,r.clientX,r.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=r.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=q4[t.type]||t.type),t}transferMouseData(t,r){t.isTrusted=r.isTrusted,t.srcElement=r.srcElement,t.timeStamp=performance.now(),t.type=r.type,t.altKey=r.altKey,t.button=r.button,t.buttons=r.buttons,t.client.x=r.clientX,t.client.y=r.clientY,t.ctrlKey=r.ctrlKey,t.metaKey=r.metaKey,t.movement.x=r.movementX,t.movement.y=r.movementY,t.page.x=r.pageX,t.page.y=r.pageY,t.relatedTarget=null,t.shiftKey=r.shiftKey}};Cv.extension={name:"events",type:[ht.RendererSystem,ht.CanvasRendererSystem]},Cv.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Iv=Cv;xt.add(Iv);function yA(e){return e==="dynamic"||e==="static"}const Q4={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??yA(Iv.defaultEventMode)},set interactive(e){Ot("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Iv.defaultEventMode},set eventMode(e){this._internalInteractive=yA(e),this._internalEventMode=e},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof t=="function"?void 0:t;e=n?`${e}capture`:e;const a=typeof t=="function"?t:t.handleEvent,u=this;i&&i.addEventListener("abort",()=>{u.off(e,a,o)}),s?u.once(e,a,o):u.on(e,a,o)},removeEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof t=="function"?void 0:t;e=n?`${e}capture`:e,t=typeof t=="function"?t:t.handleEvent,this.off(e,t,i)},dispatchEvent(e){if(!(e instanceof Mp))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};zs.mixin(Q4);var K4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z4=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;class $I extends Po{constructor(t){super(K4,Z4),this.gamma=1,this.saturation=1,this.contrast=1,this.brightness=1,this.red=1,this.green=1,this.blue=1,this.alpha=1,Object.assign(this,t)}apply(t,r,n,i){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,t.applyFilter(this,r,n,i)}}const zI=.2,vA=20,pn=800,pi=600,qf=60,Qf=30;function l_(e){const t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/t,y:e.y/t}}function J4(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function Rv(e,t){return{x:e.x+t.x,y:e.y+t.y}}function GI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kf(e,t){return{x:e.x*t,y:e.y*t}}function _A(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function t$(e,t){const r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);return i<e.radiusOut+t.radius&&i>e.radiusIn-t.radius}function jI({color:e,...t}){return Ht.useCallback(r=>{r.clear(),r.lineStyle(1,e??255,1),r.drawCircle(0,0,Qf)},[e]),null}function e$(e){const t=Ht.useCallback(r=>{r.clear(),r.lineStyle(1,0,1),r.beginFill(13750737),r.drawRoundedRect(-25,0,50,6,4),r.beginFill(e.color),r.lineStyle(),r.drawRoundedRect(-25,1,e.current/e.max*50,5,4),r.endFill()},[e]);return _t.jsx(Gt.Graphics,{x:e.x,y:e.y,draw:t})}const r$=Gt.withFilters(Gt.Container,{adjust:$I}),xA={red:{brightness:1.2,red:2,blue:.5,green:.5},normal:{brightness:1,red:1,blue:1,green:1}},n$="/assets/chara.png";function i$({id:e}){const t=z4(),[r,n]=Ht.useState(!1),[i,s,o,a]=Uh(g=>[g.players[e],g.positions[e],g.setPosition,g.updatePlayerHp]),[u,c]=UI(g=>[g[e],g.setHurt]),[d,f]=Dh(g=>[g.setX,g.setY]),m=DI(g=>g.setGameover);return Gt.useTick((g,v)=>{let x=0,A=0;if(t.moveLeft&&(x-=1),t.moveRight&&(x+=1),t.moveUp&&(A-=1),t.moveDown&&(A+=1),x===0&&A===0)return;const b=l_({x,y:A}),S=i.speed*g*zI,w=Kf(b,S);o(e,Rv(s,w)),d(s.x-w.x),f(s.y-w.y),u&&!r&&(n(!0),a(e,i.hp-u),setTimeout(()=>{n(!1),c(e,0),console.log(i.hp)},300)),i.hp<=0&&(v.stop(),m(!0))}),i?_t.jsxs(r$,{adjust:r?xA.red:xA.normal,children:[_t.jsx(Gt.Sprite,{interactive:!0,image:n$,width:qf,height:qf,x:pn/2,y:pi/2,anchor:.5}),_t.jsx(e$,{x:pn/2,y:pi/2+30,max:i.maxHp,current:i.hp,color:16711680}),_t.jsx(jI,{x:pn/2,y:pi/2})]}):null}var s$=function(){};function HI(e,t,r){var n=Ht.useRef(s$);Ht.useEffect(function(){n.current=e}),Ht.useEffect(function(){},[r]),Ht.useEffect(function(){if(!(t===null||t===!1)){var i=function(){return n.current()},s=setInterval(i,t);return function(){return clearInterval(s)}}},[t])}let vd;const o$=new Uint8Array(16);function a$(){if(!vd&&(vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vd(o$)}const Ye=[];for(let e=0;e<256;++e)Ye.push((e+256).toString(16).slice(1));function l$(e,t=0){return Ye[e[t+0]]+Ye[e[t+1]]+Ye[e[t+2]]+Ye[e[t+3]]+"-"+Ye[e[t+4]]+Ye[e[t+5]]+"-"+Ye[e[t+6]]+Ye[e[t+7]]+"-"+Ye[e[t+8]]+Ye[e[t+9]]+"-"+Ye[e[t+10]]+Ye[e[t+11]]+Ye[e[t+12]]+Ye[e[t+13]]+Ye[e[t+14]]+Ye[e[t+15]]}const u$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wA={randomUUID:u$};function h$(e,t,r){if(wA.randomUUID&&!t&&!e)return wA.randomUUID();e=e||{};const n=e.random||(e.rng||a$)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,l$(n)}const WI=Ji()(e=>({speed:1,setSpeed:t=>{e(typeof t=="number"?{speed:t}:r=>({speed:t(r.speed)}))}})),c$=Gt.withFilters(Gt.Container,{adjust:$I}),bA={red:{brightness:1.2,red:2,blue:.5,green:.5},normal:{brightness:1,red:1,blue:1,green:1}};function d$(){const[e,t]=Yu(s=>[s.hps,s.addEnemies]),[r,n]=Dh(s=>[s.x,s.y]),i=a_(s=>s.score);return HI(()=>{if(Object.keys(e).length<vA){const s=Math.round(i/50),o={hp:s*6+Math.round(Math.random()*s*4),type:"test"},a=new Array(vA-Object.keys(e).length).fill(o).map(u=>{const c=Math.random()>.5,d=Math.random()>.5;let f=0,m=0;return c?(m=n-pi*.5+Math.random()*pi+100,d?f=r-pn/2-50:f=r+pn/2+50):(f=r-pn*.5+Math.random()*pn+100,d?m=n-pi/2-50:m=n+pi/2+50),{...u,position:{x:f,y:m},id:h$()}});t(a)}},1e3),_t.jsx(_t.Fragment,{children:Object.keys(e).map(s=>_t.jsx(f$,{id:s},s))})}function f$({id:e}){const[t,r]=Ht.useState(!1),[n,i]=Dh(C=>[C.x,C.y]),[s,o]=UI(C=>[C.star,C.setHurt]),[a,u,c,d,f,m,g,v,x]=Yu(C=>[C.hps[e],C.velocitys[e],C.positions[e],C.types[e],C.elites,C.updateEnemy,C.killEnemy,C.removeEnemy,C.enemyMeta]),[A,b]=Yu(C=>[C.hurts[e],C.toggleHurt]),S=a_(C=>C.setScore),w=WI(C=>C.speed),T=Yu(C=>C.enemyMeta[d]);Gt.useTick(C=>{if(a<=0){g(e),S(H=>H+5);return}const I={x:n,y:i},B=_A(c,I);if(B>500&&!f.includes(e)){v(e);return}A&&!t&&(r(!0),setTimeout(()=>{r(!1),b(e)},150)),B<Qf&&(s||o("star",x[d].damege));const F=l_(GI(I,c)),Y=T.speed*C*zI*w,J=Kf(F,Y),U=J4(u),D=U>0?Rv(J,u):J;U>.02?m({id:e,velocity:Kf(u,.8)}):U<.02&&U>0&&m({id:e,velocity:{x:0,y:0}});let z=Rv(c,D);_A(I,z)<Qf&&(z=c),m({id:e,position:z})});const M=c.x-n+pn*.5,N=c.y-i+pi*.5;return _t.jsxs(c$,{adjust:t?bA.red:bA.normal,children:[_t.jsx(Gt.Sprite,{image:"/assets/ren_normal.png",width:qf,height:qf,x:M,y:N,anchor:.5}),_t.jsx(jI,{x:M,y:N,color:16711680})]})}const p$={id:"extinguisher",baseDamage:10,baseDelay:1e3,strength:5},m$={id:"arrow",baseDamage:5,baseDelay:1e3,strength:10},g$={extinguisher:p$,arrow:m$},kp=Ji()(e=>({meta:g$,levels:{extinguisher:1,arrow:0},cooldown:{extinguisher:0,arrow:0},updateCooldown:(t,r)=>{e(n=>({...n,cooldown:{...n.cooldown,[t]:r}}))},resetCooldown:t=>{e(r=>({...r,cooldown:{...r.cooldown,[t]:0}}))},upgrade:t=>{e(r=>({levels:{...r.levels,[t]:r.levels[t]+1}}))}})),y$={iceBlue:"#78C8EC",fireRed:"#EF4F42",windGreen:"#9CE3B2",thunder:"#D66EEF",iNoYellow:"#F8E75E",quantum:"#756ED0",physics:"#D1D1D1"},v$={elements:y$},_$=Gt.withFilters(Gt.Container,{}),vy=60,SA=5,x$=10,_y=e=>1+(e-1)*.2;function w$({id:e}){const[t,r]=Uh(g=>[g.players[e],g.positions[e]]),[n,i,s,o]=kp(g=>[g.cooldown.extinguisher,g.meta.extinguisher,g.levels.extinguisher,g.updateCooldown]),[a,u,c,d,f]=Yu(g=>[g.positions,g.hps,g.updateEnemies,g.hurts,g.toggleHurt]),m=Ht.useCallback(g=>{const v=v$.elements,x=_y(s);g.clear(),g.lineStyle(x$*x,v.iceBlue,Math.sin(n/1e3)*.8+.2),g.drawCircle(0,0,vy*x)},[n,s]);return Gt.useTick((g,v)=>{if(n>0){o("extinguisher",n-v.deltaMS);return}const A=Object.keys(a).reduce((b,S)=>{const w=a[S],T=_y(s);return t$({...r,radiusIn:(vy-SA)*T,radiusOut:(vy+SA)*T},{...w,radius:Qf})&&b.push(S),b},[]).map(b=>{const S=Kf(l_(GI(a[b],r)),i.strength);d[b]||f(b);const w=_y(s);return{id:b,hp:u[b]-i.baseDamage*t.strength*w,velocity:S}});c(A),o("extinguisher",i.baseDelay*t.cooldown)}),_t.jsx(_$,{children:_t.jsx(Gt.Graphics,{draw:m})})}function b$({playerId:e}){const t=Uh(i=>i.positions[e]),r=Dh(i=>({x:i.x,y:i.y})),n=kp(i=>i.levels);return _t.jsx(Gt.Container,{x:r.x-t.x+pn*.5,y:r.y-t.y+pi*.5,children:Object.entries(n).map(([i,s])=>{const o=S$(i);if(o&&s>0)return _t.jsx(o,{id:e},i)}).filter(Boolean)})}function S$(e){switch(e){case"extinguisher":return w$;case"arrow":return null}}var VI={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ga,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",c="day",d="week",f="month",m="quarter",g="year",v="date",x="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var z=["th","st","nd","rd"],H=D%100;return"["+D+(z[(H-20)%10]||z[H]||z[0])+"]"}},w=function(D,z,H){var W=String(D);return!W||W.length>=z?D:""+Array(z+1-W.length).join(H)+D},T={s:w,z:function(D){var z=-D.utcOffset(),H=Math.abs(z),W=Math.floor(H/60),R=H%60;return(z<=0?"+":"-")+w(W,2,"0")+":"+w(R,2,"0")},m:function D(z,H){if(z.date()<H.date())return-D(H,z);var W=12*(H.year()-z.year())+(H.month()-z.month()),R=z.clone().add(W,f),L=H-R<0,k=z.clone().add(W+(L?-1:1),f);return+(-(W+(H-R)/(L?R-k:k-R))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:g,w:d,d:c,D:v,h:u,m:a,s:o,ms:s,Q:m}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},M="en",N={};N[M]=S;var C="$isDayjsObject",I=function(D){return D instanceof J||!(!D||!D[C])},B=function D(z,H,W){var R;if(!z)return M;if(typeof z=="string"){var L=z.toLowerCase();N[L]&&(R=L),H&&(N[L]=H,R=L);var k=z.split("-");if(!R&&k.length>1)return D(k[0])}else{var G=z.name;N[G]=z,R=G}return!W&&R&&(M=R),R||!W&&M},F=function(D,z){if(I(D))return D.clone();var H=typeof z=="object"?z:{};return H.date=D,H.args=arguments,new J(H)},Y=T;Y.l=B,Y.i=I,Y.w=function(D,z){return F(D,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var J=function(){function D(H){this.$L=B(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[C]=!0}var z=D.prototype;return z.parse=function(H){this.$d=function(W){var R=W.date,L=W.utc;if(R===null)return new Date(NaN);if(Y.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var k=R.match(A);if(k){var G=k[2]-1||0,V=(k[7]||"0").substring(0,3);return L?new Date(Date.UTC(k[1],G,k[3]||1,k[4]||0,k[5]||0,k[6]||0,V)):new Date(k[1],G,k[3]||1,k[4]||0,k[5]||0,k[6]||0,V)}}return new Date(R)}(H),this.init()},z.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},z.$utils=function(){return Y},z.isValid=function(){return this.$d.toString()!==x},z.isSame=function(H,W){var R=F(H);return this.startOf(W)<=R&&R<=this.endOf(W)},z.isAfter=function(H,W){return F(H)<this.startOf(W)},z.isBefore=function(H,W){return this.endOf(W)<F(H)},z.$g=function(H,W,R){return Y.u(H)?this[W]:this.set(R,H)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(H,W){var R=this,L=!!Y.u(W)||W,k=Y.p(H),G=function(Rt,Et){var gt=Y.w(R.$u?Date.UTC(R.$y,Et,Rt):new Date(R.$y,Et,Rt),R);return L?gt:gt.endOf(c)},V=function(Rt,Et){return Y.w(R.toDate()[Rt].apply(R.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(Et)),R)},ot=this.$W,st=this.$M,yt=this.$D,pt="set"+(this.$u?"UTC":"");switch(k){case g:return L?G(1,0):G(31,11);case f:return L?G(1,st):G(0,st+1);case d:var bt=this.$locale().weekStart||0,Ft=(ot<bt?ot+7:ot)-bt;return G(L?yt-Ft:yt+(6-Ft),st);case c:case v:return V(pt+"Hours",0);case u:return V(pt+"Minutes",1);case a:return V(pt+"Seconds",2);case o:return V(pt+"Milliseconds",3);default:return this.clone()}},z.endOf=function(H){return this.startOf(H,!1)},z.$set=function(H,W){var R,L=Y.p(H),k="set"+(this.$u?"UTC":""),G=(R={},R[c]=k+"Date",R[v]=k+"Date",R[f]=k+"Month",R[g]=k+"FullYear",R[u]=k+"Hours",R[a]=k+"Minutes",R[o]=k+"Seconds",R[s]=k+"Milliseconds",R)[L],V=L===c?this.$D+(W-this.$W):W;if(L===f||L===g){var ot=this.clone().set(v,1);ot.$d[G](V),ot.init(),this.$d=ot.set(v,Math.min(this.$D,ot.daysInMonth())).$d}else G&&this.$d[G](V);return this.init(),this},z.set=function(H,W){return this.clone().$set(H,W)},z.get=function(H){return this[Y.p(H)]()},z.add=function(H,W){var R,L=this;H=Number(H);var k=Y.p(W),G=function(st){var yt=F(L);return Y.w(yt.date(yt.date()+Math.round(st*H)),L)};if(k===f)return this.set(f,this.$M+H);if(k===g)return this.set(g,this.$y+H);if(k===c)return G(1);if(k===d)return G(7);var V=(R={},R[a]=n,R[u]=i,R[o]=r,R)[k]||1,ot=this.$d.getTime()+H*V;return Y.w(ot,this)},z.subtract=function(H,W){return this.add(-1*H,W)},z.format=function(H){var W=this,R=this.$locale();if(!this.isValid())return R.invalidDate||x;var L=H||"YYYY-MM-DDTHH:mm:ssZ",k=Y.z(this),G=this.$H,V=this.$m,ot=this.$M,st=R.weekdays,yt=R.months,pt=R.meridiem,bt=function(Et,gt,St,Tt){return Et&&(Et[gt]||Et(W,L))||St[gt].slice(0,Tt)},Ft=function(Et){return Y.s(G%12||12,Et,"0")},Rt=pt||function(Et,gt,St){var Tt=Et<12?"AM":"PM";return St?Tt.toLowerCase():Tt};return L.replace(b,function(Et,gt){return gt||function(St){switch(St){case"YY":return String(W.$y).slice(-2);case"YYYY":return Y.s(W.$y,4,"0");case"M":return ot+1;case"MM":return Y.s(ot+1,2,"0");case"MMM":return bt(R.monthsShort,ot,yt,3);case"MMMM":return bt(yt,ot);case"D":return W.$D;case"DD":return Y.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return bt(R.weekdaysMin,W.$W,st,2);case"ddd":return bt(R.weekdaysShort,W.$W,st,3);case"dddd":return st[W.$W];case"H":return String(G);case"HH":return Y.s(G,2,"0");case"h":return Ft(1);case"hh":return Ft(2);case"a":return Rt(G,V,!0);case"A":return Rt(G,V,!1);case"m":return String(V);case"mm":return Y.s(V,2,"0");case"s":return String(W.$s);case"ss":return Y.s(W.$s,2,"0");case"SSS":return Y.s(W.$ms,3,"0");case"Z":return k}return null}(Et)||k.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(H,W,R){var L,k=this,G=Y.p(W),V=F(H),ot=(V.utcOffset()-this.utcOffset())*n,st=this-V,yt=function(){return Y.m(k,V)};switch(G){case g:L=yt()/12;break;case f:L=yt();break;case m:L=yt()/3;break;case d:L=(st-ot)/6048e5;break;case c:L=(st-ot)/864e5;break;case u:L=st/i;break;case a:L=st/n;break;case o:L=st/r;break;default:L=st}return R?L:Y.a(L)},z.daysInMonth=function(){return this.endOf(f).$D},z.$locale=function(){return N[this.$L]},z.locale=function(H,W){if(!H)return this.$L;var R=this.clone(),L=B(H,W,!0);return L&&(R.$L=L),R},z.clone=function(){return Y.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},D}(),U=J.prototype;return F.prototype=U,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",c],["$M",f],["$y",g],["$D",v]].forEach(function(D){U[D[1]]=function(z){return this.$g(z,D[0],D[1])}}),F.extend=function(D,z){return D.$i||(D(z,J,F),D.$i=!0),F},F.locale=B,F.isDayjs=I,F.unix=function(D){return F(1e3*D)},F.en=N[M],F.Ls=N,F.p={},F})})(VI);var A$=VI.exports;const XI=Ki(A$),E$="modulepreload",T$=function(e){return"/"+e},AA={},YI=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=T$(a),a in AA)return;AA[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":E$,u||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Ct=(e=>(e.Application="application",e.WebGLPipes="webgl-pipes",e.WebGLPipesAdaptor="webgl-pipes-adaptor",e.WebGLSystem="webgl-system",e.WebGPUPipes="webgpu-pipes",e.WebGPUPipesAdaptor="webgpu-pipes-adaptor",e.WebGPUSystem="webgpu-system",e.CanvasSystem="canvas-system",e.CanvasPipesAdaptor="canvas-pipes-adaptor",e.CanvasPipes="canvas-pipes",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e.MaskEffect="mask-effect",e.BlendMode="blend-mode",e.TextureSource="texture-source",e.Environment="environment",e))(Ct||{});const Mv=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},_d=(e,t)=>Mv(e).priority??t,xi={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(Mv).forEach(t=>{t.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,t)})}),this},add(...e){return e.map(Mv).forEach(t=>{t.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(o=n[r])==null||o.call(n,t):(i[r]=i[r]||[],(s=i[r])==null||s.push(t))})}),this},handle(e,t,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const s=this._queue;return s[e]&&((o=s[e])==null||o.forEach(a=>t(a)),delete s[e]),this},handleByMap(e,t){return this.handle(e,r=>{r.name&&(t[r.name]=r.ref)},r=>{r.name&&delete t[r.name]})},handleByNamedList(e,t,r=-1){return this.handle(e,n=>{t.findIndex(s=>s.name===n.name)>=0||(t.push({name:n.name,value:n.ref}),t.sort((s,o)=>_d(o.value,r)-_d(s.value,r)))},n=>{const i=t.findIndex(s=>s.name===n.name);i!==-1&&t.splice(i,1)})},handleByList(e,t,r=-1){return this.handle(e,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((i,s)=>_d(s,r)-_d(i,r)))},n=>{const i=t.indexOf(n.ref);i!==-1&&t.splice(i,1)})}},C$={extension:{type:Ct.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await YI(()=>import("./browserAll-CmEXrioD.js"),__vite__mapDeps([0,1]))}},P$={extension:{type:Ct.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await YI(()=>import("./webworkerAll-DWbmyWte.js"),[])}};class Hr{constructor(t,r,n){this._x=r||0,this._y=n||0,this._observer=t}clone(t){return new Hr(t??this._observer,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var qI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||u,m),v=r?r+c:c;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,v=new Array(g);m<g;m++)v[m]=f[m].fn;return v},a.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,m,g,v){var x=r?r+c:c;if(!this._events[x])return!1;var A=this._events[x],b=arguments.length,S,w;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),b){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,f),!0;case 4:return A.fn.call(A.context,d,f,m),!0;case 5:return A.fn.call(A.context,d,f,m,g),!0;case 6:return A.fn.call(A.context,d,f,m,g,v),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];A.fn.apply(A.context,S)}else{var T=A.length,M;for(w=0;w<T;w++)switch(A[w].once&&this.removeListener(c,A[w].fn,void 0,!0),b){case 1:A[w].fn.call(A[w].context);break;case 2:A[w].fn.call(A[w].context,d);break;case 3:A[w].fn.call(A[w].context,d,f);break;case 4:A[w].fn.call(A[w].context,d,f,m);break;default:if(!S)for(M=1,S=new Array(b-1);M<b;M++)S[M-1]=arguments[M];A[w].fn.apply(A[w].context,S)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,m){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var x=0,A=[],b=v.length;x<b;x++)(v[x].fn!==d||m&&!v[x].once||f&&v[x].context!==f)&&A.push(v[x]);A.length?this._events[g]=A.length===1?A[0]:A:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(qI);var I$=qI.exports;const Xo=Ki(I$),R$=Math.PI*2,M$=180/Math.PI,k$=Math.PI/180;class hr{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new hr(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return xy.x=0,xy.y=0,xy}}const xy=new hr;class Qt{constructor(t=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,n,i,s,o){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,r){r=r||new hr;const n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(t,r){r=r||new hr;const n=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,u=this.ty,c=1/(n*o+s*-i),d=t.x,f=t.y;return r.x=o*c*d+-s*c*f+(u*s-a*o)*c,r.y=n*c*f+-i*c*d+(-u*n+a*i)*c,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(t){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this}appendFrom(t,r){const n=t.a,i=t.b,s=t.c,o=t.d,a=t.tx,u=t.ty,c=r.a,d=r.b,f=r.c,m=r.d;return this.a=n*c+i*f,this.b=n*d+i*m,this.c=s*c+o*f,this.d=s*d+o*m,this.tx=a*c+u*f+r.tx,this.ty=a*d+u*m+r.ty,this}setTransform(t,r,n,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,n=this.b,i=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(R$-c)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=u),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(o.x*r+o.y*i),t.position.y=this.ty+(o.x*n+o.y*s),t}invert(){const t=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=t*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(t*this.ty-r*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Qt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return F$.identity()}static get shared(){return N$.identity()}}const N$=new Qt,F$=new Qt,_o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],bo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kv=[],QI=[],xd=Math.sign;function B$(){for(let e=0;e<16;e++){const t=[];kv.push(t);for(let r=0;r<16;r++){const n=xd(_o[e]*_o[r]+wo[e]*xo[r]),i=xd(xo[e]*_o[r]+bo[e]*xo[r]),s=xd(_o[e]*wo[r]+wo[e]*bo[r]),o=xd(xo[e]*wo[r]+bo[e]*bo[r]);for(let a=0;a<16;a++)if(_o[a]===n&&xo[a]===i&&wo[a]===s&&bo[a]===o){t.push(a);break}}}for(let e=0;e<16;e++){const t=new Qt;t.set(_o[e],xo[e],wo[e],bo[e],0,0),QI.push(t)}}B$();const ce={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>_o[e],uY:e=>xo[e],vX:e=>wo[e],vY:e=>bo[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>kv[e][t],sub:(e,t)=>kv[e][ce.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?ce.S:ce.N:Math.abs(t)*2<=Math.abs(e)?e>0?ce.E:ce.W:t>0?e>0?ce.SE:ce.SW:e>0?ce.NE:ce.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=QI[ce.inv(t)];i.tx=r,i.ty=n,e.append(i)}},wd=[new hr,new hr,new hr,new hr];class Ke{constructor(t=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Ke(0,0,0,0)}clone(){return new Ke(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(t,r,n){const{width:i,height:s}=this;if(i<=0||s<=0)return!1;const o=this.x,a=this.y,u=o-n/2,c=o+i+n/2,d=a-n/2,f=a+s+n/2,m=o+n/2,g=o+i-n/2,v=a+n/2,x=a+s-n/2;return t>=u&&t<=c&&r>=d&&r<=f&&!(t>m&&t<g&&r>v&&r<x)}intersects(t,r){if(!r){const I=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=I)return!1;const F=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>F}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=wd[0].set(t.left,t.top),u=wd[1].set(t.left,t.bottom),c=wd[2].set(t.right,t.top),d=wd[3].set(t.right,t.bottom);if(c.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(u,u),r.apply(c,c),r.apply(d,d),Math.max(a.x,u.x,c.x,d.x)<=n||Math.min(a.x,u.x,c.x,d.x)>=i||Math.max(a.y,u.y,c.y,d.y)<=s||Math.min(a.y,u.y,c.y,d.y)>=o))return!1;const m=f*(u.y-a.y),g=f*(a.x-u.x),v=m*n+g*s,x=m*i+g*s,A=m*n+g*o,b=m*i+g*o;if(Math.max(v,x,A,b)<=m*a.x+g*a.y||Math.min(v,x,A,b)>=m*d.x+g*d.y)return!1;const S=f*(a.y-c.y),w=f*(c.x-a.x),T=S*n+w*s,M=S*i+w*s,N=S*n+w*o,C=S*i+w*o;return!(Math.max(T,M,N,C)<=S*a.x+w*a.y||Math.min(T,M,N,C)>=S*d.x+w*d.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(t=1,r=.001){const n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}getBounds(t){return t=t||new Ke,t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const wy={default:-1};function Ze(e="default"){return wy[e]===void 0&&(wy[e]=-1),++wy[e]}const EA={},Go="8.0.0";function jo(e,t,r=3){if(EA[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(n))),EA[t]=!0}const KI=()=>{};function LG(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function TA(e){return!(e&e-1)&&!!e}function L$(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}const CA=Object.create(null);function O$(e){const t=CA[e];return t===void 0&&(CA[e]=Ze("resource")),t}const ZI=class JI extends Xo{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...JI.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){jo(Go,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=O$(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};ZI.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let D$=ZI;const tR=class eR extends Xo{constructor(t={}){super(),this.options=t,this.uid=Ze("textureSource"),this._resourceType="textureSource",this._resourceId=Ze("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...eR.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new D$(L$(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var r,n;this.style!==t&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=t,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ze("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,r,n){n=n||this._resolution,t=t||this.width,r=r||this.height;const i=Math.round(t*n),s=Math.round(r*n);return this.width=i/n,this.height=s/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=Ze("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=TA(this.pixelWidth)&&TA(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};tR.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ys=tR;class u_ extends Ys{constructor(t){const r=t.resource||new Float32Array(t.width*t.height*4);let n=t.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...t,resource:r,format:n}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}u_.extension=Ct.TextureSource;const PA=new Qt;class U${constructor(t,r){this.mapCoord=new Qt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var r;this.texture!==t&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,r){r===void 0&&(r=t);const n=this.mapCoord;for(let i=0;i<t.length;i+=2){const s=t[i],o=t[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(){const t=this._texture;this._updateID++;const r=t.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=t.orig,i=t.trim;i&&(PA.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(PA));const s=t.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,u=this.clampOffset;return o[0]=(t.frame.x+a+u)/s.width,o[1]=(t.frame.y+a+u)/s.height,o[2]=(t.frame.x+t.frame.width-a+u)/s.width,o[3]=(t.frame.y+t.frame.height-a+u)/s.height,this.uClampOffset[0]=u/s.pixelWidth,this.uClampOffset[1]=u/s.pixelHeight,this.isSimple=t.frame.width===s.width&&t.frame.height===s.height&&t.rotate===0,!0}}class Kt extends Xo{constructor({source:t,label:r,frame:n,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:u,dynamic:c}={}){if(super(),this.uid=Ze("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Ke,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(t==null?void 0:t.source)??new Ys,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:d,height:f}=this._source;this.frame.width=d,this.frame.height=f}this.orig=i||this.frame,this.trim=s,this.rotate=u??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new U$(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:r}=this,{width:n,height:i}=this._source,s=r.x/n,o=r.y/i,a=r.width/n,u=r.height/i;let c=this.rotate;if(c){const d=a/2,f=u/2,m=s+d,g=o+f;c=ce.add(c,ce.NW),t.x0=m+d*ce.uX(c),t.y0=g+f*ce.uY(c),c=ce.add(c,2),t.x1=m+d*ce.uX(c),t.y1=g+f*ce.uY(c),c=ce.add(c,2),t.x2=m+d*ce.uX(c),t.y2=g+f*ce.uY(c),c=ce.add(c,2),t.x3=m+d*ce.uX(c),t.y3=g+f*ce.uY(c)}else t.x0=s,t.y0=o,t.x1=s+a,t.y1=o,t.x2=s+a,t.y2=o+u,t.x3=s,t.y3=o+u}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return jo(Go,"Texture.baseTexture is now Texture.source"),this._source}}Kt.EMPTY=new Kt({label:"EMPTY",source:new Ys({label:"EMPTY"})});Kt.EMPTY.destroy=KI;Kt.WHITE=new Kt({source:new u_({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Kt.WHITE.destroy=KI;function $$(e,t,r,n){const{width:i,height:s}=r.orig,o=r.trim;if(o){const a=o.width,u=o.height;e.minX=o.x-t._x*i-n,e.maxX=e.minX+a,e.minY=o.y-t._y*s-n,e.maxY=e.minY+u}else e.minX=-t._x*i-n,e.maxX=e.minX+i,e.minY=-t._y*s-n,e.maxY=e.minY+s}tP([eP]);const vl=class Ru{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ru)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._normalize(t),this._value=this._cloneSource(t))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,r){const n=typeof t;if(n!==typeof r)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===r;if(Array.isArray(t)&&Array.isArray(r)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(r))return t.length!==r.length?!1:t.every((s,o)=>s===r[o]);if(t!==null&&r!==null){const s=Object.keys(t),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>t[a]===r[a])}return t===r}toRgba(){const[t,r,n,i]=this._components;return{r:t,g:r,b:n,a:i}}toRgb(){const[t,r,n]=this._components;return{r:t,g:r,b:n}}toRgbaString(){const[t,r,n]=this.toUint8RgbArray();return`rgba(${t},${r},${n},${this.alpha})`}toUint8RgbArray(t){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb,t[0]=Math.round(r*255),t[1]=Math.round(n*255),t[2]=Math.round(i*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t=t||this._arrayRgba;const[r,n,i,s]=this._components;return t[0]=r,t[1]=n,t[2]=i,t[3]=s,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb;const[r,n,i]=this._components;return t[0]=r,t[1]=n,t[2]=i,t}toNumber(){return this._int}toBgrNumber(){const[t,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[r,n,i,s]=Ru._temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(t,r=!0){return r&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,r=!0){if(t===1)return(255<<24)+this._int;if(t===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*t+.5|0,i=i*t+.5|0,s=s*t+.5|0),(t*255<<24)+(n<<16)+(i<<8)+s}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let r,n,i,s;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,n,i,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,n,i,s=255]=t,r/=255,n/=255,i/=255,s/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=Ru.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=Nn(t);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,r,n]=this._components;this._int=(t*255<<16)+(r*255<<8)+(n*255|0)}_clamp(t,r=0,n=1){return typeof t=="number"?Math.min(Math.max(t,r),n):(t.forEach((i,s)=>{t[s]=Math.min(Math.max(i,r),n)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Ru||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};vl.shared=new vl;vl._temp=new vl;vl.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let mi=vl;const z$={cullArea:null,cullable:!1,cullableChildren:!0};function G$(e,t,r){const n=e.length;let i;if(t>=n||r===0)return;r=t+r>n?n-t:r;const s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}const j$={allowChildren:!0,removeChildren(e=0,t){const r=t??this.children.length,n=r-e,i=[];if(n>0&&n<=r){for(let o=r-1;o>=e;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}G$(this.children,e,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o)this.emit("childRemoved",i[o],this,o),i[o].emit("removed",this);return i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(e){const t=this.getChildAt(e);return this.removeChild(t)},getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]},setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(e),this.addChildAt(e,t)},getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(e,t){this.allowChildren||jo(Go,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(t<0||t>r.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${r.length}`);if(e.parent){const i=e.parent.children.indexOf(e);if(e.parent===this&&i===t)return e;i!==-1&&e.parent.children.splice(i,1)}t===r.length?r.push(e):r.splice(t,0,e),e.parent=this,e.didChange=!0,e.didViewUpdate=!1,e._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(e),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",e,this,t),e.emit("added",this),e},swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e},removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}};class IA{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class h_{constructor(t,r){this._pool=[],this._count=0,this._index=0,this._classType=t,r&&this.prepopulate(r)}prepopulate(t){for(let r=0;r<t;r++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var n;let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,(n=r.init)==null||n.call(r,t),r}return(t){var r;(r=t.reset)==null||r.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class H${constructor(){this._poolsByClass=new Map}prepopulate(t,r){this.getPool(t).prepopulate(r)}get(t,r){return this.getPool(t).get(r)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new h_(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(r=>{const n=t[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;t[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),t}}const Bi=new H$;class W${constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(t))return Bi.get(n.maskClass,t)}return t}returnMaskEffect(t){Bi.return(t)}}const Nv=new W$;xi.handleByList(Ct.MaskEffect,Nv._effectClasses);const V$={_maskEffect:null,_filterEffect:null,effects:[],addEffect(e){if(this.effects.indexOf(e)!==-1)return;this.effects.push(e),this.effects.sort((n,i)=>n.priority-i.priority);const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._updateIsSimple()},removeEffect(e){const t=this.effects.indexOf(e);t!==-1&&(this.effects.splice(t,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(e){const t=this._maskEffect;(t==null?void 0:t.mask)!==e&&(t&&(this.removeEffect(t),Nv.returnMaskEffect(t),this._maskEffect=null),e!=null&&(this._maskEffect=Nv.getMaskEffect(e),this.addEffect(this._maskEffect)))},get mask(){var e;return(e=this._maskEffect)==null?void 0:e.mask},set filters(e){var s;!Array.isArray(e)&&e&&(e=[e]);const t=this._filterEffect||(this._filterEffect=new IA);e=e;const r=(e==null?void 0:e.length)>0,n=((s=t.filters)==null?void 0:s.length)>0,i=r!==n;e=Array.isArray(e)?e.slice(0):e,t.filters=Object.freeze(e),i&&(r?this.addEffect(t):(this.removeEffect(t),t.filters=e??null))},get filters(){var e;return(e=this._filterEffect)==null?void 0:e.filters},set filterArea(e){this._filterEffect||(this._filterEffect=new IA),this._filterEffect.filterArea=e},get filterArea(){var e;return(e=this._filterEffect)==null?void 0:e.filterArea}},X$={label:null,get name(){return jo(Go,"Container.name property has been removed, use Container.label instead"),this.label},set name(e){jo(Go,"Container.name property has been removed, use Container.label instead"),this.label=e},getChildByName(e,t=!1){return this.getChildByLabel(e,t)},getChildByLabel(e,t=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===e||e instanceof RegExp&&e.test(i.label))return i}if(t)for(let n=0;n<r.length;n++){const s=r[n].getChildByLabel(e,!0);if(s)return s}return null},getChildrenByLabel(e,t=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const s=n[i];(s.label===e||e instanceof RegExp&&e.test(s.label))&&r.push(s)}if(t)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(e,!0,r);return r}},RA=new Qt;class Qi{constructor(t=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=RA,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Ke);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=RA,this}set(t,r,n,i){this.minX=t,this.minY=r,this.maxX=n,this.maxY=i}addFrame(t,r,n,i,s){s||(s=this.matrix);const o=s.a,a=s.b,u=s.c,c=s.d,d=s.tx,f=s.ty;let m=this.minX,g=this.minY,v=this.maxX,x=this.maxY,A=o*t+u*r+d,b=a*t+c*r+f;A<m&&(m=A),b<g&&(g=b),A>v&&(v=A),b>x&&(x=b),A=o*n+u*r+d,b=a*n+c*r+f,A<m&&(m=A),b<g&&(g=b),A>v&&(v=A),b>x&&(x=b),A=o*t+u*i+d,b=a*t+c*i+f,A<m&&(m=A),b<g&&(g=b),A>v&&(v=A),b>x&&(x=b),A=o*n+u*i+d,b=a*n+c*i+f,A<m&&(m=A),b<g&&(g=b),A>v&&(v=A),b>x&&(x=b),this.minX=m,this.minY=g,this.maxX=v,this.maxY=x}addRect(t,r){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,r)}addBounds(t,r){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,r)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:u,d:c,tx:d,ty:f}=t;let m=o*r+u*n+d,g=a*r+c*n+f;this.minX=m,this.minY=g,this.maxX=m,this.maxY=g,m=o*i+u*n+d,g=a*i+c*n+f,this.minX=m<this.minX?m:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=g>this.maxY?g:this.maxY,m=o*r+u*s+d,g=a*r+c*s+f,this.minX=m<this.minX?m:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=g>this.maxY?g:this.maxY,m=o*i+u*s+d,g=a*i+c*s+f,this.minX=m<this.minX?m:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=g>this.maxY?g:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,r,n,i){return this.minX<t&&(this.minX=t),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(t,r=t){return this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Qi(this.minX,this.minY,this.maxX,this.maxY)}scale(t,r=t){return this.minX*=t,this.minY*=r,this.maxX*=t,this.maxY*=r,this}get x(){return this.minX}set x(t){const r=this.maxX-this.minX;this.minX=t,this.maxX=t+r}get y(){return this.minY}set y(t){const r=this.maxY-this.minY;this.minY=t,this.maxY=t+r}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,r,n,i){let s=this.minX,o=this.minY,a=this.maxX,u=this.maxY;i||(i=this.matrix);const c=i.a,d=i.b,f=i.c,m=i.d,g=i.tx,v=i.ty;for(let x=r;x<n;x+=2){const A=t[x],b=t[x+1],S=c*A+f*b+g,w=d*A+m*b+v;s=S<s?S:s,o=w<o?w:o,a=S>a?S:a,u=w>u?w:u}this.minX=s,this.minY=o,this.maxX=a,this.maxY=u}containsPoint(t,r){return this.minX<=t&&this.minY<=r&&this.maxX>=t&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const ji=new h_(Qt),_l=new h_(Qi);function rR(e,t,r){r.clear();let n,i;return e.parent?t?n=e.parent.worldTransform:(i=ji.get().identity(),n=Zf(e,i)):n=Qt.IDENTITY,nR(e,r,n,t),i&&ji.return(i),r.isValid||r.set(0,0,0,0),r}function nR(e,t,r,n){var a,u;if(!e.visible||!e.measurable)return;let i;n?i=e.worldTransform:(e.updateLocalTransform(),i=ji.get(),i.appendFrom(e.localTransform,r));const s=t,o=!!e.effects.length;if(o&&(t=_l.get().clear()),e.boundsArea)t.addRect(e.boundsArea,i);else{e.addBounds&&(t.matrix=i,e.addBounds(t));for(let c=0;c<e.children.length;c++)nR(e.children[c],t,i,n)}if(o){for(let c=0;c<e.effects.length;c++)(u=(a=e.effects[c]).addBounds)==null||u.call(a,t);s.addBounds(t,Qt.IDENTITY),_l.return(t)}n||ji.return(i)}function Zf(e,t){const r=e.parent;return r&&(Zf(r,t),r.updateLocalTransform(),t.append(r.localTransform)),t}let by=0;const MA=500;function Je(...e){by!==MA&&(by++,by===MA?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...e))}function iR(e,t,r){return t.clear(),r||(r=Qt.IDENTITY),sR(e,t,r,e,!0),t.isValid||t.set(0,0,0,0),t}function sR(e,t,r,n,i){var u,c;let s;if(i)s=ji.get(),s=r.copyTo(s);else{if(!e.visible||!e.measurable)return;e.updateLocalTransform();const d=e.localTransform;s=ji.get(),s.appendFrom(d,r)}const o=t,a=!!e.effects.length;if(a&&(t=_l.get().clear()),e.boundsArea)t.addRect(e.boundsArea,s);else{e.renderPipeId&&(t.matrix=s,e.addBounds(t));const d=e.children;for(let f=0;f<d.length;f++)sR(d[f],t,s,n,!1)}if(a){for(let d=0;d<e.effects.length;d++)(c=(u=e.effects[d]).addLocalBounds)==null||c.call(u,t,n);o.addBounds(t,Qt.IDENTITY),_l.return(t)}ji.return(s)}function oR(e,t){const r=e.children;for(let n=0;n<r.length;n++){const i=r[n],s=(i.uid&255)<<24|i._didChangeId&16777215;t.data[t.index]!==s&&(t.data[t.index]=s,t.didChange=!0),t.index++,i.children.length&&oR(i,t)}return t.didChange}const Y$=new Qt,q$={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(e,t){const r=Math.sign(this.scale.x)||1;t!==0?this.scale.x=e/t*r:this.scale.x=r},_setHeight(e,t){const r=Math.sign(this.scale.y)||1;t!==0?this.scale.y=e/t*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Qi});const e=this._localBoundsCacheData;return e.index=1,e.didChange=!1,e.data[0]!==this._didChangeId>>12&&(e.didChange=!0,e.data[0]=this._didChangeId>>12),oR(this,e),e.didChange&&iR(this,e.localBounds,Y$),e.localBounds},getBounds(e,t){return rR(this,e,t||new Qi)}},Q$={_onRender:null,set onRender(e){const t=this.renderGroup||this.parentRenderGroup;if(!e){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=e},get onRender(){return this._onRender}},K$={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Z$))}};function Z$(e,t){return e._zIndex-t._zIndex}const J$={getGlobalPosition(e=new hr,t=!1){return this.parent?this.parent.toGlobal(this._position,e,t):(e.x=this._position.x,e.y=this._position.y),e},toGlobal(e,t,r=!1){if(!r){this.updateLocalTransform();const n=Zf(this,new Qt);return n.append(this.localTransform),n.apply(e,t)}return this.worldTransform.apply(e,t)},toLocal(e,t,r,n){if(t&&(e=t.toGlobal(e,r,n)),!n){this.updateLocalTransform();const i=Zf(this,new Qt);return i.append(this.localTransform),i.applyInverse(e,r)}return this.worldTransform.applyInverse(e,r)}};class aR{constructor(){this.uid=Ze("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class t5{constructor(t){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Qt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new aR,this._onRenderContainers=[],this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const r=t.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const r=this.renderGroupChildren.indexOf(t);r>-1&&this.renderGroupChildren.splice(r,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const r=t.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const r=t.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(t){for(let r=0;r<t.length;r++)this.removeChild(t[r])}onChildUpdate(t){let r=this.childrenToUpdate[t.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(t.didViewUpdate=!1,this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t))}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}getChildren(t=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],t);return t}_getChildren(t,r=[]){if(r.push(t),t.renderGroup)return r;const n=t.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}}function e5(e,t,r={}){for(const n in t)!r[n]&&t[n]!==void 0&&(e[n]=t[n])}const Sy=new Hr(null),Ay=new Hr(null),Ey=new Hr(null,1,1),kA=1,r5=2,Ty=4;class wn extends Xo{constructor(t={}){var r,n;super(),this.uid=Ze("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Qt,this.relativeGroupTransform=new Qt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Hr(this,0,0),this._scale=Ey,this._pivot=Ay,this._skew=Sy,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,e5(this,t,{children:!0,parent:!0,effects:!0}),(r=t.children)==null||r.forEach(i=>this.addChild(i)),this.effects=[],(n=t.parent)==null||n.addChild(this)}static mixin(t){Object.defineProperties(wn.prototype,Object.getOwnPropertyDescriptors(t))}addChild(...t){if(this.allowChildren||jo(Go,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let i=0;i<t.length;i++)this.addChild(t[i]);return t[0]}const r=t[0];if(r.parent===this)return this.children.splice(this.children.indexOf(r),1),this.children.push(r),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),r;r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r.didViewUpdate=!1,r._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didChangeId+=4096,r._zIndex!==0&&r.depthOfChildModified(),r}removeChild(...t){if(t.length>1){for(let i=0;i<t.length;i++)this.removeChild(t[i]);return t[0]}const r=t[0],n=this.children.indexOf(r);return n>-1&&(this._didChangeId+=4096,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){if(this.renderGroup&&t===!1)throw new Error("[Pixi] cannot undo a render group just yet");t&&this.enableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t&&t.removeChild(this),this.renderGroup=new t5(this),t&&t.addChild(this),this._updateIsSimple(),this.groupTransform=Qt.IDENTITY}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Qt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*M$}set angle(t){this.rotation=t*k$}get pivot(){return this._pivot===Ay&&(this._pivot=new Hr(this,0,0)),this._pivot}set pivot(t){this._pivot===Ay&&(this._pivot=new Hr(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Sy&&(this._skew=new Hr(this,0,0)),this._skew}set skew(t){this._skew===Sy&&(this._skew=new Hr(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Ey&&(this._scale=new Hr(this,1,1)),this._scale}set scale(t){this._scale===Ey&&(this._scale=new Hr(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const r=this.getLocalBounds().width;this._setWidth(t,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const r=this.getLocalBounds().height;this._setHeight(t,r)}getSize(t){t||(t={});const r=this.getLocalBounds();return t.width=Math.abs(this.scale.x*r.width),t.height=Math.abs(this.scale.y*r.height),t}setSize(t,r){const n=this.getLocalBounds();let i,s;typeof t!="object"?(i=t,s=r??t):(i=t.width,s=t.height??t.width),i!==void 0&&this._setWidth(i,n.width),s!==void 0&&this._setHeight(s,n.height)}_updateSkew(){const t=this._rotation,r=this._skew;this._cx=Math.cos(t+r._y),this._sx=Math.sin(t+r._y),this._cy=-Math.sin(t-r._x),this._sy=Math.cos(t-r._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const t=this.localTransform,r=this._scale,n=this._pivot,i=this._position,s=r._x,o=r._y,a=n._x,u=n._y;t.a=this._cx*s,t.b=this._sx*s,t.c=this._cy*o,t.d=this._sy*o,t.tx=i._x-(a*t.a+u*t.c),t.ty=i._y-(a*t.b+u*t.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=kA,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const n=mi.shared.setValue(t??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=kA,this._onUpdate())}get tint(){const t=this.localColor;return((t&255)<<16)+(t&65280)+(t>>16&255)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=r5,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const r=t?1:0;(this.localDisplayStatus&2)>>1!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ty,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const r=t?1:0;(this.localDisplayStatus&4)>>2!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ty,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const r=t?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=Ty,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;const r=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.children)for(let i=0;i<r.length;++i)r[i].destroy(t)}}wn.mixin(j$);wn.mixin(J$);wn.mixin(Q$);wn.mixin(q$);wn.mixin(V$);wn.mixin(X$);wn.mixin(K$);wn.mixin(z$);class Eh extends wn{constructor(t=Kt.EMPTY){t instanceof Kt&&(t={texture:t});const{texture:r=Kt.EMPTY,anchor:n,roundPixels:i,width:s,height:o,...a}=t;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new Hr({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,s&&(this.width=s),o&&(this.height=o)}static from(t,r=!1){return t instanceof Kt?new Eh(t):new Eh(Kt.from(t,r))}set texture(t){t||(t=Kt.EMPTY);const r=this._texture;r!==t&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(t){const r=this.sourceBounds;return t.x>=r.maxX&&t.x<=r.minX&&t.y>=r.maxY&&t.y<=r.minY}addBounds(t){const r=this._texture.trim?this.sourceBounds:this.bounds;t.addFrame(r.minX,r.minY,r.maxX,r.maxY)}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}_updateBounds(){$$(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const t=this._anchor,r=this._texture,n=this._sourceBounds,{width:i,height:s}=r.orig;n.maxX=-t._x*i,n.minX=n.maxX+i,n.maxY=-t._y*s,n.minY=n.maxY+s}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const n=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(n)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width)}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,r){let n,i;typeof t!="object"?(n=t,i=r??t):(n=t.width,i=t.height??t.width),n!==void 0&&this._setWidth(n,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const n5=new Qi;function lR(e,t,r){const n=n5;e.measurable=!0,rR(e,r,n),t.addBoundsMask(n),e.measurable=!1}function uR(e,t,r){const n=_l.get();e.measurable=!0;const i=ji.get().identity(),s=hR(e,r,i);iR(e,n,s),e.measurable=!1,t.addBoundsMask(n),ji.return(i),_l.return(n)}function hR(e,t,r){return e?(e!==t&&(hR(e.parent,t,r),e.updateLocalTransform(),r.append(e.localTransform)),r):(Je("Mask bounds, renderable is not inside the root container"),r)}class cR{constructor(t){this.priority=0,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Eh),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,r){lR(this.mask,t,r)}addLocalBounds(t,r){uR(this.mask,t,r)}containsPoint(t,r){const n=this.mask;return r(n,t)}destroy(){this.reset()}static test(t){return t instanceof Eh}}cR.extension=Ct.MaskEffect;class dR{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}dR.extension=Ct.MaskEffect;class fR{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,r){lR(this.mask,t,r)}addLocalBounds(t,r){uR(this.mask,t,r)}containsPoint(t,r){const n=this.mask;return r(n,t)}destroy(){this.reset()}static test(t){return t instanceof wn}}fR.extension=Ct.MaskEffect;const i5={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")};let NA=i5;const _n={get(){return NA},set(e){NA=e}};class pR extends Ys{constructor(t){t.resource||(t.resource=_n.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity;const r=t.resource;(this.pixelWidth!==r.width||this.pixelWidth!==r.height)&&this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,r=this.height,n=this._resolution){const i=super.resize(t,r,n);return i&&this.resizeCanvas(),i}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}}pR.extension=Ct.TextureSource;class $h extends Ys{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const r=_n.get().createCanvas(t.resource.width,t.resource.height);r.getContext("2d").drawImage(t.resource,0,0),t.resource=r,Je("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap}}$h.extension=Ct.TextureSource;var Fv=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(Fv||{});class Cy{constructor(t,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=r,this.priority=n,this._once=i}match(t,r=null){return this._fn===t&&this._context===r}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}}const mR=class zr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cy(null,null,1/0),this.deltaMS=1/zr.targetFPMS,this.elapsedMS=1/zr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,r,n=Fv.NORMAL){return this._addListener(new Cy(t,r,n))}addOnce(t,r,n=Fv.NORMAL){return this._addListener(new Cy(t,r,n,!0))}_addListener(t){let r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,r){let n=this._head.next;for(;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,r=this._head;for(;r=r.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*zr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,zr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!zr._shared){const t=zr._shared=new zr;t.autoStart=!0,t._protected=!0}return zr._shared}static get system(){if(!zr._system){const t=zr._system=new zr;t.autoStart=!0,t._protected=!0}return zr._system}};mR.targetFPMS=.06;let bd=mR,Py;async function gR(){return Py??(Py=(async()=>{var o;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const r=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!r)return"premultiply-alpha-on-upload";const n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(i),t.deleteTexture(n),(o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Py}const Np=class yR extends Ys{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...yR.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=bd.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,r=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await gR(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(bd.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(bd.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(bd.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||globalThis.VideoFrame&&t instanceof VideoFrame}};Np.extension=Ct.TextureSource;Np.defaultOptions={...Ys.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Np.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Kd=Np;const Dn=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(n=>typeof n=="string"||r?t(n):n):e);class s5{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const r=this._cache.get(t);return r||Je(`[Assets] Asset id ${t} was not found in the Cache`),r}set(t,r){const n=Dn(t);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}const s=new Map(Object.entries(i||{}));i||n.forEach(u=>{s.set(u,r)});const o=[...s.keys()],a={cacheKeys:o,keys:n};n.forEach(u=>{this._cacheMap.set(u,a)}),o.forEach(u=>{const c=i?i[u]:r;this._cache.has(u)&&this._cache.get(u)!==c&&Je("[Cache] already has key:",u),this._cache.set(u,s.get(u))})}remove(t){if(!this._cacheMap.has(t)){Je(`[Assets] Asset id ${t} was not found in the Cache`);return}const r=this._cacheMap.get(t);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const vr=new s5,Bv=[];xi.handleByList(Ct.TextureSource,Bv);function o5(e={}){const t=e&&e.resource,r=t?e.resource:e,n=t?e:{resource:e};for(let i=0;i<Bv.length;i++){const s=Bv[i];if(s.test(r))return new s(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function a5(e={},t=!1){const r=e&&e.resource,n=r?e.resource:e,i=r?e:{resource:e};if(!t&&vr.has(n))return vr.get(n);const s=new Kt({source:o5(i)});return s.on("destroy",()=>{vr.has(n)&&vr.remove(n)}),t||vr.set(n,s),s}function l5(e,t=!1){return typeof e=="string"?vr.get(e):e instanceof Ys?new Kt({source:e}):a5(e,t)}Kt.from=l5;xi.add(cR,dR,fR,Kd,$h,pR,u_);var Yo=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(Yo||{});function Rn(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function yu(e){return e.split("?")[0].split("#")[0]}function u5(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h5(e,t,r){return e.replace(new RegExp(u5(t),"g"),r)}function c5(e,t){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${e.slice(i+1,a)}`:r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Si={toPosix(e){return h5(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},isBlobUrl(e){return e.startsWith("blob:")},hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){Rn(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(Rn(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const n=yu(this.toPosix(t??_n.get().getBaseUrl())),i=yu(this.toPosix(r??this.rootname(n)));return e=this.toPosix(e),e.startsWith("/")?Si.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(Rn(e),e.length===0)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="";const r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return e=c5(e),e.length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return Rn(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){const n=e[r];if(Rn(n),n.length>0)if(t===void 0)t=n;else{const i=e[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(Rn(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const r=t===47;let n=-1,i=!0;const s=this.getProtocol(e),o=e;e=e.slice(s.length);for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+e:s:r&&n===1?"//":s+e.slice(0,n)},rootname(e){Rn(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){Rn(e),t&&Rn(t),e=yu(this.toPosix(e));let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,a=-1;for(s=e.length-1;s>=0;--s){const u=e.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Rn(e),e=yu(this.toPosix(e));let t=-1,r=0,n=-1,i=!0,s=0;for(let o=e.length-1;o>=0;--o){const a=e.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){Rn(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=yu(this.toPosix(e));let r=e.charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),n||this.hasProtocol(e)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,c=e.length-1,d=0;for(;c>=i;--c){if(r=e.charCodeAt(c),r===47){if(!u){o=c+1;break}continue}a===-1&&(u=!1,a=c+1),r===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?t.base=t.name=e.slice(1,a):t.base=t.name=e.slice(o,a)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,a)):(t.name=e.slice(o,s),t.base=e.slice(o,a)),t.ext=e.slice(s,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function vR(e,t,r,n,i){const s=t[r];for(let o=0;o<s.length;o++){const a=s[o];r<t.length-1?vR(e.replace(n[r],a),t,r+1,n,i):i.push(e.replace(n[r],a))}}function d5(e){const t=/\{(.*?)\}/g,r=e.match(t),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),vR(e,i,0,r,n)}else n.push(e);return n}const Jf=e=>!Array.isArray(e);class Nl{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,r)=>`${t}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(t,r)=>r.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const r=t;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(t){const{alias:r,src:n}=t;return Dn(r||n,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??o):s!=null&&s.src?s.src:s,!0)}addManifest(t){this._manifest&&Je("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(t,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let u;if(typeof a=="string"){const c=this._createBundleAssetId(t,a);n.push(c),u=[a,c]}else{const c=a.map(d=>this._createBundleAssetId(t,d));n.push(...c),u=[...a,...c]}this.add({...s,alias:u,src:o})}),this._bundles[t]=n}add(t){const r=[];Array.isArray(t)?r.push(...t):r.push(t);let n;n=s=>{this.hasKey(s)&&Je(`[Resolver] already has key: ${s} overwriting`)},Dn(r).forEach(s=>{const{src:o}=s;let{data:a,format:u,loadParser:c}=s;const d=Dn(o).map(g=>typeof g=="string"?d5(g):Array.isArray(g)?g:[g]),f=this.getAlias(s);Array.isArray(f)?f.forEach(n):n(f);const m=[];d.forEach(g=>{g.forEach(v=>{let x={};if(typeof v!="object"){x.src=v;for(let A=0;A<this._parsers.length;A++){const b=this._parsers[A];if(b.test(v)){x=b.parse(v);break}}}else a=v.data??a,u=v.format??u,c=v.loadParser??c,x={...x,...v};if(!f)throw new Error(`[Resolver] alias is undefined for this asset: ${x.src}`);x=this._buildResolvedAsset(x,{aliases:f,data:a,format:u,loadParser:c}),m.push(x)})}),f.forEach(g=>{this._assetMap[g]=m})})}resolveBundle(t){const r=Jf(t);t=Dn(t);const n={};return t.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const c=o[u];a[this._extractAssetIdFromBundle(i,u)]=c}n[i]=a}}),r?n[t[0]]:n}resolveUrl(t){const r=this.resolve(t);if(typeof t!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(t){const r=Jf(t);t=Dn(t);const n={};return t.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o==null||o.priority.forEach(a=>{o.params[a].forEach(u=>{const c=s.filter(d=>d[a]?d[a]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let r=0;r<t.length;r++){const n=t[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const r=/\?/.test(t)?"&":"?";return`${t}${r}${this._defaultSearchParams}`}_buildResolvedAsset(t,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(t.src=Si.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...i||{},...t.data},t.loadParser=s??t.loadParser,t.format=o??t.format??f5(t.src),t}}Nl.RETINA_PREFIX=/@([0-9\.]+)x/;function f5(e){return e.split(".").pop().split("?").shift().split("#").shift()}const FA=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e},_R=class Mu{constructor(t,r){this.linkedSheets=[],this._texture=t instanceof Kt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=r;const n=parseFloat(r.meta.scale);n?(this.resolution=n,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Mu.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let r=t;const n=Mu.BATCH_SIZE;for(;r-t<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Ke(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?a=new Ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Ke(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Kt({source:this.textureSource,frame:a,orig:d,trim:u,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}r++}}_processAnimations(){const t=this.data.animations||{};for(const r in t){this.animations[r]=[];for(let n=0;n<t[r].length;n++){const i=t[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Mu.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Mu.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_R.BATCH_SIZE=1e3;let BA=_R;const p5=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function xR(e,t,r){const n={};if(e.forEach(i=>{n[i]=t}),Object.keys(t.textures).forEach(i=>{n[i]=t.textures[i]}),!r){const i=Si.dirname(e[0]);t.linkedSheets.forEach((s,o)=>{const a=xR([`${i}/${t.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const m5={extension:Ct.Asset,cache:{test:e=>e instanceof BA,getCacheableAssets:(e,t)=>xR(e,t,!1)},resolver:{test:e=>{const r=e.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&p5.includes(i)},parse:e=>{var r;const t=e.split(".");return{resolution:parseFloat(((r=Nl.RETINA_PREFIX.exec(e))==null?void 0:r[1])??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:Ct.LoadParser,priority:Yo.Normal},async testParse(e,t){return Si.extname(t.src).toLowerCase()===".json"&&!!e.frames},async parse(e,t,r){var c,d;const{texture:n,imageFilename:i}=(t==null?void 0:t.data)??{};let s=Si.dirname(t.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");let o;if(n instanceof Kt)o=n;else{const f=FA(s+(i??e.meta.image),t.src);o=(await r.load([f]))[f]}const a=new BA(o.source,e);await a.parse();const u=(c=e==null?void 0:e.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(u)){const f=[];for(const g of u){if(typeof g!="string")continue;let v=s+g;(d=t.data)!=null&&d.ignoreMultiPack||(v=FA(v,t.src),f.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(f);a.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==g))})}return a},async unload(e,t,r){await r.unload(e.textureSource._sourceOrigin),e.destroy(!1)}}};xi.add(m5);let ya;function g5(){return(!ya||ya!=null&&ya.isContextLost())&&(ya=_n.get().createCanvas().getContext("webgl",{})),ya}class y5{constructor(t){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in t){const i=t[n];this.setResource(i,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let r=0;for(const n in this.resources)t[r++]=this.resources[n]._resourceId;this._key=t.join("|")}setResource(t,r){var i,s;const n=this.resources[r];t!==n&&(n&&((i=t.off)==null||i.call(t,"change",this.onResourceChange,this)),(s=t.on)==null||s.call(t,"change",this.onResourceChange,this),this.resources[r]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const r=this.resources;for(const n in r)r[n]._touched=t}destroy(){var r;const t=this.resources;for(const n in t){const i=t[n];(r=i.off)==null||r.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const r=this.resources;for(const n in r)r[n]===t&&(r[n]=null)}else this._updateKey()}}class v5{constructor(t,r=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(t){t.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const _5={extension:Ct.CacheParser,test:e=>Array.isArray(e)&&e.every(t=>t instanceof Kt),getCacheableAssets:(e,t)=>{const r={};return e.forEach(n=>{t.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};async function wR(e){if("Image"in globalThis)return new Promise(t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const x5={extension:{type:Ct.DetectionParser,priority:1},test:async()=>wR("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(t=>t!=="avif")},LA=["png","jpg","jpeg"],w5={extension:{type:Ct.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...LA],remove:async e=>e.filter(t=>!LA.includes(t))},b5="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function c_(e){return b5?!1:document.createElement("video").canPlayType(e)!==""}const S5={extension:{type:Ct.DetectionParser,priority:0},test:async()=>c_("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(t=>t!=="mp4"&&t!=="m4v")},A5={extension:{type:Ct.DetectionParser,priority:0},test:async()=>c_("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(t=>t!=="ogv")},E5={extension:{type:Ct.DetectionParser,priority:0},test:async()=>c_("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(t=>t!=="webm")},T5={extension:{type:Ct.DetectionParser,priority:0},test:async()=>wR("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(t=>t!=="webp")};class C5{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,r,n)=>(this._parsersValidated=!1,t[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||Je(`[Assets] specified load parser "${r.loadParser}" not found while loading ${t}`)),!s){for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.load&&((o=c.test)!=null&&o.call(c,t,r,this))){s=c;break}}if(!s)return Je(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(t,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(t,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Jf(t),o=Dn(t,c=>({alias:[c],src:c})),a=o.length,u=o.map(async c=>{const d=Si.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),i[c.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[d],delete i[c.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(t){const n=Dn(t,i=>({alias:[i],src:i})).map(async i=>{var a,u;const s=Si.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;delete this.promiseCache[s],await((u=(a=o.parser)==null?void 0:a.unload)==null?void 0:u.call(a,c,i,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,r)=>(r.name?t[r.name]&&Je(`[Assets] loadParser name conflict "${r.name}"`):Je("[Assets] loadParser should have a name"),{...t,[r.name]:r}),{})}}function Fl(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function Bl(e,t){const r=e.split("?")[0],n=Si.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const P5=".json",I5="application/json",R5={extension:{type:Ct.LoadParser,priority:Yo.Low},name:"loadJson",test(e){return Fl(e,I5)||Bl(e,P5)},async load(e){return await(await _n.get().fetch(e)).json()}},M5=".txt",k5="text/plain",N5={name:"loadTxt",extension:{type:Ct.LoadParser,priority:Yo.Low},test(e){return Fl(e,k5)||Bl(e,M5)},async load(e){return await(await _n.get().fetch(e)).text()}},F5=["normal","bold","100","200","300","400","500","600","700","800","900"],B5=[".ttf",".otf",".woff",".woff2"],L5=["font/ttf","font/otf","font/woff","font/woff2"],O5=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function D5(e){const t=Si.extname(e),i=Si.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(O5)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const U5=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function $5(e){return U5.test(e)?e:encodeURI(e)}const z5={extension:{type:Ct.LoadParser,priority:Yo.Low},name:"loadWebFont",test(e){return Fl(e,L5)||Bl(e,B5)},async load(e,t){var n,i,s;const r=_n.get().getFontFaceSet();if(r){const o=[],a=((n=t.data)==null?void 0:n.family)??D5(e),u=((s=(i=t.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>F5.includes(d)))??["normal"],c=t.data??{};for(let d=0;d<u.length;d++){const f=u[d],m=new FontFace(a,`url(${$5(e)})`,{...c,weight:f});await m.load(),r.add(m),o.push(m)}return vr.set(`${a}-and-url`,{url:e,fontFaces:o}),o.length===1?o[0]:o}return Je("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(t=>{vr.remove(t.family),_n.get().getFontFaceSet().delete(t)})}};var G5=H5,Iy={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},j5=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function H5(e){var t=[];return e.replace(j5,function(r,n,i){var s=n.toLowerCase();for(i=V5(i),s=="m"&&i.length>2&&(t.push([n].concat(i.splice(0,2))),s="l",n=n=="m"?"l":"L");;){if(i.length==Iy[s])return i.unshift(n),t.push(i);if(i.length<Iy[s])throw new Error("malformed path data");t.push([n].concat(i.splice(0,Iy[s])))}}),t}var W5=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function V5(e){var t=e.match(W5);return t?t.map(Number):[]}const X5=Ki(G5);function Y5(e,t){const r=X5(e),n=[];let i=null,s=0,o=0;for(let a=0;a<r.length;a++){const u=r[a],c=u[0],d=u;switch(c){case"M":s=d[1],o=d[2],t.moveTo(s,o);break;case"m":s+=d[1],o+=d[2],t.moveTo(s,o);break;case"H":s=d[1],t.lineTo(s,o);break;case"h":s+=d[1],t.lineTo(s,o);break;case"V":o=d[1],t.lineTo(s,o);break;case"v":o+=d[1],t.lineTo(s,o);break;case"L":s=d[1],o=d[2],t.lineTo(s,o);break;case"l":s+=d[1],o+=d[2],t.lineTo(s,o);break;case"C":s=d[5],o=d[6],t.bezierCurveTo(d[1],d[2],d[3],d[4],s,o);break;case"c":t.bezierCurveTo(s+d[1],o+d[2],s+d[3],o+d[4],s+d[5],o+d[6]),s+=d[5],o+=d[6];break;case"S":s=d[3],o=d[4],t.bezierCurveToShort(d[1],d[2],s,o);break;case"s":t.bezierCurveToShort(s+d[1],o+d[2],s+d[3],o+d[4]),s+=d[3],o+=d[4];break;case"Q":s=d[3],o=d[4],t.quadraticCurveTo(d[1],d[2],s,o);break;case"q":t.quadraticCurveTo(s+d[1],o+d[2],s+d[3],o+d[4]),s+=d[3],o+=d[4];break;case"T":s=d[1],o=d[2],t.quadraticCurveToShort(s,o);break;case"t":s+=d[1],o+=d[2],t.quadraticCurveToShort(s,o);break;case"A":s=d[6],o=d[7],t.arcToSvg(d[1],d[2],d[3],d[4],d[5],s,o);break;case"a":s+=d[6],o+=d[7],t.arcToSvg(d[1],d[2],d[3],d[4],d[5],s,o);break;case"Z":case"z":t.closePath(),n.length>0&&(i=n.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:Je(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&i===null&&(i={startX:s,startY:o},n.push(i))}return t}class d_{constructor(t=0,r=0,n=0){this.type="circle",this.x=t,this.y=r,this.radius=n}clone(){return new d_(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-t,s=this.y-r;return i*=i,s*=s,i+s<=n}strokeContains(t,r,n){if(this.radius===0)return!1;const i=this.x-t,s=this.y-r,o=this.radius,a=n/2,u=Math.sqrt(i*i+s*s);return u<o+a&&u>o-a}getBounds(t){return t=t||new Ke,t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class f_{constructor(t=0,r=0,n=0,i=0){this.type="ellipse",this.x=t,this.y=r,this.halfWidth=n,this.halfHeight=i}clone(){return new f_(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(t-this.x)/this.halfWidth,i=(r-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(t,r,n){const{halfWidth:i,halfHeight:s}=this;if(i<=0||s<=0)return!1;const o=n/2,a=i-o,u=s-o,c=i+o,d=s+o,f=t-this.x,m=r-this.y,g=f*f/(a*a)+m*m/(u*u),v=f*f/(c*c)+m*m/(d*d);return g>1&&v<=1}getBounds(){return new Ke(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function q5(e,t,r,n,i,s){const o=e-r,a=t-n,u=i-r,c=s-n,d=o*u+a*c,f=u*u+c*c;let m=-1;f!==0&&(m=d/f);let g,v;m<0?(g=r,v=n):m>1?(g=i,v=s):(g=r+m*u,v=n+m*c);const x=e-g,A=t-v;return x*x+A*A}class qu{constructor(...t){this.type="polygon";let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.closePath=!0}clone(){const t=this.points.slice(),r=new qu(t);return r.closePath=this.closePath,r}contains(t,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1];u>r!=d>r&&t<(c-a)*((r-u)/(d-u))+a&&(n=!n)}return n}strokeContains(t,r,n){const i=n/2,s=i*i,{points:o}=this,a=o.length-(this.closePath?0:2);for(let u=0;u<a;u+=2){const c=o[u],d=o[u+1],f=o[(u+2)%o.length],m=o[(u+3)%o.length];if(q5(t,r,c,d,f,m)<=s)return!0}return!1}getBounds(t){t=t||new Ke;const r=this.points;let n=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,u=r.length;a<u;a+=2){const c=r[a],d=r[a+1];n=c<n?c:n,i=c>i?c:i,s=d<s?d:s,o=d>o?d:o}return t.x=n,t.width=i-n,t.y=s,t.height=o-s,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,r)=>`${t}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Sd=(e,t,r,n,i,s)=>{const o=e-r,a=t-n,u=Math.sqrt(o*o+a*a);return u>=i-s&&u<=i+s};class p_{constructor(t=0,r=0,n=0,i=0,s=20){this.type="roundedRectangle",this.x=t,this.y=r,this.width=n,this.height=i,this.radius=s}getBounds(t){return t=t||new Ke,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new p_(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let i=t-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=t-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=t-(this.x+n),i*i+s*s<=o))return!0}return!1}strokeContains(t,r,n){const{x:i,y:s,width:o,height:a,radius:u}=this,c=n/2,d=i+u,f=s+u,m=o-u*2,g=a-u*2,v=i+o,x=s+a;return(t>=i-c&&t<=i+c||t>=v-c&&t<=v+c)&&r>=f&&r<=f+g||(r>=s-c&&r<=s+c||r>=x-c&&r<=x+c)&&t>=d&&t<=d+m?!0:t<d&&r<f&&Sd(t,r,d,f,u,c)||t>v-u&&r<f&&Sd(t,r,v-u,f,u,c)||t>v-u&&r>x-u&&Sd(t,r,v-u,x-u,u,c)||t<d&&r>x-u&&Sd(t,r,d,x-u,u,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var Ir=(e=>(e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE",e[e.STATIC=1024]="STATIC",e))(Ir||{});class Th extends Xo{constructor(t){let{data:r,size:n}=t;const{usage:i,label:s,shrinkToFit:o}=t;super(),this.uid=Ze("buffer"),this._resourceType="buffer",this._resourceId=Ze("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n=n??(r==null?void 0:r.byteLength);const a=!!r;this.descriptor={size:n,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get static(){return!!(this.descriptor.usage&Ir.STATIC)}set static(t){t?this.descriptor.usage|=Ir.STATIC:this.descriptor.usage&=~Ir.STATIC}setDataWithSize(t,r,n){if(this._updateID++,this._updateSize=r*t.BYTES_PER_ELEMENT,this._data===t){n&&this.emit("update",this);return}const i=this._data;if(this._data=t,i.length!==t.length){!this.shrinkToFit&&t.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Ze("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function bR(e,t){if(!(e instanceof Th)){let r=t?Ir.INDEX:Ir.VERTEX;e instanceof Array&&(t?(e=new Uint32Array(e),r=Ir.INDEX|Ir.COPY_DST):(e=new Float32Array(e),r=Ir.VERTEX|Ir.COPY_DST)),e=new Th({data:e,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return e}function Q5(e,t,r){const n=e.getAttribute(t);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const i=n.buffer.data;let s=1/0,o=1/0,a=-1/0,u=-1/0;const c=i.BYTES_PER_ELEMENT,d=(n.offset||0)/c,f=(n.stride||2*4)/c;for(let m=d;m<i.length;m+=f){const g=i[m],v=i[m+1];g>a&&(a=g),v>u&&(u=v),g<s&&(s=g),v<o&&(o=v)}return r.minX=s,r.minY=o,r.maxX=a,r.maxY=u,r}function K5(e){return(e instanceof Th||Array.isArray(e)||e.BYTES_PER_ELEMENT)&&(e={buffer:e}),e.buffer=bR(e.buffer,!1),e}class Z5 extends Xo{constructor(t){const{attributes:r,indexBuffer:n,topology:i}=t;super(),this.uid=Ze("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Qi,this._boundsDirty=!0,this.attributes=r,this.buffers=[],this.instanceCount=t.instanceCount||1;for(const s in r){const o=r[s]=K5(r[s]);this.buffers.indexOf(o.buffer)===-1&&(this.buffers.push(o.buffer),o.buffer.on("update",this.onBufferUpdate,this),o.buffer.on("change",this.onBufferUpdate,this))}n&&(this.indexBuffer=bR(n,!0),this.buffers.push(this.indexBuffer)),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const r=this.attributes[t];return r.buffer.data.length/(r.stride/4||r.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Q5(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const J5=new Float32Array(1),tz=new Uint32Array(1);class ez extends Z5{constructor(){const r=new Th({data:J5,label:"attribute-batch-buffer",usage:Ir.VERTEX|Ir.COPY_DST,shrinkToFit:!1}),n=new Th({data:tz,label:"index-batch-buffer",usage:Ir.INDEX|Ir.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:i,offset:0,location:1},aUV:{buffer:r,format:"float32x2",stride:i,offset:2*4,location:3},aColor:{buffer:r,format:"unorm8x4",stride:i,offset:4*4,location:0},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:i,offset:5*4,location:2}},indexBuffer:n})}}let Ad=null;function SR(){if(Ad)return Ad;const e=g5();return Ad=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ad}const AR={};function rz(e,t){let r=0;for(let n=0;n<t;n++)r=r*31+e[n].uid>>>0;return AR[r]||nz(e,r)}let Ry=0;function nz(e,t){const r={};let n=0;Ry||(Ry=SR());for(let s=0;s<Ry;s++){const o=s<e.length?e[s]:Kt.EMPTY.source;r[n++]=o.source,r[n++]=o.style}const i=new y5(r);return AR[t]=i,i}class OA{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function DA(e,t){const r=e.byteLength/8|0,n=new Float64Array(e,0,r);new Float64Array(t,0,r).set(n);const s=e.byteLength-r*8;if(s>0){const o=new Uint8Array(e,r*8,s);new Uint8Array(t,r*8,s).set(o)}}const iz={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};function UA(e,t){return t.alphaMode==="no-premultiply-alpha"&&iz[e]||e}class $A{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const r=this.textures[t];this.textures[t]=null,this.ids[r.uid]=null}this.count=0}}class zA{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let vu=0;const ER=class TR{constructor(t={}){this.uid=Ze("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,t={...TR.defaultOptions,...t};const{vertexSize:r,indexSize:n}=t;this.attributeBuffer=new OA(r*this._vertexSize*4),this.indexBuffer=new Uint16Array(n),this._maxTextures=SR()}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t.indexStart=this.indexSize,t.location=this.attributeSize,t.batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.vertexSize*this._vertexSize}checkAndUpdateTexture(t,r){const n=t.batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(t.textureId=n,t.texture=r,!0)}updateElement(t){this.dirty=!0,t.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,t.location,t.textureId)}break(t){const r=this._elements;let n=this._textureBatchPool[this._textureBatchPoolIndex++]||new $A;if(n.clear(),!r[this.elementStart])return;const i=r[this.elementStart];let s=UA(i.blendMode,i.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const o=this.attributeBuffer.float32View,a=this.attributeBuffer.uint32View,u=this.indexBuffer;let c=this._batchIndexSize,d=this._batchIndexStart,f="startBatch",m=this._batchPool[this._batchPoolIndex++]||new zA;const g=this._maxTextures;for(let v=this.elementStart;v<this.elementSize;++v){const x=r[v];r[v]=null;const b=x.texture._source,S=UA(x.blendMode,b),w=s!==S;if(b._batchTick===vu&&!w){x.textureId=b._textureBindLocation,c+=x.indexSize,x.packAttributes(o,a,x.location,x.textureId),x.packIndex(u,x.indexStart,x.location/this._vertexSize),x.batch=m;continue}b._batchTick=vu,(n.count>=g||w)&&(this._finishBatch(m,d,c-d,n,s,t,f),f="renderBatch",d=c,s=S,n=this._textureBatchPool[this._textureBatchPoolIndex++]||new $A,n.clear(),m=this._batchPool[this._batchPoolIndex++]||new zA,++vu),x.textureId=b._textureBindLocation=n.count,n.ids[b.uid]=n.count,n.textures[n.count++]=b,x.batch=m,c+=x.indexSize,x.packAttributes(o,a,x.location,x.textureId),x.packIndex(u,x.indexStart,x.location/this._vertexSize)}n.count>0&&(this._finishBatch(m,d,c-d,n,s,t,f),d=c,++vu),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=c}_finishBatch(t,r,n,i,s,o,a){t.gpuBindGroup=null,t.action=a,t.batcher=this,t.textures=i,t.blendMode=s,t.start=r,t.size=n,++vu,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const r=Math.max(t,this.attributeBuffer.size*2),n=new OA(r);DA(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(t){const r=this.indexBuffer;let n=Math.max(t,r.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let s=0;s<r.length;s++)i[s]=r[s];else DA(r.buffer,i.buffer);this.indexBuffer=i}destroy(){for(let t=0;t<this.batches.length;t++)this.batches[t].destroy();this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};ER.defaultOptions={vertexSize:4,indexSize:6};let sz=ER;function oz(e,t,r,n,i,s,o,a=null){let u=0;r*=t,i*=s;const c=a.a,d=a.b,f=a.c,m=a.d,g=a.tx,v=a.ty;for(;u<o;){const x=e[r],A=e[r+1];n[i]=c*x+f*A+g,n[i+1]=d*x+m*A+v,i+=s,r+=t,u++}}function az(e,t,r,n){let i=0;for(t*=r;i<n;)e[t]=0,e[t+1]=0,t+=r,i++}function CR(e,t,r,n,i){const s=t.a,o=t.b,a=t.c,u=t.d,c=t.tx,d=t.ty;r=r||0,n=n||2,i=i||e.length/n-r;let f=r*n;for(let m=0;m<i;m++){const g=e[f],v=e[f+1];e[f]=s*g+a*v+c,e[f+1]=o*g+u*v+d,f+=n}}function lz(e,t){if(e===16777215||!t)return t;if(t===16777215||!e)return e;const r=e>>16&255,n=e>>8&255,i=e&255,s=t>>16&255,o=t>>8&255,a=t&255,u=r*s/255,c=n*o/255,d=i*a/255;return(u<<16)+(c<<8)+d}class PR{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(t,r,n){const i=this.geometryData.indices;for(let s=0;s<this.indexSize;s++)t[r++]=i[s+this.indexOffset]+n-this.vertexOffset}packAttributes(t,r,n,i){const s=this.geometryData,o=this.renderable,a=s.vertices,u=s.uvs,c=this.vertexOffset*2,d=(this.vertexOffset+this.vertexSize)*2,f=this.color,m=f>>16|f&65280|(f&255)<<16;if(this.applyTransform){const g=lz(m,o.groupColor)+(this.alpha*o.groupAlpha*255<<24),v=o.groupTransform,x=i<<16|this.roundPixels&65535,A=v.a,b=v.b,S=v.c,w=v.d,T=v.tx,M=v.ty;for(let N=c;N<d;N+=2){const C=a[N],I=a[N+1];t[n]=A*C+S*I+T,t[n+1]=b*C+w*I+M,t[n+2]=u[N],t[n+3]=u[N+1],r[n+4]=g,r[n+5]=x,n+=6}}else{const g=m+(this.alpha*255<<24);for(let v=c;v<d;v+=2)t[n]=a[v],t[n+1]=a[v+1],t[n+2]=u[v],t[n+3]=u[v+1],r[n+4]=g,r[n+5]=i<<16,n+=6}}get vertSize(){return this.vertexSize}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.vertexOffset=this.vertexOffset,t.vertexSize=this.vertexSize,t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const My={build(e,t){let r,n,i,s,o,a;if(e.type==="circle"){const T=e;r=T.x,n=T.y,o=a=T.radius,i=s=0}else if(e.type==="ellipse"){const T=e;r=T.x,n=T.y,o=T.halfWidth,a=T.halfHeight,i=s=0}else{const T=e,M=T.width/2,N=T.height/2;r=T.x+M,n=T.y+N,o=a=Math.max(0,Math.min(T.radius,Math.min(M,N))),i=M-o,s=N-a}if(!(o>=0&&a>=0&&i>=0&&s>=0))return t;const u=Math.ceil(2.3*Math.sqrt(o+a)),c=u*8+(i?4:0)+(s?4:0);if(c===0)return t;if(u===0)return t[0]=t[6]=r+i,t[1]=t[3]=n+s,t[2]=t[4]=r-i,t[5]=t[7]=n-s,t;let d=0,f=u*4+(i?2:0)+2,m=f,g=c,v=i+o,x=s,A=r+v,b=r-v,S=n+x;if(t[d++]=A,t[d++]=S,t[--f]=S,t[--f]=b,s){const T=n-x;t[m++]=b,t[m++]=T,t[--g]=T,t[--g]=A}for(let T=1;T<u;T++){const M=Math.PI/2*(T/u),N=i+Math.cos(M)*o,C=s+Math.sin(M)*a,I=r+N,B=r-N,F=n+C,Y=n-C;t[d++]=I,t[d++]=F,t[--f]=F,t[--f]=B,t[m++]=B,t[m++]=Y,t[--g]=Y,t[--g]=I}v=i,x=s+a,A=r+v,b=r-v,S=n+x;const w=n-x;return t[d++]=A,t[d++]=S,t[--g]=w,t[--g]=A,i&&(t[d++]=b,t[d++]=S,t[--g]=w,t[--g]=b),t},triangulate(e,t,r,n,i,s){if(e.length===0)return;let o=0,a=0;for(let d=0;d<e.length;d+=2)o+=e[d],a+=e[d+1];o/=e.length/2,a/=e.length/2;let u=n;t[u*r]=o,t[u*r+1]=a;const c=u++;for(let d=0;d<e.length;d+=2)t[u*r]=e[d],t[u*r+1]=e[d+1],d>0&&(i[s++]=u,i[s++]=c,i[s++]=u-1),u++;i[s++]=c+1,i[s++]=c,i[s++]=u-1}},uz=1e-4,GA=1e-4;function hz(e){const t=e.length;if(t<6)return 1;let r=0;for(let n=0,i=e[t-2],s=e[t-1];n<t;n+=2){const o=e[n],a=e[n+1];r+=(o-i)*(a+s),i=o,s=a}return r<0?-1:1}function jA(e,t,r,n,i,s,o,a){const u=e-r*i,c=t-n*i,d=e+r*s,f=t+n*s;let m,g;o?(m=n,g=-r):(m=-n,g=r);const v=u+m,x=c+g,A=d+m,b=f+g;return a.push(v,x),a.push(A,b),2}function ao(e,t,r,n,i,s,o,a){const u=r-e,c=n-t;let d=Math.atan2(u,c),f=Math.atan2(i-e,s-t);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let m=d;const g=f-d,v=Math.abs(g),x=Math.sqrt(u*u+c*c),A=(15*v*Math.sqrt(x)/Math.PI>>0)+1,b=g/A;if(m+=b,a){o.push(e,t),o.push(r,n);for(let S=1,w=m;S<A;S++,w+=b)o.push(e,t),o.push(e+Math.sin(w)*x,t+Math.cos(w)*x);o.push(e,t),o.push(i,s)}else{o.push(r,n),o.push(e,t);for(let S=1,w=m;S<A;S++,w+=b)o.push(e+Math.sin(w)*x,t+Math.cos(w)*x),o.push(e,t);o.push(i,s),o.push(e,t)}return A*2}function cz(e,t,r,n,i,s,o,a,u){const c=uz;if(e.length===0)return;const d=t;let f=d.alignment;if(t.alignment!==.5){let V=hz(e);f=(f-.5)*V+.5}const m=new hr(e[0],e[1]),g=new hr(e[e.length-2],e[e.length-1]),v=n,x=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(v){e=e.slice(),x&&(e.pop(),e.pop(),g.set(e[e.length-2],e[e.length-1]));const V=(m.x+g.x)*.5,ot=(g.y+m.y)*.5;e.unshift(V,ot),e.push(V,ot)}const A=i,b=e.length/2;let S=e.length;const w=A.length/2,T=d.width/2,M=T*T,N=d.miterLimit*d.miterLimit;let C=e[0],I=e[1],B=e[2],F=e[3],Y=0,J=0,U=-(I-F),D=C-B,z=0,H=0,W=Math.sqrt(U*U+D*D);U/=W,D/=W,U*=T,D*=T;const R=f,L=(1-R)*2,k=R*2;v||(d.cap==="round"?S+=ao(C-U*(L-k)*.5,I-D*(L-k)*.5,C-U*L,I-D*L,C+U*k,I+D*k,A,!0)+2:d.cap==="square"&&(S+=jA(C,I,U,D,L,k,!0,A))),A.push(C-U*L,I-D*L),A.push(C+U*k,I+D*k);for(let V=1;V<b-1;++V){C=e[(V-1)*2],I=e[(V-1)*2+1],B=e[V*2],F=e[V*2+1],Y=e[(V+1)*2],J=e[(V+1)*2+1],U=-(I-F),D=C-B,W=Math.sqrt(U*U+D*D),U/=W,D/=W,U*=T,D*=T,z=-(F-J),H=B-Y,W=Math.sqrt(z*z+H*H),z/=W,H/=W,z*=T,H*=T;const ot=B-C,st=I-F,yt=B-Y,pt=J-F,bt=ot*yt+st*pt,Ft=st*yt-pt*ot,Rt=Ft<0;if(Math.abs(Ft)<.001*Math.abs(bt)){A.push(B-U*L,F-D*L),A.push(B+U*k,F+D*k),bt>=0&&(d.join==="round"?S+=ao(B,F,B-U*L,F-D*L,B-z*L,F-H*L,A,!1)+4:S+=2,A.push(B-z*k,F-H*k),A.push(B+z*L,F+H*L));continue}const Et=(-U+C)*(-D+F)-(-U+B)*(-D+I),gt=(-z+Y)*(-H+F)-(-z+B)*(-H+J),St=(ot*gt-yt*Et)/Ft,Tt=(pt*Et-st*gt)/Ft,rr=(St-B)*(St-B)+(Tt-F)*(Tt-F),Ae=B+(St-B)*L,pr=F+(Tt-F)*L,bn=B-(St-B)*k,Sr=F-(Tt-F)*k,$p=Math.min(ot*ot+st*st,yt*yt+pt*pt),ts=Rt?L:k,zp=$p+ts*ts*M;rr<=zp?d.join==="bevel"||rr/M>N?(Rt?(A.push(Ae,pr),A.push(B+U*k,F+D*k),A.push(Ae,pr),A.push(B+z*k,F+H*k)):(A.push(B-U*L,F-D*L),A.push(bn,Sr),A.push(B-z*L,F-H*L),A.push(bn,Sr)),S+=2):d.join==="round"?Rt?(A.push(Ae,pr),A.push(B+U*k,F+D*k),S+=ao(B,F,B+U*k,F+D*k,B+z*k,F+H*k,A,!0)+4,A.push(Ae,pr),A.push(B+z*k,F+H*k)):(A.push(B-U*L,F-D*L),A.push(bn,Sr),S+=ao(B,F,B-U*L,F-D*L,B-z*L,F-H*L,A,!1)+4,A.push(B-z*L,F-H*L),A.push(bn,Sr)):(A.push(Ae,pr),A.push(bn,Sr)):(A.push(B-U*L,F-D*L),A.push(B+U*k,F+D*k),d.join==="round"?Rt?S+=ao(B,F,B+U*k,F+D*k,B+z*k,F+H*k,A,!0)+2:S+=ao(B,F,B-U*L,F-D*L,B-z*L,F-H*L,A,!1)+2:d.join==="miter"&&rr/M<=N&&(Rt?(A.push(bn,Sr),A.push(bn,Sr)):(A.push(Ae,pr),A.push(Ae,pr)),S+=2),A.push(B-z*L,F-H*L),A.push(B+z*k,F+H*k),S+=2)}C=e[(b-2)*2],I=e[(b-2)*2+1],B=e[(b-1)*2],F=e[(b-1)*2+1],U=-(I-F),D=C-B,W=Math.sqrt(U*U+D*D),U/=W,D/=W,U*=T,D*=T,A.push(B-U*L,F-D*L),A.push(B+U*k,F+D*k),v||(d.cap==="round"?S+=ao(B-U*(L-k)*.5,F-D*(L-k)*.5,B-U*L,F-D*L,B+U*k,F+D*k,A,!1)+2:d.cap==="square"&&(S+=jA(B,F,U,D,L,k,!1,A)));const G=GA*GA;for(let V=w;V<S+w-2;++V)C=A[V*2],I=A[V*2+1],B=A[(V+1)*2],F=A[(V+1)*2+1],Y=A[(V+2)*2],J=A[(V+2)*2+1],!(Math.abs(C*(F-J)+B*(J-I)+Y*(I-F))<G)&&a.push(V,V+1,V+2)}function IR(e,t,r,n,i,s,o){const a=RC(e,t,2);if(!a)return;for(let c=0;c<a.length;c+=3)s[o++]=a[c]+i,s[o++]=a[c+1]+i,s[o++]=a[c+2]+i;let u=i*n;for(let c=0;c<e.length;c+=2)r[u]=e[c],r[u+1]=e[c+1],u+=n}const dz=[],fz={build(e,t){for(let r=0;r<e.points.length;r++)t[r]=e.points[r];return t},triangulate(e,t,r,n,i,s){IR(e,dz,t,r,n,i,s)}},pz={build(e,t){const r=e,n=r.x,i=r.y,s=r.width,o=r.height;return s>=0&&o>=0&&(t[0]=n,t[1]=i,t[2]=n+s,t[3]=i,t[4]=n+s,t[5]=i+o,t[6]=n,t[7]=i+o),t},triangulate(e,t,r,n,i,s){let o=0;n*=r,t[n+o]=e[0],t[n+o+1]=e[1],o+=r,t[n+o]=e[2],t[n+o+1]=e[3],o+=r,t[n+o]=e[6],t[n+o+1]=e[7],o+=r,t[n+o]=e[4],t[n+o+1]=e[5],o+=r;const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},mz={build(e,t){return t[0]=e.x,t[1]=e.y,t[2]=e.x2,t[3]=e.y2,t[4]=e.x3,t[5]=e.y3,t},triangulate(e,t,r,n,i,s){let o=0;n*=r,t[n+o]=e[0],t[n+o+1]=e[1],o+=r,t[n+o]=e[2],t[n+o+1]=e[3],o+=r,t[n+o]=e[4],t[n+o+1]=e[5];const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},m_={rectangle:pz,polygon:fz,triangle:mz,circle:My,ellipse:My,roundedRectangle:My},gz=new Ke;function yz(e,t){const{geometryData:r,batches:n}=t;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let i=0;i<e.instructions.length;i++){const s=e.instructions[i];if(s.action==="texture")vz(s.data,n,r);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,u=s.data.style,c=s.data.hole;o&&c&&HA(c.shapePath,u,null,!0,n,r),HA(a,u,c,o,n,r)}}}function vz(e,t,r){const{vertices:n,uvs:i,indices:s}=r,o=s.length,a=n.length/2,u=[],c=m_.rectangle,d=gz,f=e.image;d.x=e.dx,d.y=e.dy,d.width=e.dw,d.height=e.dh;const m=e.transform;c.build(d,u),m&&CR(u,m),c.triangulate(u,n,2,a,s,o);const g=f.uvs;i.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2);const v=Bi.get(PR);v.indexOffset=o,v.indexSize=s.length-o,v.vertexOffset=a,v.vertexSize=n.length/2-a,v.color=e.style,v.alpha=e.alpha,v.texture=f,v.geometryData=r,t.push(v)}function HA(e,t,r,n,i,s){const{vertices:o,uvs:a,indices:u}=s,c=e.shapePrimitives.length-1;e.shapePrimitives.forEach(({shape:d,transform:f},m)=>{const g=u.length,v=o.length/2,x=[],A=m_[d.type];if(A.build(d,x),f&&CR(x,f),n){const T=d.closePath??!0;cz(x,t,!1,T,o,2,v,u)}else if(r&&c===m){c!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const T=[],M=x.slice();_z(r.shapePath).forEach(C=>{T.push(M.length/2),M.push(...C)}),IR(M,T,o,2,v,u,g)}else A.triangulate(x,o,2,v,u,g);const b=a.length/2,S=t.texture;if(S!==Kt.WHITE){const T=t.matrix;f&&T.append(f.clone().invert()),oz(o,2,v,a,b,2,o.length/2-v,T)}else az(a,b,2,o.length/2-v);const w=Bi.get(PR);w.indexOffset=g,w.indexSize=u.length-g,w.vertexOffset=v,w.vertexSize=o.length/2-v,w.color=t.color,w.alpha=t.alpha,w.texture=S,w.geometryData=s,i.push(w)})}function _z(e){if(!e)return[];const t=e.shapePrimitives,r=[];for(let n=0;n<t.length;n++){const i=t[n].shape,s=[];m_[i.type].build(i,s),r.push(s)}return r}class xz{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class wz{constructor(){this.geometry=new ez,this.instructions=new aR}init(){this.instructions.reset()}}const g_=class Lv{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null)}init(t){Lv.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Lv.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let r=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){r?this._cleanGraphicsContextData(t):r=this._initContext(t),yz(t,r);const n=t.batchMode;t.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"&&(r.isBatchable=r.geometryData.vertices.length<400),t.dirty=!1}return r}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_returnActiveBatchers(){for(let t=0;t<this._activeBatchers.length;t++)Bi.return(this._activeBatchers[t]);this._activeBatchers.length=0}_initContextRenderData(t){const r=Bi.get(wz),{batches:n,geometryData:i}=this._gpuContextHash[t.uid],s=i.vertices.length,o=i.indices.length;for(let d=0;d<n.length;d++)n[d].applyTransform=!1;const a=Bi.get(sz);this._activeBatchers.push(a),a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let d=0;d<n.length;d++){const f=n[d];a.add(f)}a.finish(r.instructions);const u=r.geometry;u.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),u.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let d=0;d<c.length;d++){const f=c[d];f.bindGroup=rz(f.textures.textures,f.textures.count)}return this._graphicsDataContextHash[t.uid]=r,r}_initContext(t){const r=new xz;return r.context=t,this._gpuContextHash[t.uid]=r,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const r=this._gpuContextHash[t.uid];r.isBatchable||this._graphicsDataContextHash[t.uid]&&(Bi.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),r.batches&&r.batches.forEach(n=>{Bi.return(n)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};g_.extension={type:[Ct.WebGLSystem,Ct.WebGPUSystem,Ct.CanvasSystem],name:"graphicsContext"};g_.defaultOptions={bezierSmoothness:.5};let RR=g_;const bz=8,Ed=11920929e-14,Sz=1;function MR(e,t,r,n,i,s,o,a,u,c){const f=Math.min(.99,Math.max(0,c??RR.defaultOptions.bezierSmoothness));let m=(Sz-f)/1;return m*=m,Az(t,r,n,i,s,o,a,u,e,m),e}function Az(e,t,r,n,i,s,o,a,u,c){Ov(e,t,r,n,i,s,o,a,u,c,0),u.push(o,a)}function Ov(e,t,r,n,i,s,o,a,u,c,d){if(d>bz)return;const f=(e+r)/2,m=(t+n)/2,g=(r+i)/2,v=(n+s)/2,x=(i+o)/2,A=(s+a)/2,b=(f+g)/2,S=(m+v)/2,w=(g+x)/2,T=(v+A)/2,M=(b+w)/2,N=(S+T)/2;if(d>0){let C=o-e,I=a-t;const B=Math.abs((r-o)*I-(n-a)*C),F=Math.abs((i-o)*I-(s-a)*C);if(B>Ed&&F>Ed){if((B+F)*(B+F)<=c*(C*C+I*I)){u.push(M,N);return}}else if(B>Ed){if(B*B<=c*(C*C+I*I)){u.push(M,N);return}}else if(F>Ed){if(F*F<=c*(C*C+I*I)){u.push(M,N);return}}else if(C=M-(e+o)/2,I=N-(t+a)/2,C*C+I*I<=c){u.push(M,N);return}}Ov(e,t,f,m,b,S,M,N,u,c,d+1),Ov(M,N,w,T,x,A,o,a,u,c,d+1)}const Ez=8,Tz=11920929e-14,Cz=1;function Pz(e,t,r,n,i,s,o,a){const c=Math.min(.99,Math.max(0,a??RR.defaultOptions.bezierSmoothness));let d=(Cz-c)/1;return d*=d,Iz(t,r,n,i,s,o,e,d),e}function Iz(e,t,r,n,i,s,o,a){Dv(o,e,t,r,n,i,s,a,0),o.push(i,s)}function Dv(e,t,r,n,i,s,o,a,u){if(u>Ez)return;const c=(t+n)/2,d=(r+i)/2,f=(n+s)/2,m=(i+o)/2,g=(c+f)/2,v=(d+m)/2;let x=s-t,A=o-r;const b=Math.abs((n-s)*A-(i-o)*x);if(b>Tz){if(b*b<=a*(x*x+A*A)){e.push(g,v);return}}else if(x=g-(t+s)/2,A=v-(r+o)/2,x*x+A*A<=a){e.push(g,v);return}Dv(e,t,r,c,d,g,v,a,u+1),Dv(e,g,v,f,m,s,o,a,u+1)}function kR(e,t,r,n,i,s,o,a){let u=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(u=2*Math.PI-u),a=a||Math.max(6,Math.floor(6*Math.pow(n,1/3)*(u/Math.PI))),a=Math.max(a,3);let c=u/a,d=i;c*=o?-1:1;for(let f=0;f<a+1;f++){const m=Math.cos(d),g=Math.sin(d),v=t+m*n,x=r+g*n;e.push(v,x),d+=c}}function Rz(e,t,r,n,i,s){const o=e[e.length-2],u=e[e.length-1]-r,c=o-t,d=i-r,f=n-t,m=Math.abs(u*f-c*d);if(m<1e-8||s===0){(e[e.length-2]!==t||e[e.length-1]!==r)&&e.push(t,r);return}const g=u*u+c*c,v=d*d+f*f,x=u*d+c*f,A=s*Math.sqrt(g)/m,b=s*Math.sqrt(v)/m,S=A*x/g,w=b*x/v,T=A*f+b*c,M=A*d+b*u,N=c*(b+S),C=u*(b+S),I=f*(A+w),B=d*(A+w),F=Math.atan2(C-M,N-T),Y=Math.atan2(B-M,I-T);kR(e,T+t,M+r,s,F,Y,c*d>f*u)}const Qu=Math.PI*2,ky={centerX:0,centerY:0,ang1:0,ang2:0},Ny=({x:e,y:t},r,n,i,s,o,a,u)=>{e*=r,t*=n;const c=i*e-s*t,d=s*e+i*t;return u.x=c+o,u.y=d+a,u};function Mz(e,t){const r=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=t===1.5707963267948966?.551915024494:r,i=Math.cos(e),s=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[{x:i-s*n,y:s+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}const WA=(e,t,r,n)=>{const i=e*n-t*r<0?-1:1;let s=e*r+t*n;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},kz=(e,t,r,n,i,s,o,a,u,c,d,f,m)=>{const g=Math.pow(i,2),v=Math.pow(s,2),x=Math.pow(d,2),A=Math.pow(f,2);let b=g*v-g*A-v*x;b<0&&(b=0),b/=g*A+v*x,b=Math.sqrt(b)*(o===a?-1:1);const S=b*i/s*f,w=b*-s/i*d,T=c*S-u*w+(e+r)/2,M=u*S+c*w+(t+n)/2,N=(d-S)/i,C=(f-w)/s,I=(-d-S)/i,B=(-f-w)/s,F=WA(1,0,N,C);let Y=WA(N,C,I,B);a===0&&Y>0&&(Y-=Qu),a===1&&Y<0&&(Y+=Qu),m.centerX=T,m.centerY=M,m.ang1=F,m.ang2=Y};function Nz(e,t,r,n,i,s,o,a=0,u=0,c=0){if(s===0||o===0)return;const d=Math.sin(a*Qu/360),f=Math.cos(a*Qu/360),m=f*(t-n)/2+d*(r-i)/2,g=-d*(t-n)/2+f*(r-i)/2;if(m===0&&g===0)return;s=Math.abs(s),o=Math.abs(o);const v=Math.pow(m,2)/Math.pow(s,2)+Math.pow(g,2)/Math.pow(o,2);v>1&&(s*=Math.sqrt(v),o*=Math.sqrt(v)),kz(t,r,n,i,s,o,u,c,d,f,m,g,ky);let{ang1:x,ang2:A}=ky;const{centerX:b,centerY:S}=ky;let w=Math.abs(A)/(Qu/4);Math.abs(1-w)<1e-7&&(w=1);const T=Math.max(Math.ceil(w),1);A/=T;let M=e[e.length-2],N=e[e.length-1];const C={x:0,y:0};for(let I=0;I<T;I++){const B=Mz(x,A),{x:F,y:Y}=Ny(B[0],s,o,f,d,b,S,C),{x:J,y:U}=Ny(B[1],s,o,f,d,b,S,C),{x:D,y:z}=Ny(B[2],s,o,f,d,b,S,C);MR(e,M,N,F,Y,J,U,D,z),M=D,N=z,x+=A}}function Fz(e,t,r){const n=(o,a)=>{const u=a.x-o.x,c=a.y-o.y,d=Math.sqrt(u*u+c*c),f=u/d,m=c/d;return{len:d,nx:f,ny:m}},i=(o,a)=>{o===0?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y)};let s=t[t.length-1];for(let o=0;o<t.length;o++){const a=t[o%t.length],u=a.radius??r;if(u<=0){i(o,a),s=a;continue}const c=t[(o+1)%t.length],d=n(a,s),f=n(a,c);if(d.len<1e-4||f.len<1e-4){i(o,a),s=a;continue}let m=Math.asin(d.nx*f.ny-d.ny*f.nx),g=1,v=!1;d.nx*f.nx-d.ny*-f.ny<0?m<0?m=Math.PI+m:(m=Math.PI-m,g=-1,v=!0):m>0&&(g=-1,v=!0);const x=m/2;let A,b=Math.abs(Math.cos(x)*u/Math.sin(x));b>Math.min(d.len/2,f.len/2)?(b=Math.min(d.len/2,f.len/2),A=Math.abs(b*Math.sin(x)/Math.cos(x))):A=u;const S=a.x+f.nx*b+-f.ny*A*g,w=a.y+f.ny*b+f.nx*A*g,T=Math.atan2(d.ny,d.nx)+Math.PI/2*g,M=Math.atan2(f.ny,f.nx)-Math.PI/2*g;o===0&&e.moveTo(S+Math.cos(T)*A,w+Math.sin(T)*A),e.arc(S,w,A,T,M,v),s=a}}function Bz(e,t,r,n){const i=(a,u)=>Math.sqrt((a.x-u.x)**2+(a.y-u.y)**2),s=(a,u,c)=>({x:a.x+(u.x-a.x)*c,y:a.y+(u.y-a.y)*c}),o=t.length;for(let a=0;a<o;a++){const u=t[(a+1)%o],c=u.radius??r;if(c<=0){a===0?e.moveTo(u.x,u.y):e.lineTo(u.x,u.y);continue}const d=t[a],f=t[(a+2)%o],m=i(d,u);let g;if(m<1e-4)g=u;else{const A=Math.min(m/2,c);g=s(u,d,A/m)}const v=i(f,u);let x;if(v<1e-4)x=u;else{const A=Math.min(v/2,c);x=s(u,f,A/v)}a===0?e.moveTo(g.x,g.y):e.lineTo(g.x,g.y),e.quadraticCurveTo(u.x,u.y,x.x,x.y,n)}}const Lz=new Ke;class Oz{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Qi,this._graphicsPath2D=t}moveTo(t,r){return this.startPoly(t,r),this}lineTo(t,r){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],s=n[n.length-1];return(i!==t||s!==r)&&n.push(t,r),this}arc(t,r,n,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return kR(a,t,r,n,i,s,o),this}arcTo(t,r,n,i,s){this._ensurePoly();const o=this._currentPoly.points;return Rz(o,t,r,n,i,s),this}arcToSvg(t,r,n,i,s,o,a){const u=this._currentPoly.points;return Nz(u,this._currentPoly.lastX,this._currentPoly.lastY,o,a,t,r,n,i,s),this}bezierCurveTo(t,r,n,i,s,o,a){this._ensurePoly();const u=this._currentPoly;return MR(this._currentPoly.points,u.lastX,u.lastY,t,r,n,i,s,o,a),this}quadraticCurveTo(t,r,n,i,s){this._ensurePoly();const o=this._currentPoly;return Pz(this._currentPoly.points,o.lastX,o.lastY,t,r,n,i,s),this}closePath(){return this.endPoly(!0),this}addPath(t,r){this.endPoly(),r&&!r.isIdentity()&&(t=t.clone(!0),t.transform(r));for(let n=0;n<t.instructions.length;n++){const i=t.instructions[n];this[i.action](...i.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,r,n,i,s){return this.drawShape(new Ke(t,r,n,i),s),this}circle(t,r,n,i){return this.drawShape(new d_(t,r,n),i),this}poly(t,r,n){const i=new qu(t);return i.closePath=r,this.drawShape(i,n),this}regularPoly(t,r,n,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,u=Math.PI*2/i,c=[];for(let d=0;d<i;d++){const f=d*u+a;c.push(t+n*Math.cos(f),r+n*Math.sin(f))}return this.poly(c,!0,o),this}roundPoly(t,r,n,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(t,r,n,i,o);const u=n*Math.sin(Math.PI/i)-.001;s=Math.min(s,u);const c=-1*Math.PI/2+o,d=Math.PI*2/i,f=(i-2)*Math.PI/i/2;for(let m=0;m<i;m++){const g=m*d+c,v=t+n*Math.cos(g),x=r+n*Math.sin(g),A=g+Math.PI+f,b=g-Math.PI-f,S=v+s*Math.cos(A),w=x+s*Math.sin(A),T=v+s*Math.cos(b),M=x+s*Math.sin(b);m===0?this.moveTo(S,w):this.lineTo(S,w),this.quadraticCurveTo(v,x,T,M,a)}return this.closePath()}roundShape(t,r,n=!1,i){return t.length<3?this:(n?Bz(this,t,r,i):Fz(this,t,r),this.closePath())}filletRect(t,r,n,i,s){if(s===0)return this.rect(t,r,n,i);const o=Math.min(n,i)/2,a=Math.min(o,Math.max(-o,s)),u=t+n,c=r+i,d=a<0?-a:0,f=Math.abs(a);return this.moveTo(t,r+f).arcTo(t+d,r+d,t+f,r,f).lineTo(u-f,r).arcTo(u-d,r+d,u,r+f,f).lineTo(u,c-f).arcTo(u-d,c-d,t+n-f,c,f).lineTo(t+f,c).arcTo(t+d,c-d,t,c-f,f).closePath()}chamferRect(t,r,n,i,s,o){if(s<=0)return this.rect(t,r,n,i);const a=Math.min(s,Math.min(n,i)/2),u=t+n,c=r+i,d=[t+a,r,u-a,r,u,r+a,u,c-a,u-a,c,t+a,c,t,c-a,t,r+a];for(let f=d.length-1;f>=2;f-=2)d[f]===d[f-2]&&d[f-1]===d[f-3]&&d.splice(f-1,2);return this.poly(d,!0,o)}ellipse(t,r,n,i,s){return this.drawShape(new f_(t,r,n,i),s),this}roundRect(t,r,n,i,s,o){return this.drawShape(new p_(t,r,n,i,s),o),this}drawShape(t,r){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:r}),this}startPoly(t,r){let n=this._currentPoly;return n&&this.endPoly(),n=new qu,n.points.push(t,r),this._currentPoly=n,this}endPoly(t=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=t,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new qu,t)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,i=r.shape.y;if(!r.transform.isIdentity()){const s=r.transform,o=n;n=s.a*n+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<t.instructions.length;r++){const n=t.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const i=r[n],s=i.shape.getBounds(Lz);i.transform?t.addRect(s,i.transform):t.addRect(s)}return t}}class xl{constructor(t){this.instructions=[],this.uid=Ze("graphicsPath"),this._dirty=!0,typeof t=="string"?Y5(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Oz(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,r){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,r]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,r,n,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(hr.shared);let u=0,c=0;if(!o||o.action!=="bezierCurveTo")u=a.x,c=a.y;else{u=o.data[2],c=o.data[3];const d=a.x,f=a.y;u=d+(d-u),c=f+(f-c)}return this.instructions.push({action:"bezierCurveTo",data:[u,c,t,r,n,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,r,n){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(hr.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const u=s.x,c=s.y;o=u+(u-o),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,t,r,n]}),this._dirty=!0,this}rect(t,r,n,i,s){return this.instructions.push({action:"rect",data:[t,r,n,i,s]}),this._dirty=!0,this}circle(t,r,n,i){return this.instructions.push({action:"circle",data:[t,r,n,i]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,r,n,i,s,o,a){s=s||i/2;const u=-1*Math.PI/2+o,c=n*2,d=Math.PI*2/c,f=[];for(let m=0;m<c;m++){const g=m%2?s:i,v=m*d+u;f.push(t+g*Math.cos(v),r+g*Math.sin(v))}return this.poly(f,!0,a),this}clone(t=!1){const r=new xl;if(!t)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];r.instructions.push({action:i.action,data:i.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const r=t.a,n=t.b,i=t.c,s=t.d,o=t.tx,a=t.ty;let u=0,c=0,d=0,f=0,m=0,g=0,v=0,x=0;for(let A=0;A<this.instructions.length;A++){const b=this.instructions[A],S=b.data;switch(b.action){case"moveTo":case"lineTo":u=S[0],c=S[1],S[0]=r*u+i*c+o,S[1]=n*u+s*c+a;break;case"bezierCurveTo":d=S[0],f=S[1],m=S[2],g=S[3],u=S[4],c=S[5],S[0]=r*d+i*f+o,S[1]=n*d+s*f+a,S[2]=r*m+i*g+o,S[3]=n*m+s*g+a,S[4]=r*u+i*c+o,S[5]=n*u+s*c+a;break;case"quadraticCurveTo":d=S[0],f=S[1],u=S[2],c=S[3],S[0]=r*d+i*f+o,S[1]=n*d+s*f+a,S[2]=r*u+i*c+o,S[3]=n*u+s*c+a;break;case"arcToSvg":u=S[5],c=S[6],v=S[0],x=S[1],S[0]=r*v+i*x,S[1]=n*v+s*x,S[5]=r*u+i*c+o,S[6]=n*u+s*c+a;break;case"circle":S[4]=_u(S[3],t);break;case"rect":S[4]=_u(S[4],t);break;case"ellipse":S[8]=_u(S[8],t);break;case"roundRect":S[5]=_u(S[5],t);break;case"addPath":S[0].transform(t);break;case"poly":S[2]=_u(S[2],t);break;default:Je("unknown transform action",b.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return t.x=0,t.y=0,t;for(;n.action==="closePath";){if(r--,r<0)return t.x=0,t.y=0,t;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":t.x=n.data[0],t.y=n.data[1];break;case"quadraticCurveTo":t.x=n.data[2],t.y=n.data[3];break;case"bezierCurveTo":t.x=n.data[4],t.y=n.data[5];break;case"arc":case"arcToSvg":t.x=n.data[5],t.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(t);break}return t}}function _u(e,t){return e?e.prepend(t):t.clone()}function Dz(e,t){if(typeof e=="string"){const n=document.createElement("div");n.innerHTML=e.trim(),e=n.querySelector("svg")}const r={context:t,path:new xl};return NR(e,r,null,null),t}function NR(e,t,r,n){const i=e.children,{fillStyle:s,strokeStyle:o}=Uz(e);s&&r?r={...r,...s}:s&&(r=s),o&&n?n={...n,...o}:o&&(n=o),t.context.fillStyle=r,t.context.strokeStyle=n;let a,u,c,d,f,m,g,v,x,A,b,S,w,T,M,N,C;switch(e.nodeName.toLowerCase()){case"path":T=e.getAttribute("d"),M=new xl(T),t.context.path(M),r&&t.context.fill(),n&&t.context.stroke();break;case"circle":g=$e(e,"cx",0),v=$e(e,"cy",0),x=$e(e,"r",0),t.context.ellipse(g,v,x,x),r&&t.context.fill(),n&&t.context.stroke();break;case"rect":a=$e(e,"x",0),u=$e(e,"y",0),N=$e(e,"width",0),C=$e(e,"height",0),A=$e(e,"rx",0),b=$e(e,"ry",0),A||b?t.context.roundRect(a,u,N,C,A||b):t.context.rect(a,u,N,C),r&&t.context.fill(),n&&t.context.stroke();break;case"ellipse":g=$e(e,"cx",0),v=$e(e,"cy",0),A=$e(e,"rx",0),b=$e(e,"ry",0),t.context.beginPath(),t.context.ellipse(g,v,A,b),r&&t.context.fill(),n&&t.context.stroke();break;case"line":c=$e(e,"x1",0),d=$e(e,"y1",0),f=$e(e,"x2",0),m=$e(e,"y2",0),t.context.beginPath(),t.context.moveTo(c,d),t.context.lineTo(f,m),n&&t.context.stroke();break;case"polygon":w=e.getAttribute("points"),S=w.match(/\d+/g).map(I=>parseInt(I,10)),t.context.poly(S,!0),r&&t.context.fill(),n&&t.context.stroke();break;case"polyline":w=e.getAttribute("points"),S=w.match(/\d+/g).map(I=>parseInt(I,10)),t.context.poly(S,!1),n&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${e.nodeName}> elements unsupported`);break}}for(let I=0;I<i.length;I++)NR(i[I],t,r,n)}function $e(e,t,r){const n=e.getAttribute(t);return n?Number(n):r}function Uz(e){const t=e.getAttribute("style"),r={},n={};let i=!1,s=!1;if(t){const o=t.split(";");for(let a=0;a<o.length;a++){const u=o[a],[c,d]=u.split(":");switch(c){case"stroke":d!=="none"&&(r.color=mi.shared.setValue(d).toNumber(),s=!0);break;case"stroke-width":r.width=Number(d);break;case"fill":d!=="none"&&(i=!0,n.color=mi.shared.setValue(d).toNumber());break;case"fill-opacity":n.alpha=Number(d);break;case"stroke-opacity":r.alpha=Number(d);break;case"opacity":n.alpha=Number(d),r.alpha=Number(d);break}}}else{const o=e.getAttribute("stroke");o&&o!=="none"&&(s=!0,r.color=mi.shared.setValue(o).toNumber(),r.width=$e(e,"stroke-width",1));const a=e.getAttribute("fill");a&&a!=="none"&&(i=!0,n.color=mi.shared.setValue(a).toNumber())}return{strokeStyle:s?r:null,fillStyle:i?n:null}}const FR=class Uv{constructor(t,r,n,i){this.uid=Ze("fillGradient"),this.type="linear",this.gradientStops=[],this.x0=t,this.y0=r,this.x1=n,this.y1=i}addColorStop(t,r){return this.gradientStops.push({offset:t,color:mi.shared.setValue(r).toHex()}),this}buildLinearGradient(){const t=Uv.defaultTextureSize,{gradientStops:r}=this,n=_n.get().createCanvas();n.width=t,n.height=t;const i=n.getContext("2d"),s=i.createLinearGradient(0,0,Uv.defaultTextureSize,1);for(let x=0;x<r.length;x++){const A=r[x];s.addColorStop(A.offset,A.color)}i.fillStyle=s,i.fillRect(0,0,t,t),this.texture=new Kt({source:new $h({resource:n,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:o,y0:a,x1:u,y1:c}=this,d=new Qt,f=u-o,m=c-a,g=Math.sqrt(f*f+m*m),v=Math.atan2(m,f);d.translate(-o,-a),d.scale(1/t,1/t),d.rotate(-v),d.scale(256/g,1),this.transform=d}};FR.defaultTextureSize=256;let $z=FR;const VA={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class zz{constructor(t,r){this.uid=Ze("fillPattern"),this.transform=new Qt,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),r&&(t.source.style.addressModeU=VA[r].addressModeU,t.source.style.addressModeV=VA[r].addressModeV)}setTransform(t){const r=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height)}}function va(e,t){var o;if(e==null)return null;let r,n;if(e!=null&&e.fill?(n=e.fill,r={...t,...e}):(n=e,r=t),mi.isColorLike(n)){const a=mi.shared.setValue(n??0);return{...r,color:a.toNumber(),alpha:a.alpha===1?r.alpha:a.alpha,texture:Kt.WHITE}}else if(n instanceof zz){const a=n;return{...r,color:16777215,texture:a.texture,matrix:a.transform,fill:r.fill??null}}else if(n instanceof $z){const a=n;return a.buildLinearGradient(),{...r,color:16777215,texture:a.texture,matrix:a.transform}}const i={...t,...e};if(i.texture){if(i.texture!==Kt.WHITE){const u=((o=i.matrix)==null?void 0:o.invert())||new Qt;u.scale(1/i.texture.frame.width,1/i.texture.frame.height),i.matrix=u}const a=i.texture.source.style;a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat")}const s=mi.shared.setValue(i.color);return i.alpha*=s.alpha,i.color=s.toNumber(),i.matrix=i.matrix?i.matrix.clone():null,i}const Gz=new hr,XA=new Qt,y_=class li extends Xo{constructor(){super(...arguments),this.uid=Ze("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new xl,this._transform=new Qt,this._fillStyle={...li.defaultFillStyle},this._strokeStyle={...li.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Qi,this._boundsDirty=!0}clone(){const t=new li;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=va(t,li.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=va(t,li.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=va(t,li.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=va(t,li.defaultStrokeStyle),this}texture(t,r,n,i,s,o){return this.instructions.push({action:"texture",data:{image:t,dx:n||0,dy:i||0,dw:s||t.frame.width,dh:o||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?mi.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new xl,this}fill(t,r){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(t!=null&&(r!==void 0&&typeof t=="number"&&(jo(Go,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:r}),this._fillStyle=va(t,li.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:r}=this._activePath.getLastPoint(hr.shared);this._activePath.clear(),this._activePath.moveTo(t,r)}stroke(t){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(t!=null&&(this._strokeStyle=va(t,li.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const r=this.instructions[this.instructions.length-1-t],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(t,r,n,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*t+a.c*r+a.tx,a.b*t+a.d*r+a.ty,n,i,s,o),this}arcTo(t,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*t+o.c*r+o.tx,o.b*t+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}arcToSvg(t,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.arcToSvg(t,r,n,i,s,u.a*o+u.c*a+u.tx,u.b*o+u.d*a+u.ty),this}bezierCurveTo(t,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.bezierCurveTo(u.a*t+u.c*r+u.tx,u.b*t+u.d*r+u.ty,u.a*n+u.c*i+u.tx,u.b*n+u.d*i+u.ty,u.a*s+u.c*o+u.tx,u.b*s+u.d*o+u.ty,a),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,r,n,i){return this._tick++,this._activePath.ellipse(t,r,n,i,this._transform.clone()),this}circle(t,r,n){return this._tick++,this._activePath.circle(t,r,n,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*t+n.c*r+n.tx,n.b*t+n.d*r+n.ty),this}moveTo(t,r){this._tick++;const n=this._transform,i=this._activePath.instructions,s=n.a*t+n.c*r+n.tx,o=n.b*t+n.d*r+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(t,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*t+o.c*r+o.tx,o.b*t+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}rect(t,r,n,i){return this._tick++,this._activePath.rect(t,r,n,i,this._transform.clone()),this}roundRect(t,r,n,i,s){return this._tick++,this._activePath.roundRect(t,r,n,i,s,this._transform.clone()),this}poly(t,r){return this._tick++,this._activePath.poly(t,r,this._transform.clone()),this}regularPoly(t,r,n,i,s=0,o){return this._tick++,this._activePath.regularPoly(t,r,n,i,s,o),this}roundPoly(t,r,n,i,s,o){return this._tick++,this._activePath.roundPoly(t,r,n,i,s,o),this}roundShape(t,r,n,i){return this._tick++,this._activePath.roundShape(t,r,n,i),this}filletRect(t,r,n,i,s){return this._tick++,this._activePath.filletRect(t,r,n,i,s),this}chamferRect(t,r,n,i,s,o){return this._tick++,this._activePath.chamferRect(t,r,n,i,s,o),this}star(t,r,n,i,s=0,o=0){return this._tick++,this._activePath.star(t,r,n,i,s,o,this._transform.clone()),this}svg(t){return this._tick++,Dz(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,r=t){return this._transform.scale(t,r),this}setTransform(t,r,n,i,s,o){return t instanceof Qt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,r,n,i,s,o),this)}transform(t,r,n,i,s,o){return t instanceof Qt?(this._transform.append(t),this):(XA.set(t,r,n,i,s,o),this._transform.append(XA),this)}translate(t,r=t){return this._transform.translate(t,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],i=n.action;if(i==="fill"){const s=n.data;t.addBounds(s.path.bounds)}else if(i==="texture"){const s=n.data;t.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=n.data,o=s.style.width/2,a=s.path.bounds;t.addFrame(a.minX-o,a.minY-o,a.maxX+o,a.maxY+o)}}return t}containsPoint(t){var i;if(!this.bounds.containsPoint(t.x,t.y))return!1;const r=this.instructions;let n=!1;for(let s=0;s<r.length;s++){const o=r[s],a=o.data,u=a.path;if(!o.action||!u)continue;const c=a.style,d=u.shapePath.shapePrimitives;for(let f=0;f<d.length;f++){const m=d[f].shape;if(!c||!m)continue;const g=d[f].transform,v=g?g.applyInverse(t,Gz):t;o.action==="fill"?n=m.contains(v.x,v.y):n=m.strokeContains(v.x,v.y,c.width);const x=a.hole;if(x){const A=(i=x.shapePath)==null?void 0:i.shapePrimitives;if(A)for(let b=0;b<A.length;b++)A[b].shape.contains(v.x,v.y)&&(n=!1)}if(n)return!0}}return n}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const n=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};y_.defaultFillStyle={color:16777215,alpha:1,texture:Kt.WHITE,matrix:null,fill:null};y_.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Kt.WHITE,matrix:null,fill:null};let jz=y_;function v_(e,t=1){var n;const r=(n=Nl.RETINA_PREFIX)==null?void 0:n.exec(e);return r?parseFloat(r[1]):t}function __(e,t,r){e.label=r,e._sourceOrigin=r;const n=new Kt({source:e,label:r}),i=()=>{delete t.promiseCache[r],vr.has(r)&&vr.remove(r)};return n.source.once("destroy",()=>{t.promiseCache[r]&&(Je("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),n.once("destroy",()=>{e.destroyed||(Je("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const Hz=".svg",Wz="image/svg+xml",Vz={extension:{type:Ct.LoadParser,priority:Yo.Low},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(e){return Fl(e,Wz)||Bl(e,Hz)},async load(e,t,r){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?Yz(e):Xz(e,t,r,this.config.crossOrigin)},unload(e){e.destroy(!0)}};async function Xz(e,t,r,n){var A,b,S;const s=await(await _n.get().fetch(e)).blob(),o=URL.createObjectURL(s),a=new Image;a.src=o,a.crossOrigin=n,await a.decode(),URL.revokeObjectURL(o);const u=document.createElement("canvas"),c=u.getContext("2d"),d=((A=t.data)==null?void 0:A.resolution)||v_(e),f=((b=t.data)==null?void 0:b.width)??a.width,m=((S=t.data)==null?void 0:S.height)??a.height;u.width=f*d,u.height=m*d,c.drawImage(a,0,0,f*d,m*d);const{parseAsGraphicsContext:g,...v}=t.data,x=new $h({resource:u,alphaMode:"premultiply-alpha-on-upload",resolution:d,...v});return __(x,r,e)}async function Yz(e){const r=await(await _n.get().fetch(e)).text(),n=new jz;return n.svg(r),n}const qz=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let rl=null,$v=class{constructor(){rl||(rl=URL.createObjectURL(new Blob([qz],{type:"application/javascript"}))),this.worker=new Worker(rl)}};$v.revokeObjectURL=function(){rl&&(URL.revokeObjectURL(rl),rl=null)};const Qz=`(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let nl=null;class BR{constructor(){nl||(nl=URL.createObjectURL(new Blob([Qz],{type:"application/javascript"}))),this.worker=new Worker(nl)}}BR.revokeObjectURL=function(){nl&&(URL.revokeObjectURL(nl),nl=null)};let YA=0,Fy;class Kz{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:r}=new $v;r.addEventListener("message",n=>{r.terminate(),$v.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Fy===void 0&&(Fy=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Fy&&(this._createdWorkers++,t=new BR().worker,t.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,r){await this._initWorkers();const n=new Promise((i,s)=>{this._queue.push({id:t,arguments:r,resolve:i,reject:s})});return this._next(),n}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const r=this._queue.pop(),n=r.id;this._resolveHash[YA]={resolve:r.resolve,reject:r.reject},t.postMessage({data:r.arguments,uuid:YA++,id:n})}}const qA=new Kz,Zz=[".jpeg",".jpg",".png",".webp",".avif"],Jz=["image/jpeg","image/png","image/webp","image/avif"];async function t6(e){const t=await _n.get().fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const LR={name:"loadTextures",extension:{type:Ct.LoadParser,priority:Yo.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return Fl(e,Jz)||Bl(e,Zz)},async load(e,t,r){var s;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await qA.isImageBitmapSupported()?n=await qA.loadImageBitmap(e):n=await t6(e):n=await new Promise(o=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=e,n.complete?o(n):n.onload=()=>{o(n)}});const i=new $h({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((s=t.data)==null?void 0:s.resolution)||v_(e),...t.data});return __(i,r,e)},unload(e){e.destroy(!0)}},OR=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],e6=OR.map(e=>`video/${e.substring(1)}`);function r6(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=i6(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}function n6(e){return new Promise((t,r)=>{e.addEventListener("canplaythrough",n),e.addEventListener("error",i),e.load();function n(){s(),t()}function i(o){s(),r(o)}function s(){e.removeEventListener("canplaythrough",n),e.removeEventListener("error",i)}})}function i6(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}const s6={name:"loadVideo",extension:{type:Ct.LoadParser},config:null,test(e){const t=Fl(e,e6),r=Bl(e,OR);return t||r},async load(e,t,r){var u,c;const n={...Kd.defaultOptions,resolution:((u=t.data)==null?void 0:u.resolution)||v_(e),alphaMode:((c=t.data)==null?void 0:c.alphaMode)||await gR(),...t.data},i=document.createElement("video"),s={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(s).forEach(d=>{const f=s[d];f!==void 0&&i.setAttribute(d,f)}),n.muted===!0&&(i.muted=!0),r6(i,e,n.crossorigin);const o=document.createElement("source");let a;if(e.startsWith("data:"))a=e.slice(5,e.indexOf(";"));else if(!e.startsWith("blob:")){const d=e.split("?")[0].slice(e.lastIndexOf(".")+1).toLowerCase();a=Kd.MIME_TYPES[d]||`video/${d}`}return o.src=e,a&&(o.type=a),new Promise(d=>{const f=async()=>{const m=new Kd({...n,resource:i});i.removeEventListener("canplay",f),t.data.preload&&await n6(i),d(__(m,r,e))};i.addEventListener("canplay",f),i.appendChild(o)})},unload(e){e.destroy(!0)}},DR={extension:Ct.ResolveParser,test:LR.test,parse:e=>{var t;return{resolution:parseFloat(((t=Nl.RETINA_PREFIX.exec(e))==null?void 0:t[1])??"1"),format:e.split(".").pop(),src:e}}},o6={extension:Ct.ResolveParser,test:e=>Nl.RETINA_PREFIX.test(e)&&e.endsWith(".json"),parse:DR.parse};class a6{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Nl,this.loader=new C5,this.cache=vr,this._backgroundLoader=new v5(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var s,o;if(this._initialized){Je("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=t.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,r){this._initialized||await this.init();const n=Jf(t),i=Dn(t).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(t,r){this.resolver.addBundle(t,r)}async loadBundle(t,r){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const i=this.resolver.resolveBundle(t),s={},o=Object.keys(i);let a=0,u=0;const c=()=>{r==null||r(++a/u)},d=o.map(f=>{const m=i[f];return u+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(g=>{s[f]=g})});return await Promise.all(d),n?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolveBundle(t);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return vr.get(t);const r={};for(let n=0;n<t.length;n++)r[n]=vr.get(t[n]);return r}async _mapLoadToResolve(t,r){const n=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const i=await this.loader.load(n,r);this._backgroundLoader.active=!0;const s={};return n.forEach(o=>{const a=i[o.src],u=[o.src];o.alias&&u.push(...o.alias),u.forEach(c=>{s[c]=a}),vr.set(u,a)}),s}async unload(t){this._initialized||await this.init();const r=Dn(t).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Dn(t);const r=this.resolver.resolveBundle(t),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(t){const r=Object.values(t);r.forEach(n=>{vr.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(t){let r=[];t.preferredFormats&&(r=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?r=await n.add(r):t.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in t).forEach(n=>{r.config[n]=t[n]})})}}const Ps=new a6;xi.handleByList(Ct.LoadParser,Ps.loader.parsers).handleByList(Ct.ResolveParser,Ps.resolver.parsers).handleByList(Ct.CacheParser,Ps.cache.parsers).handleByList(Ct.DetectionParser,Ps.detections);xi.add(_5,w5,x5,T5,S5,A5,E5,R5,N5,z5,Vz,LR,s6,DR,o6);const QA={loader:Ct.LoadParser,resolver:Ct.ResolveParser,cache:Ct.CacheParser,detection:Ct.DetectionParser};xi.handle(Ct.Asset,e=>{const t=e.ref;Object.entries(QA).filter(([r])=>!!t[r]).forEach(([r,n])=>xi.add(Object.assign(t[r],{extension:t[r].extension??n})))},e=>{const t=e.ref;Object.keys(QA).filter(r=>!!t[r]).forEach(r=>xi.remove(t[r]))});xi.add(C$,P$);var UR={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ga,function(){var r,n,i=1e3,s=6e4,o=36e5,a=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,d=2628e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:c,months:d,days:a,hours:o,minutes:s,seconds:i,milliseconds:1,weeks:6048e5},g=function(N){return N instanceof T},v=function(N,C,I){return new T(N,I,C.$l)},x=function(N){return n.p(N)+"s"},A=function(N){return N<0},b=function(N){return A(N)?Math.ceil(N):Math.floor(N)},S=function(N){return Math.abs(N)},w=function(N,C){return N?A(N)?{negative:!0,format:""+S(N)+C}:{negative:!1,format:""+N+C}:{negative:!1,format:""}},T=function(){function N(I,B,F){var Y=this;if(this.$d={},this.$l=F,I===void 0&&(this.$ms=0,this.parseFromMilliseconds()),B)return v(I*m[x(B)],this);if(typeof I=="number")return this.$ms=I,this.parseFromMilliseconds(),this;if(typeof I=="object")return Object.keys(I).forEach(function(D){Y.$d[x(D)]=I[D]}),this.calMilliseconds(),this;if(typeof I=="string"){var J=I.match(f);if(J){var U=J.slice(2).map(function(D){return D!=null?Number(D):0});return this.$d.years=U[0],this.$d.months=U[1],this.$d.weeks=U[2],this.$d.days=U[3],this.$d.hours=U[4],this.$d.minutes=U[5],this.$d.seconds=U[6],this.calMilliseconds(),this}}return this}var C=N.prototype;return C.calMilliseconds=function(){var I=this;this.$ms=Object.keys(this.$d).reduce(function(B,F){return B+(I.$d[F]||0)*m[F]},0)},C.parseFromMilliseconds=function(){var I=this.$ms;this.$d.years=b(I/c),I%=c,this.$d.months=b(I/d),I%=d,this.$d.days=b(I/a),I%=a,this.$d.hours=b(I/o),I%=o,this.$d.minutes=b(I/s),I%=s,this.$d.seconds=b(I/i),I%=i,this.$d.milliseconds=I},C.toISOString=function(){var I=w(this.$d.years,"Y"),B=w(this.$d.months,"M"),F=+this.$d.days||0;this.$d.weeks&&(F+=7*this.$d.weeks);var Y=w(F,"D"),J=w(this.$d.hours,"H"),U=w(this.$d.minutes,"M"),D=this.$d.seconds||0;this.$d.milliseconds&&(D+=this.$d.milliseconds/1e3,D=Math.round(1e3*D)/1e3);var z=w(D,"S"),H=I.negative||B.negative||Y.negative||J.negative||U.negative||z.negative,W=J.format||U.format||z.format?"T":"",R=(H?"-":"")+"P"+I.format+B.format+Y.format+W+J.format+U.format+z.format;return R==="P"||R==="-P"?"P0D":R},C.toJSON=function(){return this.toISOString()},C.format=function(I){var B=I||"YYYY-MM-DDTHH:mm:ss",F={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return B.replace(u,function(Y,J){return J||String(F[Y])})},C.as=function(I){return this.$ms/m[x(I)]},C.get=function(I){var B=this.$ms,F=x(I);return F==="milliseconds"?B%=1e3:B=F==="weeks"?b(B/m[F]):this.$d[F],B||0},C.add=function(I,B,F){var Y;return Y=B?I*m[x(B)]:g(I)?I.$ms:v(I,this).$ms,v(this.$ms+Y*(F?-1:1),this)},C.subtract=function(I,B){return this.add(I,B,!0)},C.locale=function(I){var B=this.clone();return B.$l=I,B},C.clone=function(){return v(this.$ms,this)},C.humanize=function(I){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!I)},C.valueOf=function(){return this.asMilliseconds()},C.milliseconds=function(){return this.get("milliseconds")},C.asMilliseconds=function(){return this.as("milliseconds")},C.seconds=function(){return this.get("seconds")},C.asSeconds=function(){return this.as("seconds")},C.minutes=function(){return this.get("minutes")},C.asMinutes=function(){return this.as("minutes")},C.hours=function(){return this.get("hours")},C.asHours=function(){return this.as("hours")},C.days=function(){return this.get("days")},C.asDays=function(){return this.as("days")},C.weeks=function(){return this.get("weeks")},C.asWeeks=function(){return this.as("weeks")},C.months=function(){return this.get("months")},C.asMonths=function(){return this.as("months")},C.years=function(){return this.get("years")},C.asYears=function(){return this.as("years")},N}(),M=function(N,C,I){return N.add(C.years()*I,"y").add(C.months()*I,"M").add(C.days()*I,"d").add(C.hours()*I,"h").add(C.minutes()*I,"m").add(C.seconds()*I,"s").add(C.milliseconds()*I,"ms")};return function(N,C,I){r=I,n=I().$utils(),I.duration=function(Y,J){var U=I.locale();return v(Y,{$l:U},J)},I.isDuration=g;var B=C.prototype.add,F=C.prototype.subtract;C.prototype.add=function(Y,J){return g(Y)?M(this,Y,1):B.bind(this)(Y,J)},C.prototype.subtract=function(Y,J){return g(Y)?M(this,Y,-1):F.bind(this)(Y,J)}}})})(UR);var l6=UR.exports;const u6=Ki(l6);async function h6(){XI.extend(u6);const t=await(await fetch("/assets/pngs.json")).json(),r=[];for(const s of t){const o=s.split(".")[0];Ps.add({alias:o,src:`/assets/${s}`}),r.push(o)}const i=await(await fetch("/assets/fonts.json")).json();for(const s of i){const o=s.split(".")[0];Ps.add({alias:o,src:`/assets/${s}`})}Ps.backgroundLoad(r),r.forEach(s=>Ps.load(s))}const c6=Gt.withFilters(Gt.Container,{}),zt=1e3;function d6(){const e=Dh(n=>({x:n.x,y:n.y})),t=-e.x%zt,r=-e.y%zt;return _t.jsxs(c6,{x:t,y:r,children:[_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:0,y:-zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:-zt,y:0}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:-zt,y:-zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:zt,y:zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:0,y:zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:zt,y:0}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:zt,y:-zt}),_t.jsx(Gt.Sprite,{image:"/assets/mapbase.webp",width:zt,height:zt,x:-zt,y:+zt})]})}const x_=new xh({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:24,fontWeight:"400",fill:["#ffffff","#66ccff"],stroke:"#000000",strokeThickness:2,dropShadow:!0,dropShadowColor:"#a0a0a0",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:2});function f6(){const e=kp(t=>t.levels.extinguisher);return _t.jsx(Gt.Text,{text:`Level: ${e}`,anchor:.5,x:100,y:40,style:x_})}function p6(){const e=a_(n=>n.score),[t,r]=kp(n=>[n.levels.extinguisher,n.upgrade]);return Ht.useEffect(()=>{Math.floor(e/100)>t&&r("extinguisher")},[t,e,r]),_t.jsx(Gt.Text,{text:`Score: ${e}`,anchor:.5,x:pn-100,y:40,style:x_})}function m6(){const[e,t]=Ht.useState(0);Gt.useTick((n,i)=>{t(s=>s+i.deltaMS)});const r=WI(n=>n.setSpeed);return HI(()=>r(n=>n*1.1),15e3),_t.jsx(Gt.Text,{text:XI(e).format("mm:ss"),anchor:.5,x:pn/2,y:40,style:x_})}function g6(){return _t.jsxs(_t.Fragment,{children:[_t.jsx(m6,{}),_t.jsx(p6,{}),_t.jsx(f6,{})]})}var Mr=function(){return Mr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mr.apply(this,arguments)};function tp(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var re="-ms-",Ku="-moz-",Yt="-webkit-",$R="comm",Fp="rule",w_="decl",y6="@import",zR="@keyframes",v6="@layer",GR=Math.abs,b_=String.fromCharCode,zv=Object.assign;function _6(e,t){return He(e,0)^45?(((t<<2^He(e,0))<<2^He(e,1))<<2^He(e,2))<<2^He(e,3):0}function jR(e){return e.trim()}function Ni(e,t){return(e=t.exec(e))?e[0]:e}function It(e,t,r){return e.replace(t,r)}function Zd(e,t,r){return e.indexOf(t,r)}function He(e,t){return e.charCodeAt(t)|0}function wl(e,t,r){return e.slice(t,r)}function di(e){return e.length}function HR(e){return e.length}function ku(e,t){return t.push(e),e}function x6(e,t){return e.map(t).join("")}function KA(e,t){return e.filter(function(r){return!Ni(r,t)})}var Bp=1,bl=1,WR=0,xn=0,Ce=0,Ll="";function Lp(e,t,r,n,i,s,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Bp,column:bl,length:o,return:"",siblings:a}}function gs(e,t){return zv(Lp("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function _a(e){for(;e.root;)e=gs(e.root,{children:[e]});ku(e,e.siblings)}function w6(){return Ce}function b6(){return Ce=xn>0?He(Ll,--xn):0,bl--,Ce===10&&(bl=1,Bp--),Ce}function Wn(){return Ce=xn<WR?He(Ll,xn++):0,bl++,Ce===10&&(bl=1,Bp++),Ce}function Fo(){return He(Ll,xn)}function Jd(){return xn}function Op(e,t){return wl(Ll,e,t)}function Gv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S6(e){return Bp=bl=1,WR=di(Ll=e),xn=0,[]}function A6(e){return Ll="",e}function By(e){return jR(Op(xn-1,jv(e===91?e+2:e===40?e+1:e)))}function E6(e){for(;(Ce=Fo())&&Ce<33;)Wn();return Gv(e)>2||Gv(Ce)>3?"":" "}function T6(e,t){for(;--t&&Wn()&&!(Ce<48||Ce>102||Ce>57&&Ce<65||Ce>70&&Ce<97););return Op(e,Jd()+(t<6&&Fo()==32&&Wn()==32))}function jv(e){for(;Wn();)switch(Ce){case e:return xn;case 34:case 39:e!==34&&e!==39&&jv(Ce);break;case 40:e===41&&jv(e);break;case 92:Wn();break}return xn}function C6(e,t){for(;Wn()&&e+Ce!==57;)if(e+Ce===84&&Fo()===47)break;return"/*"+Op(t,xn-1)+"*"+b_(e===47?e:Wn())}function P6(e){for(;!Gv(Fo());)Wn();return Op(e,xn)}function I6(e){return A6(tf("",null,null,null,[""],e=S6(e),0,[0],e))}function tf(e,t,r,n,i,s,o,a,u){for(var c=0,d=0,f=o,m=0,g=0,v=0,x=1,A=1,b=1,S=0,w="",T=i,M=s,N=n,C=w;A;)switch(v=S,S=Wn()){case 40:if(v!=108&&He(C,f-1)==58){Zd(C+=It(By(S),"&","&\f"),"&\f",GR(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:C+=By(S);break;case 9:case 10:case 13:case 32:C+=E6(v);break;case 92:C+=T6(Jd()-1,7);continue;case 47:switch(Fo()){case 42:case 47:ku(R6(C6(Wn(),Jd()),t,r,u),u);break;default:C+="/"}break;case 123*x:a[c++]=di(C)*b;case 125*x:case 59:case 0:switch(S){case 0:case 125:A=0;case 59+d:b==-1&&(C=It(C,/\f/g,"")),g>0&&di(C)-f&&ku(g>32?JA(C+";",n,r,f-1,u):JA(It(C," ","")+";",n,r,f-2,u),u);break;case 59:C+=";";default:if(ku(N=ZA(C,t,r,c,d,i,a,w,T=[],M=[],f,s),s),S===123)if(d===0)tf(C,t,N,N,T,s,f,a,M);else switch(m===99&&He(C,3)===110?100:m){case 100:case 108:case 109:case 115:tf(e,N,N,n&&ku(ZA(e,N,N,0,0,i,a,w,i,T=[],f,M),M),i,M,f,a,n?T:M);break;default:tf(C,N,N,N,[""],M,0,a,M)}}c=d=g=0,x=b=1,w=C="",f=o;break;case 58:f=1+di(C),g=v;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&b6()==125)continue}switch(C+=b_(S),S*x){case 38:b=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(di(C)-1)*b,b=1;break;case 64:Fo()===45&&(C+=By(Wn())),m=Fo(),d=f=di(w=C+=P6(Jd())),S++;break;case 45:v===45&&di(C)==2&&(x=0)}}return s}function ZA(e,t,r,n,i,s,o,a,u,c,d,f){for(var m=i-1,g=i===0?s:[""],v=HR(g),x=0,A=0,b=0;x<n;++x)for(var S=0,w=wl(e,m+1,m=GR(A=o[x])),T=e;S<v;++S)(T=jR(A>0?g[S]+" "+w:It(w,/&\f/g,g[S])))&&(u[b++]=T);return Lp(e,t,r,i===0?Fp:a,u,c,d,f)}function R6(e,t,r,n){return Lp(e,t,r,$R,b_(w6()),wl(e,2,-2),0,n)}function JA(e,t,r,n,i){return Lp(e,t,r,w_,wl(e,0,n),wl(e,n+1,-1),n,i)}function VR(e,t,r){switch(_6(e,t)){case 5103:return Yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+e+e;case 4789:return Ku+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+e+Ku+e+re+e+e;case 5936:switch(He(e,t+11)){case 114:return Yt+e+re+It(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yt+e+re+It(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yt+e+re+It(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Yt+e+re+e+e;case 6165:return Yt+e+re+"flex-"+e+e;case 5187:return Yt+e+It(e,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+re+"flex-$1$2")+e;case 5443:return Yt+e+re+"flex-item-"+It(e,/flex-|-self/g,"")+(Ni(e,/flex-|baseline/)?"":re+"grid-row-"+It(e,/flex-|-self/g,""))+e;case 4675:return Yt+e+re+"flex-line-pack"+It(e,/align-content|flex-|-self/g,"")+e;case 5548:return Yt+e+re+It(e,"shrink","negative")+e;case 5292:return Yt+e+re+It(e,"basis","preferred-size")+e;case 6060:return Yt+"box-"+It(e,"-grow","")+Yt+e+re+It(e,"grow","positive")+e;case 4554:return Yt+It(e,/([^-])(transform)/g,"$1"+Yt+"$2")+e;case 6187:return It(It(It(e,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),e,"")+e;case 5495:case 3959:return It(e,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return It(It(e,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+e+e;case 4200:if(!Ni(e,/flex-|baseline/))return re+"grid-column-align"+wl(e,t)+e;break;case 2592:case 3360:return re+It(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,i){return t=i,Ni(n.props,/grid-\w+-end/)})?~Zd(e+(r=r[t].value),"span",0)?e:re+It(e,"-start","")+e+re+"grid-row-span:"+(~Zd(r,"span",0)?Ni(r,/\d+/):+Ni(r,/\d+/)-+Ni(e,/\d+/))+";":re+It(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return Ni(n.props,/grid-\w+-start/)})?e:re+It(It(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return It(e,/(.+)-inline(.+)/,Yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(di(e)-1-t>6)switch(He(e,t+1)){case 109:if(He(e,t+4)!==45)break;case 102:return It(e,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Ku+(He(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Zd(e,"stretch",0)?VR(It(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return It(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,u,c){return re+i+":"+s+c+(o?re+i+"-span:"+(a?u:+u-+s)+c:"")+e});case 4949:if(He(e,t+6)===121)return It(e,":",":"+Yt)+e;break;case 6444:switch(He(e,He(e,14)===45?18:11)){case 120:return It(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Yt+(He(e,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+re+"$2box$3")+e;case 100:return It(e,":",":"+re)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return It(e,"scroll-","scroll-snap-")+e}return e}function ep(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function M6(e,t,r,n){switch(e.type){case v6:if(e.children.length)break;case y6:case w_:return e.return=e.return||e.value;case $R:return"";case zR:return e.return=e.value+"{"+ep(e.children,n)+"}";case Fp:if(!di(e.value=e.props.join(",")))return""}return di(r=ep(e.children,n))?e.return=e.value+"{"+r+"}":""}function k6(e){var t=HR(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function N6(e){return function(t){t.root||(t=t.return)&&e(t)}}function F6(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case w_:e.return=VR(e.value,e.length,r);return;case zR:return ep([gs(e,{value:It(e.value,"@","@"+Yt)})],n);case Fp:if(e.length)return x6(r=e.props,function(i){switch(Ni(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":_a(gs(e,{props:[It(i,/:(read-\w+)/,":"+Ku+"$1")]})),_a(gs(e,{props:[i]})),zv(e,{props:KA(r,n)});break;case"::placeholder":_a(gs(e,{props:[It(i,/:(plac\w+)/,":"+Yt+"input-$1")]})),_a(gs(e,{props:[It(i,/:(plac\w+)/,":"+Ku+"$1")]})),_a(gs(e,{props:[It(i,/:(plac\w+)/,re+"input-$1")]})),_a(gs(e,{props:[i]})),zv(e,{props:KA(r,n)});break}return""})}}var B6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gr={},Sl=typeof process<"u"&&Gr!==void 0&&(Gr.REACT_APP_SC_ATTR||Gr.SC_ATTR)||"data-styled",XR="active",YR="data-styled-version",Dp="6.1.11",S_=`/*!sc*/
`,A_=typeof window<"u"&&"HTMLElement"in window,L6=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==""?Gr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.SC_DISABLE_SPEEDY!==void 0&&Gr.SC_DISABLE_SPEEDY!==""&&Gr.SC_DISABLE_SPEEDY!=="false"&&Gr.SC_DISABLE_SPEEDY),Up=Object.freeze([]),Al=Object.freeze({});function O6(e,t,r){return r===void 0&&(r=Al),e.theme!==r.theme&&e.theme||t||r.theme}var qR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),D6=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,U6=/(^-|-$)/g;function tE(e){return e.replace(D6,"-").replace(U6,"")}var $6=/(a)(d)/gi,Td=52,eE=function(e){return String.fromCharCode(e+(e>25?39:97))};function Hv(e){var t,r="";for(t=Math.abs(e);t>Td;t=t/Td|0)r=eE(t%Td)+r;return(eE(t%Td)+r).replace($6,"$1-$2")}var Ly,QR=5381,za=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},KR=function(e){return za(QR,e)};function z6(e){return Hv(KR(e)>>>0)}function G6(e){return e.displayName||e.name||"Component"}function Oy(e){return typeof e=="string"&&!0}var ZR=typeof Symbol=="function"&&Symbol.for,JR=ZR?Symbol.for("react.memo"):60115,j6=ZR?Symbol.for("react.forward_ref"):60112,H6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},W6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},V6=((Ly={})[j6]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ly[JR]=tM,Ly);function rE(e){return("type"in(t=e)&&t.type.$$typeof)===JR?tM:"$$typeof"in e?V6[e.$$typeof]:H6;var t}var X6=Object.defineProperty,Y6=Object.getOwnPropertyNames,nE=Object.getOwnPropertySymbols,q6=Object.getOwnPropertyDescriptor,Q6=Object.getPrototypeOf,iE=Object.prototype;function eM(e,t,r){if(typeof t!="string"){if(iE){var n=Q6(t);n&&n!==iE&&eM(e,n,r)}var i=Y6(t);nE&&(i=i.concat(nE(t)));for(var s=rE(e),o=rE(t),a=0;a<i.length;++a){var u=i[a];if(!(u in W6||r&&r[u]||o&&u in o||s&&u in s)){var c=q6(t,u);try{X6(e,u,c)}catch{}}}}return e}function El(e){return typeof e=="function"}function E_(e){return typeof e=="object"&&"styledComponentId"in e}function Io(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function sE(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function Ch(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Wv(e,t,r){if(r===void 0&&(r=!1),!r&&!Ch(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=Wv(e[n],t[n]);else if(Ch(t))for(var n in t)e[n]=Wv(e[n],t[n]);return e}function T_(e,t){Object.defineProperty(e,"toString",{value:t})}function zh(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var K6=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;t>=s;)if((s<<=1)<0)throw zh(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),u=(o=0,r.length);o<u;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),i=n+r;this.groupSizes[t]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(S_);return r},e}(),ef=new Map,rp=new Map,rf=1,Cd=function(e){if(ef.has(e))return ef.get(e);for(;rp.has(rf);)rf++;var t=rf++;return ef.set(e,t),rp.set(t,e),t},Z6=function(e,t){rf=t+1,ef.set(e,t),rp.set(t,e)},J6="style[".concat(Sl,"][").concat(YR,'="').concat(Dp,'"]'),tG=new RegExp("^".concat(Sl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eG=function(e,t,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&e.registerName(t,n)},rG=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(S_),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var u=a.match(tG);if(u){var c=0|parseInt(u[1],10),d=u[2];c!==0&&(Z6(d,c),eG(e,d,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function nG(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var rM=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(a){var u=Array.from(a.querySelectorAll("style[".concat(Sl,"]")));return u[u.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(Sl,XR),n.setAttribute(YR,Dp);var o=nG();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},iG=function(){function e(t){this.element=rM(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw zh(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),sG=function(){function e(t){this.element=rM(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),oG=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),oE=A_,aG={isServer:!A_,useCSSOMInjection:!L6},nM=function(){function e(t,r,n){t===void 0&&(t=Al),r===void 0&&(r={});var i=this;this.options=Mr(Mr({},aG),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&A_&&oE&&(oE=!1,function(s){for(var o=document.querySelectorAll(J6),a=0,u=o.length;a<u;a++){var c=o[a];c&&c.getAttribute(Sl)!==XR&&(rG(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),T_(this,function(){return function(s){for(var o=s.getTag(),a=o.length,u="",c=function(f){var m=function(b){return rp.get(b)}(f);if(m===void 0)return"continue";var g=s.names.get(m),v=o.getGroup(f);if(g===void 0||v.length===0)return"continue";var x="".concat(Sl,".g").concat(f,'[id="').concat(m,'"]'),A="";g!==void 0&&g.forEach(function(b){b.length>0&&(A+="".concat(b,","))}),u+="".concat(v).concat(x,'{content:"').concat(A,'"}').concat(S_)},d=0;d<a;d++)c(d);return u}(i)})}return e.registerId=function(t){return Cd(t)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Mr(Mr({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new oG(i):n?new iG(i):new sG(i)}(this.options),new K6(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Cd(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Cd(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Cd(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),lG=/&/g,uG=/^\s*\/\/.*$/gm;function iM(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=iM(r.children,t)),r})}function hG(e){var t,r,n,i=Al,s=i.options,o=s===void 0?Al:s,a=i.plugins,u=a===void 0?Up:a,c=function(m,g,v){return v.startsWith(r)&&v.endsWith(r)&&v.replaceAll(r,"").length>0?".".concat(t):m},d=u.slice();d.push(function(m){m.type===Fp&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(lG,r).replace(n,c))}),o.prefix&&d.push(F6),d.push(M6);var f=function(m,g,v,x){g===void 0&&(g=""),v===void 0&&(v=""),x===void 0&&(x="&"),t=x,r=g,n=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(uG,""),b=I6(v||g?"".concat(v," ").concat(g," { ").concat(A," }"):A);o.namespace&&(b=iM(b,o.namespace));var S=[];return ep(b,k6(d.concat(N6(function(w){return S.push(w)})))),S};return f.hash=u.length?u.reduce(function(m,g){return g.name||zh(15),za(m,g.name)},QR).toString():"",f}var cG=new nM,Vv=hG(),sM=cr.createContext({shouldForwardProp:void 0,styleSheet:cG,stylis:Vv});sM.Consumer;cr.createContext(void 0);function aE(){return Ht.useContext(sM)}var dG=function(){function e(t,r){var n=this;this.inject=function(i,s){s===void 0&&(s=Vv);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,T_(this,function(){throw zh(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Vv),this.name+t.hash},e}(),fG=function(e){return e>="A"&&e<="Z"};function lE(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;fG(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var oM=function(e){return e==null||e===!1||e===""},aM=function(e){var t,r,n=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!oM(s)&&(Array.isArray(s)&&s.isCss||El(s)?n.push("".concat(lE(i),":"),s,";"):Ch(s)?n.push.apply(n,tp(tp(["".concat(i," {")],aM(s),!1),["}"],!1)):n.push("".concat(lE(i),": ").concat((t=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in B6||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Bo(e,t,r,n){if(oM(e))return[];if(E_(e))return[".".concat(e.styledComponentId)];if(El(e)){if(!El(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Bo(i,t,r,n)}var s;return e instanceof dG?r?(e.inject(r,n),[e.getName(n)]):[e]:Ch(e)?aM(e):Array.isArray(e)?Array.prototype.concat.apply(Up,e.map(function(o){return Bo(o,t,r,n)})):[e.toString()]}function pG(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(El(r)&&!E_(r))return!1}return!0}var mG=KR(Dp),gG=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&pG(t),this.componentId=r,this.baseHash=za(mG,r),this.baseStyle=n,nM.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Io(i,this.staticRulesId);else{var s=sE(Bo(this.rules,t,r,n)),o=Hv(za(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=Io(i,o),this.staticRulesId=o}else{for(var u=za(this.baseHash,n.hash),c="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")c+=f;else if(f){var m=sE(Bo(f,t,r,n));u=za(u,m+d),c+=m}}if(c){var g=Hv(u>>>0);r.hasNameForId(this.componentId,g)||r.insertRules(this.componentId,g,n(c,".".concat(g),void 0,this.componentId)),i=Io(i,g)}}return i},e}(),lM=cr.createContext(void 0);lM.Consumer;var Dy={};function yG(e,t,r){var n=E_(e),i=e,s=!Oy(e),o=t.attrs,a=o===void 0?Up:o,u=t.componentId,c=u===void 0?function(T,M){var N=typeof T!="string"?"sc":tE(T);Dy[N]=(Dy[N]||0)+1;var C="".concat(N,"-").concat(z6(Dp+N+Dy[N]));return M?"".concat(M,"-").concat(C):C}(t.displayName,t.parentComponentId):u,d=t.displayName,f=d===void 0?function(T){return Oy(T)?"styled.".concat(T):"Styled(".concat(G6(T),")")}(e):d,m=t.displayName&&t.componentId?"".concat(tE(t.displayName),"-").concat(t.componentId):t.componentId||c,g=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(n&&i.shouldForwardProp){var x=i.shouldForwardProp;if(t.shouldForwardProp){var A=t.shouldForwardProp;v=function(T,M){return x(T,M)&&A(T,M)}}else v=x}var b=new gG(r,m,n?i.componentStyle:void 0);function S(T,M){return function(N,C,I){var B=N.attrs,F=N.componentStyle,Y=N.defaultProps,J=N.foldedComponentIds,U=N.styledComponentId,D=N.target,z=cr.useContext(lM),H=aE(),W=N.shouldForwardProp||H.shouldForwardProp,R=O6(C,z,Y)||Al,L=function(yt,pt,bt){for(var Ft,Rt=Mr(Mr({},pt),{className:void 0,theme:bt}),Et=0;Et<yt.length;Et+=1){var gt=El(Ft=yt[Et])?Ft(Rt):Ft;for(var St in gt)Rt[St]=St==="className"?Io(Rt[St],gt[St]):St==="style"?Mr(Mr({},Rt[St]),gt[St]):gt[St]}return pt.className&&(Rt.className=Io(Rt.className,pt.className)),Rt}(B,C,R),k=L.as||D,G={};for(var V in L)L[V]===void 0||V[0]==="$"||V==="as"||V==="theme"&&L.theme===R||(V==="forwardedAs"?G.as=L.forwardedAs:W&&!W(V,k)||(G[V]=L[V]));var ot=function(yt,pt){var bt=aE(),Ft=yt.generateAndInjectStyles(pt,bt.styleSheet,bt.stylis);return Ft}(F,L),st=Io(J,U);return ot&&(st+=" "+ot),L.className&&(st+=" "+L.className),G[Oy(k)&&!qR.has(k)?"class":"className"]=st,G.ref=I,Ht.createElement(k,G)}(w,T,M)}S.displayName=f;var w=cr.forwardRef(S);return w.attrs=g,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=n?Io(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=m,w.target=n?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=n?function(M){for(var N=[],C=1;C<arguments.length;C++)N[C-1]=arguments[C];for(var I=0,B=N;I<B.length;I++)Wv(M,B[I],!0);return M}({},i.defaultProps,T):T}}),T_(w,function(){return".".concat(w.styledComponentId)}),s&&eM(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function uE(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var hE=function(e){return Object.assign(e,{isCss:!0})};function vG(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(El(e)||Ch(e))return hE(Bo(uE(Up,tp([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?Bo(n):hE(Bo(uE(n,t)))}function Xv(e,t,r){if(r===void 0&&(r=Al),!t)throw zh(1,t);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,r,vG.apply(void 0,tp([i],s,!1)))};return n.attrs=function(i){return Xv(e,t,Mr(Mr({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return Xv(e,t,Mr(Mr({},r),i))},n}var uM=function(e){return Xv(yG,e)},hM=uM;qR.forEach(function(e){hM[e]=uM(e)});const _G=()=>{const[e,t]=Uh(s=>[s.addPlayer,s.removePlayer]),r=DI(s=>s.gameover);Ht.useEffect(()=>(e({id:"star",name:"Star",maxHp:50,speed:12,hp:50,score:0,strength:1,cooldown:1,speedScale:1,pos:{x:0,y:0}}),()=>t("star")),[e,t]);const[n,i]=Ht.useState(!1);return Ht.useEffect(()=>{h6().then(()=>i(!0))},[]),_t.jsxs(_t.Fragment,{children:[!n&&_t.jsx("div",{children:"Loading..."}),n&&_t.jsx(xG,{}),r&&_t.jsxs(wG,{children:["Game Over",_t.jsx("div",{style:{fontSize:24,fontWeight:400},children:"Refresh to play again"})]})]})};function xG(){const e=Uh(r=>r.players),t=o_(r=>Object.keys(r.keyState).reduce((n,i)=>(r.keyState[i]&&n.push(i),n),[]));return _t.jsxs(_t.Fragment,{children:[_t.jsxs(Gt.Stage,{width:pn,height:pi,options:{autoStart:!0,background:"aliceblue"},children:[_t.jsx(d6,{}),_t.jsx(d$,{}),Object.keys(e).map(r=>_t.jsxs(Ht.Fragment,{children:[_t.jsx(b$,{playerId:r}),_t.jsx(i$,{id:r})]},r)),_t.jsx(Gt.Container,{x:200,y:200,children:_t.jsx(Gt.Text,{text:t.join(", "),anchor:.5,x:220,y:150})}),_t.jsx(g6,{})]}),_t.jsx(G4,{})]})}const wG=hM.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 50px;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.4);
  z-index: 10;
  font-size: 50px;
  font-weight: 600;
  color: white;
`;Uy.createRoot(document.getElementById("root")).render(_t.jsx(cr.StrictMode,{children:_t.jsx(_G,{})}));export{$$ as A,y5 as B,wn as C,_n as D,Ct as E,$z as F,Z5 as G,RR as H,$h as I,Yo as L,Qt as M,hr as P,Ke as R,bd as T,Fv as U,Xo as a,Ys as b,Kt as c,_l as d,xi as e,Qi as f,g5 as g,jz as h,Db as i,jo as j,Th as k,Ir as l,va as m,LG as n,mi as o,zz as p,vr as q,G$ as r,SR as s,Bi as t,Ze as u,Go as v,Je as w,PR as x,Si as y,FA as z};
